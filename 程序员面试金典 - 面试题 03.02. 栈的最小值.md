> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/min-stack-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

è¯·è®¾è®¡ä¸€ä¸ªæ ˆï¼Œé™¤äº†å¸¸è§„æ ˆæ”¯æŒçš„ pop ä¸ push å‡½æ•°ä»¥å¤–ï¼Œè¿˜æ”¯æŒ min å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›æ ˆå…ƒç´ ä¸­çš„æœ€å°å€¼ã€‚æ‰§è¡Œ pushã€pop å’Œ min æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¸º O(1)ã€‚

### ç¤ºä¾‹ï¼š

- MinStack minStack = new MinStack();
- minStack.push(-2);
- minStack.push(0);
- minStack.push(-3);
- minStack.getMin(); --> è¿”å› -3.
- minStack.pop();
- minStack.top(); --> è¿”å› 0.
- minStack.getMin(); --> è¿”å› -2.

## é¢˜ç›®æ€è€ƒ

1. å†…éƒ¨éœ€è¦ä»€ä¹ˆæ•°æ®ç»“æ„æ¥æ»¡è¶³æ‰€æœ‰æ“ä½œéƒ½æ˜¯ O(1), ä¸€ä¸ªæ ˆå¤Ÿå—?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- è¦ä½¿å¾— push å’Œ pop çš„å¤æ‚åº¦ä¸º O(1), ä¼ ç»Ÿçš„æ ˆå°±å¯ä»¥æå®š, éš¾ç‚¹åœ¨äºå¦‚ä½•ä½¿å¾— min å‡½æ•°ä¹Ÿä¸º O(1)
- å¦‚æœæˆ‘ä»¬èƒ½ä¸€ç›´ç»´æŠ¤å½“å‰æ‰€æœ‰å…ƒç´ çš„æœ€å°å€¼, é‚£ä¹ˆ min å‡½æ•°ç›´æ¥è¿”å›å®ƒå°±å¯ä»¥, ä½†é—®é¢˜æ˜¯åœ¨ pop çš„æ—¶å€™æœ‰å¯èƒ½ä¼šæ­£å¥½ pop è¿™ä¸ªæœ€å°å€¼, pop ä¹‹åçš„æœ€å°å€¼(ä¹Ÿå³åŸæ¥çš„æ¬¡å°å€¼)å¦‚ä½•å¾—åˆ°å‘¢?
- è¦å­˜å‚¨å¤šä¸ªæœ€å°å€¼, æ˜¾ç„¶ä¸€ä¸ªå˜é‡ä¸å¤Ÿç”¨. è€Œæ ¹æ®ä¸Šä¸€æ­¥çš„åˆ†æ, è¿™é‡Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘é¢å¤–å¼•å…¥ä¸€ä¸ª**å•è°ƒé€’å‡æ ˆ**, æ ˆé¡¶å­˜å½“å‰æœ€å°å€¼, ä¸‹é¢ä¾æ¬¡æ˜¯æ¬¡å°, ç¬¬ä¸‰å°...
- è¿™æ ·å¦‚æœ pop äº†æœ€å°å€¼çš„è¯, è¿™ä¸ªå•è°ƒæ ˆçš„æ ˆé¡¶ä»ä¼šä¿å­˜ pop åçš„æœ€å°å€¼, æ¯æ¬¡ min åªéœ€è¦å–è¿™ä¸ªæ ˆçš„æ ˆé¡¶å³å¯
- è€Œ push çš„æ—¶å€™ä¹Ÿéœ€è¦é¢å¤–çš„æ“ä½œ, ç”±äºæ˜¯å•è°ƒæ ˆ, åªéœ€è¦åœ¨æ–°çš„å€¼**å°äºç­‰äº**æ ˆé¡¶çš„æ—¶å€™æ‰ push åˆ°å•è°ƒæ ˆä¸­.ç‰¹åˆ«æ³¨æ„åœ¨ç­‰äºæ ˆé¡¶çš„æ—¶å€™ä¹Ÿè¦ push åˆ°å•è°ƒæ ˆä¸­, è¿™æ˜¯å› ä¸ºå¦‚æœå¯¹äºé‡å¤çš„æœ€å°å€¼ x ä¸ push, é‚£ä¹ˆåœ¨åç»­çš„ pop å…¶ä¸­ä¸€ä¸ª x ä¹‹å, æ ˆé¡¶(ä¸å†æ˜¯ x)å°±å’Œå®é™…æœ€å°å€¼(ä»ä¸º x)ä¸ä¸€è‡´äº†

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(1)`
  - å„ç§æ“ä½œéƒ½æ˜¯å¸¸æ•°å¤æ‚åº¦
- ç©ºé—´å¤æ‚åº¦ `O(N)`
  - ä½¿ç”¨äº†ä¸¤ä¸ªæ ˆ

### ä»£ç 

```python
class MinStack:
    def __init__(self):
        """
        initialize your data structure here.
        """
        # ä¸€ä¸ªæ™®é€šæ ˆå’Œä¸€ä¸ªå•è°ƒé€’å‡æ ˆ
        self.minstack = []
        self.stack = []

    def push(self, x: int) -> None:
        self.stack.append(x)
        if not self.minstack or x <= self.minstack[-1]:
            # å¦‚æœå•è°ƒæ ˆé¡¶ä¸ºç©ºæˆ–è€…å½“å‰æ–°å€¼å°äºç­‰äºå•è°ƒæ ˆé¡¶æ‰push
            # æ³¨æ„è¿™é‡Œç­‰äºä¹Ÿéœ€è¦push. å¦‚æœå¯¹äºé‡å¤çš„æœ€å°å€¼ x ä¸ push, é‚£ä¹ˆåœ¨åç»­çš„ pop å…¶ä¸­ä¸€ä¸ª x ä¹‹å, æ ˆé¡¶(ä¸å†æ˜¯ x)å°±å’Œå®é™…æœ€å°å€¼(ä»ä¸º x)ä¸ä¸€è‡´äº†
            self.minstack.append(x)

    def pop(self) -> None:
        if not self.stack:
            return
        x = self.stack.pop()
        if x == self.minstack[-1]:
            # å¦‚æœå•è°ƒæ ˆé¡¶æ°å¥½ç­‰äºpopçš„å€¼, ä¹Ÿè¦popå•è°ƒæ ˆ
            self.minstack.pop()

    def top(self) -> int:
        if not self.stack:
            return -1
        return self.stack[-1]

    def getMin(self) -> int:
        if not self.minstack:
            return -1
        return self.minstack[-1]
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: ç®—æ³•ç²¾é€‰, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
