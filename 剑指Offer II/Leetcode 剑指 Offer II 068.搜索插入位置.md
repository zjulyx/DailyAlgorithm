> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/N6YdxV/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ’åºçš„æ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ target ï¼Œè¯·åœ¨æ•°ç»„ä¸­æ‰¾åˆ° target ï¼Œå¹¶è¿”å›å…¶ä¸‹æ ‡ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥: nums = [1,3,5,6], target = 5
- è¾“å‡º: 2

### ç¤ºä¾‹ 2:

- è¾“å…¥: nums = [1,3,5,6], target = 2
- è¾“å‡º: 1

### ç¤ºä¾‹ 3:

- è¾“å…¥: nums = [1,3,5,6], target = 7
- è¾“å‡º: 4

### ç¤ºä¾‹ 4:

- è¾“å…¥: nums = [1,3,5,6], target = 0
- è¾“å‡º: 0

### ç¤ºä¾‹ 5:

- è¾“å…¥: nums = [1], target = 0
- è¾“å‡º: 0

### æç¤º:

- 1 <= nums.length <= 10^4
- -10^4 <= nums[i] <= 10^4
- nums ä¸ºæ— é‡å¤å…ƒç´ çš„å‡åºæ’åˆ—æ•°ç»„
- -10^4 <= target <= 10^4

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•åˆ©ç”¨æ•°ç»„çš„æœ‰åºæ€§?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, ä¸€ä¸ªæœ€ç›´æ¥çš„æ€è·¯å°±æ˜¯éå†æ•°ç»„, è¿”å›ç¬¬ä¸€ä¸ªå¤§äºç­‰äº target çš„ä¸‹æ ‡, æ²¡æœ‰çš„è¯åˆ™è¿”å›æ•°ç»„é•¿åº¦ä½œä¸ºæ’å…¥ä½ç½®
- ä¸è¿‡è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† O(N), ä¸æ»¡è¶³é¢˜ç›®è¦æ±‚, å¦‚ä½•ä¼˜åŒ–å‘¢?
- ç”±äºæ•°ç»„æœ‰åº, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç»å…¸çš„äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾ target
- å¦‚æœ target å­˜åœ¨äºæ•°ç»„ä¸­, åˆ™äºŒåˆ†æŸ¥æ‰¾åˆ°å¯¹åº”ä¸‹æ ‡åç›´æ¥è¿”å›
- å¦‚æœ target ä¸å­˜åœ¨äºæ•°ç»„ä¸­, åˆ™å…¶æ’å…¥ä½ç½®æ˜¯ç¬¬ä¸€ä¸ªå€¼å¤§äº target çš„ä¸‹æ ‡, æˆ–è€…æ•°ç»„é•¿åº¦ (å½“æ‰€æœ‰å€¼éƒ½å°äº target æ—¶)
- å…·ä½“åšæ³•å¦‚ä¸‹:
  1. åˆå§‹åŒ–æ’å…¥ä½ç½® res ä¸ºæ•°ç»„é•¿åº¦ (æœ€å¤§çš„æ’å…¥ä½ç½®)
  2. åˆå§‹åŒ–å·¦å³è¾¹ç•Œ s å’Œ e åˆ†åˆ«ä¸º 0 å’Œæœ€åä¸€ä¸ªä¸‹æ ‡, ä»£è¡¨æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„
  3. ä½¿ç”¨ while å¾ªç¯ä¿è¯å½“å‰æŸ¥æ‰¾èŒƒå›´æœ‰æ•ˆ, å³æ»¡è¶³ s<=e
  4. è®¡ç®—å½“å‰ä¸¤è€…ä¸­ç‚¹ m, å¹¶æ¯”è¾ƒå¯¹åº”çš„å€¼å’Œ target çš„å…³ç³»
  5. å¦‚æœä¸­ç‚¹å€¼ç­‰äº target, åˆ™è¯´æ˜æ‰¾åˆ°äº† target, ç›´æ¥è¿”å›å…¶ä¸‹æ ‡ m
  6. å¦‚æœä¸­ç‚¹å€¼å°äº target, åˆ™ m ä¸å¯èƒ½æ˜¯æ’å…¥ä½ç½®, ç›´æ¥å°† s è®¾ç½®ä¸º m+1, ç»§ç»­æŸ¥æ‰¾å³åŠéƒ¨åˆ†
  7. å¦‚æœä¸­ç‚¹å€¼å¤§äº target, åˆ™ m å¯èƒ½æ˜¯æ’å…¥ä½ç½®, æ›´æ–° res ä¸º res å’Œ m çš„è¾ƒå°å€¼, ç„¶åå°† e è®¾ç½®ä¸º m-1, ç»§ç»­æŸ¥æ‰¾å·¦åŠéƒ¨åˆ†
  8. æœ€å, éå†å®Œæ‰€æœ‰å‰ç¼€é•¿åº¦åçš„ res å³ä¸ºæ‰€æ±‚
- ä¸‹é¢ä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(logN): äºŒåˆ†æŸ¥æ‰¾æ¯æ¬¡éƒ½ä¼šå°†é—®é¢˜è§„æ¨¡å‡åŠ, æ‰€ä»¥æ˜¯ O(logN)
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå¸¸æ•°ç©ºé—´çš„å˜é‡

#### ä»£ç 

```python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        # å› ä¸ºæ’å…¥ä½ç½®å¯èƒ½æ˜¯æ•°ç»„æœ«å°¾, æ‰€ä»¥resè¦åˆå§‹åŒ–ä¸ºæ•°ç»„é•¿åº¦
        res = len(nums)
        s, e = 0, len(nums) - 1
        while s <= e:
            m = (s + e) >> 1
            if nums[m] == target:
                # æ‰¾åˆ°targetäº†, è¿”å›ä¸‹æ ‡
                return m
            elif nums[m] < target:
                # å½“å‰æ•°å­—å°äºtarget, ä¸€å®šä¸å¯èƒ½æ˜¯æ’å…¥ä½ç½®
                s = m + 1
            else:
                # å½“å‰æ•°å­—å¤§äºtarget, å¯èƒ½æ˜¯æ’å…¥ä½ç½®, resæ›´æ–°ä¸ºä¸¤è€…è¾ƒå°å€¼
                res = min(res, m)
                e = m - 1
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
