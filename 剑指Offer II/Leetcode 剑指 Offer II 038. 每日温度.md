> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/iIQa4I)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ temperatures ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼Œè¦æ±‚å…¶å¯¹åº”ä½ç½®çš„è¾“å‡ºä¸ºï¼šè¦æƒ³è§‚æµ‹åˆ°æ›´é«˜çš„æ°”æ¸©ï¼Œè‡³å°‘éœ€è¦ç­‰å¾…çš„å¤©æ•°ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥: temperatures = [73,74,75,71,69,72,76,73]
- è¾“å‡º: [1,1,4,2,1,1,0,0]

### ç¤ºä¾‹ 2:

- è¾“å…¥: temperatures = [30,40,50,60]
- è¾“å‡º: [1,1,1,0]

### ç¤ºä¾‹ 3:

- è¾“å…¥: temperatures = [30,60,90]
- è¾“å‡º: [1,1,0]

### æç¤ºï¼š

- 1 <= temperatures.length <= 10^5
- 30 <= temperatures[i] <= 100

## é¢˜ç›®æ€è€ƒ

1. å¯ä»¥ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, æœ€å®¹æ˜“æƒ³åˆ°çš„æ€è·¯æ˜¯æš´åŠ›ä¸¤å±‚å¾ªç¯: å¤–å±‚éå†æ¯ä¸ªèµ·ç‚¹, å†…å±‚éå†ä¹‹åç¬¬ä¸€ä¸ªæ›´é«˜æ¸©åº¦, ä¸¤è€…ä¸‹æ ‡å·®å€¼å°±æ˜¯å½“å‰ä½ç½®è‡³å°‘ç­‰å¾…çš„å¤©æ•°
- ä½†è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† O(N^2), æ ¹æ®é¢˜ç›®è¾“å…¥è§„æ¨¡, è‚¯å®šä¼šè¶…æ—¶, å¦‚ä½•ä¼˜åŒ–å‘¢?
- æ­£å‘éå†æ—¶, ç”±äºæˆ‘ä»¬æ— æ³•çŸ¥é“åç»­æ¸©åº¦æƒ…å†µ, æ‰€ä»¥åªèƒ½æš´åŠ›, é‚£ä¹ˆæˆ‘ä»¬æ¢ä¸ªæ€è·¯, é‡‡ç”¨é€†åºéå†, å®æ—¶ç»Ÿè®¡å½“å‰åç»­æ¸©åº¦åˆ†å¸ƒ
- è¿™é‡Œå¦‚æœæˆ‘ä»¬åªç»´æŠ¤æœ€å¤§æ¸©åº¦å’Œå¯¹åº”ä¸‹æ ‡æ˜¯ä¸å¤Ÿçš„, å› ä¸ºæŸä¸ªæ¸©åº¦çš„åé¢æ›´é«˜æ¸©åº¦ä¸­, ç¦»å®ƒæœ€è¿‘çš„å¹¶ä¸ä¸€å®šå°±æ˜¯æ•´ä¸ªåé¢æœ€é«˜çš„æ¸©åº¦
- æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªé€’å¢çš„æ¸©åº¦å’Œå…¶ä¸‹æ ‡åˆ—è¡¨, ä»è€Œå¿«é€Ÿå®šä½æ¯ä¸ªæ¸©åº¦åé¢çš„ç¬¬ä¸€ä¸ªæ›´é«˜æ¸©åº¦
- æ ¹æ®éœ€æ±‚, æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å•è°ƒæ ˆçš„æ–¹å¼æ¥å®ç°å®ƒ, æ ˆé‡Œé¢å­˜å‚¨ä¸‹æ ‡, ä¸”ä¿è¯ä»æ ˆé¡¶åˆ°æ ˆåº•çš„ä¸‹æ ‡å’Œæ¸©åº¦éƒ½æ˜¯é€’å¢çš„
- åœ¨é€†åºéå†æ¯ä¸ªæ¸©åº¦æ—¶, å…ˆå°†æ ˆé¡¶å°äºç­‰äºå®ƒçš„æ¸©åº¦å¼¹å‡º, åŸå› å¦‚ä¸‹:
  - å½“å‰æ¸©åº¦æ›´é«˜, ä¸”ä¸‹æ ‡æ›´å°, æ„å‘³ç€å†å‘å‰éå†æ—¶, æœ€è¿‘çš„æ›´é«˜æ¸©åº¦åªå¯èƒ½æ˜¯å½“å‰æ¸©åº¦, è€Œä¸å¯èƒ½å†æ˜¯åé¢çš„æ ˆé¡¶æ¸©åº¦äº†
  - æ¢å¥è¯è¯´, æ ˆé¡¶å·²ç»æ²¡ç”¨äº†, æ‰€ä»¥å¯ä»¥å®‰å…¨å¼¹å‡º
- ç„¶ååˆ¤æ–­æ ˆä¸­æ˜¯å¦è¿˜æœ‰å…ƒç´ :
  - å¦‚æœæœ‰, åˆ™æ ˆé¡¶å°±æ˜¯åé¢æœ€è¿‘çš„æ›´é«˜æ¸©åº¦ (å¦åˆ™ä¼šåœ¨ä¸Šä¸€æ­¥è¢«å¼¹å‡º), å®ƒä¸å½“å‰ä¸‹æ ‡çš„å·®å€¼å³ä¸ºéœ€è¦ç­‰å¾…çš„å¤©æ•°
  - å¦‚æœæ²¡æœ‰, åˆ™è¯´æ˜åç»­æ²¡æœ‰æ›´é«˜çš„æ¸©åº¦, ç­‰å¾…å¤©æ•°æ˜¯ 0
- æœ€åå°†å½“å‰ä¸‹æ ‡å‹å…¥æ ˆä¸­, æ­¤æ—¶æ ˆä¸­å­˜å‚¨çš„ä¸‹æ ‡å’Œå¯¹åº”çš„æ¸©åº¦ä»æ ˆé¡¶åˆ°æ ˆåº•éƒ½æ˜¯å•è°ƒé€’å¢çš„
- ä¸‹é¢çš„ä»£ç å°±å¯¹åº”äº†ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹, å¹¶ä¸”æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): æ•°ç»„æ¯ä¸ªå…ƒç´ æœ€å¤šå¤„ç† 2 é (å‹å…¥å’Œå¼¹å‡ºæ ˆ)
- ç©ºé—´å¤æ‚åº¦ O(N): æ ˆæœ€å¤šå­˜ N ä¸ªå…ƒç´ 

#### ä»£ç 

```python
class Solution:
    def dailyTemperatures(self, temperatures: List[int]) -> List[int]:
        n = len(temperatures)
        stack = []
        # åˆå§‹åŒ–ç­‰å¾…å¤©æ•°éƒ½æ˜¯0
        res = [0] * n
        for i in range(n)[::-1]:
            # é€†åºéå†æ¯æ—¥æ¸©åº¦
            t = temperatures[i]
            while stack and temperatures[stack[-1]] <= t:
                # æ ˆé¡¶å­˜åœ¨ä¸”å…¶æ¸©åº¦ä¸è¶…è¿‡å½“å‰æ¸©åº¦, å¼¹å‡º
                # å› ä¸ºå†å‘å‰éå†æ—¶, æœ€è¿‘çš„æ›´é«˜æ¸©åº¦åªå¯èƒ½æ˜¯å½“å‰æ¸©åº¦, è€Œä¸å¯èƒ½å†æ˜¯åé¢çš„æ ˆé¡¶æ¸©åº¦äº†
                # æ¢å¥è¯è¯´, æ ˆé¡¶å·²ç»æ²¡ç”¨äº†, æ‰€ä»¥å¯ä»¥å®‰å…¨å¼¹å‡º
                stack.pop()
            if stack:
                # å¦‚æœæ ˆä¸­ä»æœ‰å…ƒç´ , åˆ™æ ˆé¡¶å°±æ˜¯åé¢æœ€è¿‘çš„æ›´é«˜æ¸©åº¦ (å¦åˆ™ä¼šåœ¨ä¸Šä¸€æ­¥è¢«å¼¹å‡º)
                # å®ƒä¸å½“å‰ä¸‹æ ‡çš„å·®å€¼å³ä¸ºéœ€è¦ç­‰å¾…çš„å¤©æ•°
                res[i] = stack[-1] - i
            # å¦‚æœæ ˆä¸­æ²¡æœ‰å…ƒç´ , åˆ™è¯´æ˜åé¢æ²¡æœ‰æ›´é«˜æ¸©åº¦äº†, ä½¿ç”¨é»˜è®¤å€¼0
            # ç„¶åå°†å½“å‰ä¸‹æ ‡å‹å…¥æ ˆä¸­, æ­¤æ—¶æ ˆä¸­å­˜å‚¨çš„ä¸‹æ ‡å’Œå¯¹åº”çš„æ¸©åº¦ä»æ ˆé¡¶åˆ°æ ˆåº•éƒ½æ˜¯å•è°ƒé€’å¢çš„
            stack.append(i)
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
