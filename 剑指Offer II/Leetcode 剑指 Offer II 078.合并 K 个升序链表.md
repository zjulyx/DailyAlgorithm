> é¢˜ç›®éš¾åº¦: å›°éš¾

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/vvXgSW/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚

è¯·å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚

### ç¤ºä¾‹ 1ï¼š

- è¾“å…¥ï¼šlists = [[1,4,5],[1,3,4],[2,6]]
- è¾“å‡ºï¼š[1,1,2,3,4,4,5,6]
- è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š

```
[
  1->4->5,
  1->3->4,
  2->6
]
```

å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚
1->1->2->3->4->4->5->6

### ç¤ºä¾‹ 2ï¼š

- è¾“å…¥ï¼šlists = []
- è¾“å‡ºï¼š[]

### ç¤ºä¾‹ 3ï¼š

- è¾“å…¥ï¼šlists = [[]]
- è¾“å‡ºï¼š[]

### æç¤ºï¼š

- k == lists.length
- 0 <= k <= 10^4
- 0 <= lists[i].length <= 500
- -10^4 <= lists[i][j] <= 10^4
- lists[i] æŒ‰ å‡åº æ’åˆ—
- lists[i].length çš„æ€»å’Œä¸è¶…è¿‡ 10^4

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•å°½å¯èƒ½ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, ä¸€ä¸ªå¾ˆå®¹æ˜“æƒ³åˆ°çš„æ€è·¯å°±æ˜¯æŒ‰é¡ºåºä¾æ¬¡åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨: ç»´æŠ¤å½“å‰å·²åˆå¹¶çš„é“¾è¡¨é“¾è¡¨, åˆå§‹åŒ–ä¸ºç©º, ç„¶åéå†æ¯ä¸ªé“¾è¡¨, å°†å®ƒä¸å½“å‰å·²åˆå¹¶é“¾è¡¨åˆå¹¶
- ä¸è¿‡è¿™æ ·å·²åˆå¹¶çš„èŠ‚ç‚¹ä¼šè¢«é‡å¤å¤šæ¬¡éå†, å‡è®¾å…±æœ‰ K ä¸ªé“¾è¡¨, æ¯ä¸ªé“¾è¡¨å¹³å‡èŠ‚ç‚¹æ•°ä¸º N, é‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯`N+2N+3N+...+KN=O(NK^2)`,å¦‚ä½•ä¼˜åŒ–å‘¢?
- å›é¡¾ç»å…¸çš„å½’å¹¶æ’åºç®—æ³•, åŒæ ·æ˜¯åˆå¹¶æœ‰åºéƒ¨åˆ†, å®ƒåˆ©ç”¨åˆ†æ²»çš„æ–¹æ³•, å°†æ’åºæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ°äº† O(NlogN)
- è¿™é‡Œåªæ˜¯å°†æ•°ç»„æ¢æˆäº†é“¾è¡¨, æˆ‘ä»¬åŒæ ·å¯ä»¥åˆ©ç”¨ç±»ä¼¼çš„æ–¹æ³•è¿›è¡Œä¼˜åŒ–
- å…·ä½“åšæ³•å¦‚ä¸‹:
  - å–å½“å‰å¾…åˆå¹¶çš„é“¾è¡¨éƒ¨åˆ†çš„èµ·ç‚¹ s å’Œç»ˆç‚¹ e, åˆå§‹ä¼ å…¥çš„è‡ªç„¶æ˜¯ 0 å’Œ k-1
  - ç„¶åè®¡ç®—å…¶åŒºé—´ä¸­ç‚¹ m, é€’å½’åˆå¹¶å·¦å³éƒ¨åˆ†`[s,m]`å’Œ`[m+1,e]`
  - æ­¤æ—¶å¾—åˆ°ä¸¤ä¸ªæœ‰åºé“¾è¡¨, åˆ†åˆ«ä»£è¡¨å·¦å³éƒ¨åˆ†, å°†å…¶åˆ©ç”¨ç»å…¸çš„åŒæœ‰åºé“¾è¡¨åˆå¹¶ç®—æ³•åˆå¹¶å³å¯, è¿™ä¸ªå’Œä¸Šé“é¢˜(TODO)çš„ mergeTwo å‡½æ•°å¾ˆç±»ä¼¼, åªæ˜¯ä¸éœ€è¦è¿”å›å½’å¹¶åçš„é“¾è¡¨å°¾
  - å¦å¤–å½“`s>=e`æ—¶æ˜¯é€’å½’å‡ºå£, è¿”å›å¯¹åº”å•ä¸ªèŠ‚ç‚¹(`s==e`æ—¶)æˆ–ç©º(`s>e`æ—¶)
- ä¸‹é¢ä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(NKlogK): å‡è®¾å…±æœ‰ K ä¸ªé“¾è¡¨, æ¯ä¸ªé“¾è¡¨å¹³å‡èŠ‚ç‚¹æ•°ä¸º N. ç¬¬ä¸€æ¬¡å½’å¹¶ K/2 æ¬¡, æ¯å¯¹æœ‰ 2N ä¸ªèŠ‚ç‚¹, å¾—åˆ° K/2 ä¸ªé“¾è¡¨; ç¬¬äºŒæ¬¡å½’å¹¶ K/4 æ¬¡, æ¯å¯¹æœ‰ 4N ä¸ªèŠ‚ç‚¹, å¾—åˆ° K/8 ä¸ªé“¾è¡¨. ä¾æ­¤ç±»æ¨, å…±éœ€è¦å½’å¹¶ logK æ¬¡. ç„¶åæ¯æ¬¡å½’å¹¶çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ KN, æ‰€ä»¥æ•´ä½“æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(NKlogK)
- ç©ºé—´å¤æ‚åº¦ O(logK): é€’å½’æ ˆçš„ç©ºé—´æ¶ˆè€—

#### ä»£ç 

```python
class Solution:
    def mergeKLists(self, lists: List[ListNode]) -> ListNode:
        # åˆ†æ²»å½’å¹¶
        def mergeTwo(head1, head2):
            # å°†é“¾è¡¨head1å’Œhead2è¿›è¡Œå½’å¹¶æ’åº
            # ä½¿ç”¨å“¨å…µèŠ‚ç‚¹ç®€åŒ–å¤„ç†
            dummy = ListNode(0)
            cur = dummy
            while head1 or head2:
                if not head2 or head1 and head1.val <= head2.val:
                    # head2ä¸ºç©º, æˆ–è€…head1çš„å€¼æ›´å°, è¿½åŠ head1
                    cur.next = head1
                    # head1å‘åç§»åŠ¨
                    head1 = head1.next
                else:
                    # æ­¤æ—¶åªèƒ½è¿½åŠ head2
                    cur.next = head2
                    # head2å‘åç§»åŠ¨
                    head2 = head2.next
                # å½“å‰èŠ‚ç‚¹å‘åç§»åŠ¨
                cur = cur.next
            # è¿”å›å½’å¹¶æ’åºåçš„é“¾è¡¨å¤´
            return dummy.next

        def merge(s, e):
            if s > e:
                # é€’å½’å‡ºå£1: åŒºé—´ä¸ºç©º, è¿”å›None
                return None
            if s == e:
                # é€’å½’å‡ºå£2: åŒºé—´åªæœ‰ä¸€ä¸ªé“¾è¡¨, è¿”å›å®ƒ
                return lists[s]
            # æ±‚å½“å‰åŒºé—´ä¸­ç‚¹
            m = (s + e) >> 1
            # é€’å½’å¾—åˆ°å·¦å³ä¸¤åŒºé—´åˆå¹¶åçš„ç»“æœ
            left = merge(s, m)
            right = merge(m + 1, e)
            # æœ€åå†è°ƒç”¨mergeTwoåˆå¹¶å¾—åˆ°çš„ä¸¤ä¸ªé“¾è¡¨
            return mergeTwo(left, right)

        # åˆå§‹ä¼ å…¥æ•´ä¸ªåŒºé—´è¿›è¡Œå½’å¹¶
        return merge(0, len(lists) - 1)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
