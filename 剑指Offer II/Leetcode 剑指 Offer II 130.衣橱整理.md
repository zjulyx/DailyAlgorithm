> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

å®¶å±…æ•´ç†å¸ˆå°†å¾…æ•´ç†è¡£æ©±åˆ’åˆ†ä¸º m x n çš„äºŒç»´çŸ©é˜µ gridï¼Œå…¶ä¸­ grid[i][j] ä»£è¡¨ä¸€ä¸ªéœ€è¦æ•´ç†çš„æ ¼å­ã€‚æ•´ç†å¸ˆè‡ª grid[0][0] å¼€å§‹ é€è¡Œé€åˆ— åœ°æ•´ç†æ¯ä¸ªæ ¼å­ã€‚

æ•´ç†è§„åˆ™ä¸ºï¼šåœ¨æ•´ç†è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€‰æ‹© å‘å³ç§»åŠ¨ä¸€æ ¼ æˆ– å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼Œä½†ä¸èƒ½ç§»åŠ¨åˆ°è¡£æŸœä¹‹å¤–ã€‚åŒæ—¶ï¼Œä¸éœ€è¦æ•´ç† digit(i) + digit(j) > cnt çš„æ ¼å­ï¼Œå…¶ä¸­ digit(x) è¡¨ç¤ºæ•°å­— x çš„å„æ•°ä½ä¹‹å’Œã€‚

è¯·è¿”å›æ•´ç†å¸ˆ æ€»å…±éœ€è¦æ•´ç†å¤šå°‘ä¸ªæ ¼å­ã€‚

### ç¤ºä¾‹ 1ï¼š

- è¾“å…¥ï¼šm = 4, n = 7, cnt = 5
- è¾“å‡ºï¼š18

### æç¤ºï¼š

- 1 <= n, m <= 100
- 0 <= cnt <= 20

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•å¿«é€Ÿåˆ¤æ–­æŸä¸ªæ ¼å­æ˜¯å¦å¯è¾¾?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

#### åˆ†æ

- èµ·ç‚¹æ˜¯å·¦ä¸Šè§’, ä¸”åªèƒ½å‘ä¸‹æˆ–å‘å³èµ°, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£, å› ä¸ºæ¯ä¸ªç‚¹èƒ½å¦å¯è¾¾éƒ½å¯ä»¥æ ¹æ®å…¶ä¸Šè¾¹æˆ–å·¦è¾¹çš„ç‚¹çš„å¯è¾¾æ€§å¾—åˆ°
- è¿™é‡Œæ€»ç»“ä¸€ä¸ªè§„å¾‹: **å¦‚æœä¸€ä¸ªäºŒç»´å›¾éœ€è¦éå†å¤§äºä¸¤ä¸ªæ–¹å‘çš„é‚»å±…, ä¸€èˆ¬éœ€è¦ BFS æˆ–è€… DFS; è€Œå¦‚æœåªéœ€è¦ä¸¤ä¸ªç›¸é‚»æ–¹å‘çš„è¯, ä¸€èˆ¬å°±å¯ä»¥ç”¨ DP æ¥æ ¹æ®é€’æ¨å…³ç³»æ±‚è§£ (å› ä¸ºå¯¹åº”æ–¹å‘çš„ä¸Šä¸ªç‚¹çš„ dp å€¼å¯ä»¥åœ¨ä¹‹å‰çš„è®¡ç®—ä¸­å¾—åˆ°)**
- å¦å¤–æ³¨æ„æˆ‘ä»¬æ¯æ¬¡å¾ªç¯å¯èƒ½ä¼šé‡å¤è®¡ç®—è¡Œæˆ–åˆ—çš„æ•°ä½å’Œ, è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªä¼˜åŒ–: ç±»ä¼¼è®°å¿†åŒ–æœç´¢çš„æ€æƒ³, å°†è®¡ç®—æ‰€å¾—çš„æ•°ä½å’Œç¼“å­˜èµ·æ¥, ä¹‹åç›´æ¥ç”¨ç¼“å­˜çš„å€¼å³å¯
- ç”±äºè¿™é‡Œè®¡ç®—å¹¶ä¸å¤æ‚, æ‰€ä»¥ä¼˜åŒ–ä¸å¤ªæ˜æ˜¾, ä½†å¦‚æœæŠŠæ•°ä½å’Œæ”¹æˆä¸€ä¸ªéå¸¸å¤æ‚çš„è®¡ç®—æ—¶, è¿™ä¸ªä¼˜åŒ–å°±å¾ˆæœ‰å¿…è¦äº†

##### å®ç°

- `dp[r,c]`è¡¨ç¤ºä¸‹æ ‡`(r,c)`çš„ç‚¹çš„å¯è¾¾æ€§, èƒ½èµ°åˆ°å°±æ˜¯ True, å¦åˆ™å°±æ˜¯ False
- åˆå§‹åŒ–`dp[0,0] = True`, èµ·ç‚¹ä¸€å®šå¯è¾¾
- å¦‚æœæŸä¸ª`(r,c)`çš„æ•°ä½å’Œå¤§äº k, ç›´æ¥å°†å…¶ dp å€¼è®¾ä¸º False
- å¦åˆ™å°±æ ¹æ®å…¶å·¦è¾¹å’Œä¸Šè¾¹çš„ dp å€¼æ¥å¾—åˆ°, å³`dp[r,c] = dp[r-1,c] or dp[r,c-1]`
- æ³¨æ„ dp æ˜¯ bool å­—å…¸, æ‰€ä»¥å¯ä»¥å°†å…¶è½¬æ¢æˆä¸€ä¸ªé›†åˆ, é›†åˆä¸­çš„å…ƒç´ å°±ä»£è¡¨å¯è¾¾çš„è¡Œåˆ—ä¸‹æ ‡, è¿™æ ·æœ€åç»“æœå°±æ˜¯ dp çš„é•¿åº¦

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(MN)`: éœ€è¦éå†æ•´ä¸ªçŸ©é˜µ
- ç©ºé—´å¤æ‚åº¦ `O(MN)`: dp å­—å…¸/é›†åˆçš„ç©ºé—´æ¶ˆè€—

### ä»£ç 

```python
class Solution:
    def wardrobeFinishing(self, m: int, n: int, cnt: int) -> int:
        # DP, å¦‚æœrcæ•°ä½å’Œå¤§äºcnt, dp[r,c] = False
        # å¦åˆ™dp[r,c] = dp[r-1,c] or dp[r,c-1]
        # è¿™é‡Œä½¿ç”¨é›†åˆä»£æ›¿è¯¥boolå­—å…¸, åˆå§‹å…ƒç´ æ˜¯èµ·ç‚¹ä¸‹æ ‡, ç»“æœå°±æ˜¯é›†åˆçš„é•¿åº¦
        dp = {(0, 0)}

        # ä¼˜åŒ–: ç¼“å­˜æ•°ä½å’Œç»“æœ, é¿å…é‡å¤è®¡ç®—
        @functools.cache
        def digit(x):
            # æ±‚æ•°ä½å’Œ, å³å¾ªç¯ç´¯åŠ æ¨¡10çš„ç»“æœç„¶åé™¤ä»¥10å³å¯
            # æ³¨æ„: è¿™é‡Œä¹Ÿå¯ä»¥å°†æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸², ç„¶åé€ä½å­—ç¬¦è½¬intæ±‚sum
            # return sum([int(c) for c in str(x)])
            res = 0
            while x:
                res += x % 10
                x //= 10
            return res

        for r in range(m):
            for c in range(n):
                if digit(r) + digit(c) <= cnt and ((r - 1, c) in dp or (r, c - 1) in dp):
                    dp.add((r, c))
        return len(dp)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
