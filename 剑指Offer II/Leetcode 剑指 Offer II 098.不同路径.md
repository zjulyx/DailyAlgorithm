> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/2AoeFn/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ ï¼‰ã€‚

é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

### ç¤ºä¾‹ 1ï¼š

![](https://assets.leetcode.com/uploads/2018/10/22/robot_maze.png)

- è¾“å…¥ï¼šm = 3, n = 7
- è¾“å‡ºï¼š28

### ç¤ºä¾‹ 2ï¼š

- è¾“å…¥ï¼šm = 3, n = 2
- è¾“å‡ºï¼š3
- è§£é‡Šï¼šä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
  1. å‘å³ -> å‘ä¸‹ -> å‘ä¸‹
  2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³
  3. å‘ä¸‹ -> å‘å³ -> å‘ä¸‹

### ç¤ºä¾‹ 3ï¼š

- è¾“å…¥ï¼šm = 7, n = 3
- è¾“å‡ºï¼š28

### ç¤ºä¾‹ 4ï¼š

- è¾“å…¥ï¼šm = 3, n = 3
- è¾“å‡ºï¼š6

### æç¤ºï¼š

- 1 <= m, n <= 100
- é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°äºç­‰äº 2 \* 10^9

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•ä¼˜åŒ–æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ³• 1

- åˆ†æé¢˜ç›®, æœºå™¨äººåªèƒ½å‘ä¸‹æˆ–å‘å³ç§»åŠ¨, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹, ç´¯åŠ å½“å‰åæ ‡çš„**å·¦è¾¹å’Œä¸Šè¾¹ç›¸é‚»åæ ‡**çš„è·¯å¾„æ•°æ¥å¾—åˆ°å½“å‰åæ ‡çš„è·¯å¾„æ•°
- æ˜¾ç„¶è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’çš„æ€è·¯:
  - è®¾ `dp[r][c]` ä»£è¡¨åæ ‡(r,c)çš„è·¯å¾„æ•°
  - åˆå§‹åŒ– `dp[0][0] = 1`, å…¶ä»–å€¼å…¨æ˜¯ 0, è¡¨ç¤ºå¼€å§‹æ—¶èµ·ç‚¹çš„è·¯å¾„æ•°ä¸º 1
  - ç„¶åè¿›è¡ŒçŠ¶æ€è½¬ç§»: `dp[r][c] = dp[r-1][c] + dp[r][c-1]` (å¦‚æœ r æˆ– c ä¸º 0, åˆ™ç›¸åº”çš„ r-1 æˆ– c-1 çš„ dp å€¼å°±æ˜¯ 0, åªèƒ½ä»å¦ä¸€ä¸ªæ–¹å‘è½¬ç§»è€Œæ¥)
  - æœ€ç»ˆå³ä¸‹è§’åæ ‡çš„ `dp[m-1][n-1]` å°±ä»£è¡¨æ€»è·¯å¾„æ•°
- ä¸‹é¢çš„ä»£ç æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(MN)`: éœ€è¦ä¸¤é‡å¾ªç¯æ±‚ DP å€¼
- ç©ºé—´å¤æ‚åº¦ `O(MN)`: äºŒç»´ DP æ•°ç»„çš„ç©ºé—´æ¶ˆè€—

#### ä»£ç 

```python
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        dp = [[0] * n for _ in range(m)]
        for r in range(m):
            for c in range(n):
                if (r, c) == (0, 0):
                    # èµ·ç‚¹dpå€¼åˆå§‹åŒ–ä¸º1
                    dp[r][c] = 1
                else:
                    # å·¦ä¾§é‚»å±…è·¯å¾„æ•°, ä¸å­˜åœ¨æ—¶ä¸º0
                    ldp = 0 if c == 0 else dp[r][c - 1]
                    # ä¸Šä¾§é‚»å±…è·¯å¾„æ•°, ä¸å­˜åœ¨æ—¶ä¸º0
                    udp = 0 if r == 0 else dp[r - 1][c]
                    # ç´¯åŠ ä¸¤ä¸ªé‚»å±…çš„è·¯å¾„æ•°
                    dp[r][c] = ldp + udp
        # æœ€ç»ˆç»“æœå°±æ˜¯å³ä¸‹è§’è·¯å¾„æ•°
        return dp[m - 1][n - 1]
```

### æ–¹æ³• 2

- ä¸Šé¢çš„ DP åšæ³•å›ºç„¶å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜, é‚£æ˜¯å¦å¯ä»¥ç»§ç»­ä¼˜åŒ–å‘¢?
- ç­”æ¡ˆæ˜¯è‚¯å®šçš„, æˆ‘ä»¬ä»å¦ä¸€ä¸ªè§’åº¦æ¥æ€è€ƒè¿™ä¸ªé—®é¢˜, æœºå™¨äººä¸€å…±ç§»åŠ¨ m+n-2 æ¬¡, ç„¶åæ¯æ¬¡ç§»åŠ¨è¦ä¹ˆå‘ä¸‹, è¦ä¹ˆå‘å³, ä¸€å…±å‘ä¸‹ç§»åŠ¨ m-1 æ¬¡, å‘å³ç§»åŠ¨ n-1 æ¬¡
- ç›¸å½“äºä»æ€»ç§»åŠ¨æ¬¡æ•° m+n-2 ä¸­é€‰å– m-1 ä¸ª, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°å­¦æ±‚ç»„åˆæ•°çš„æ–¹æ³•, ä¹Ÿå³ `C(m+n-2, m-1)`, å¾—åˆ°çš„å€¼å°±æ˜¯å¯¹åº”çš„æ€»è·¯å¾„æ•°
- è¿™é‡Œå¯ä»¥é¢å¤–è¿›è¡Œä¸€äº›ä¼˜åŒ–, ä½¿ç”¨ m å’Œ n ä¸­çš„è¾ƒå°å€¼æ¥è®¡ç®—ç»„åˆæ•°, å¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ä¸¤è€…çš„è¾ƒå°å€¼
- ä¸‹é¢çš„ä»£ç æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(min(M,N))`: æ±‚ç»„åˆæ•°æ—¶éœ€è¦ç´¯ä¹˜ M-1 æˆ– N-1 æ¬¡, å–ä¸¤è€…è¾ƒå°å€¼
- ç©ºé—´å¤æ‚åº¦ `O(1)`: æ²¡æœ‰ä½¿ç”¨é¢å¤–å˜é‡

#### ä»£ç 

```python
class Solution:
    def uniquePaths(self, m: int, n: int) -> int:
        # å…±æœ‰m+n-2æ¬¡ç§»åŠ¨, ç„¶åä»ä¸­é€‰æ‹©m-1æ¬¡å‘ä¸‹, å‰©ä¸‹n-1æ¬¡å‘å³
        # æ‰€ä»¥æ€»è·¯å¾„æ•°å°±æ˜¯ç»„åˆæ•°C(m+n-2,m-1) (ä¹Ÿç­‰äºC(m+n-2,n-1))
        # é¢å¤–ä¼˜åŒ–, ä½¿ç”¨må’Œnçš„è¾ƒå°å€¼æ¥è®¡ç®—ç»„åˆæ•°
        mn = min(m, n)
        return math.comb(m + n - 2, mn - 1)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
