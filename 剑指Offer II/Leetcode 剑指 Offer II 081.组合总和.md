> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/Ygoe9J/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ­£æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªæ­£æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„å”¯ä¸€ç»„åˆã€‚

candidates ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ‰€é€‰æ•°å­—æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„å”¯ä¸€ç»„åˆæ•°å°‘äº 150 ä¸ªã€‚

### ç¤ºä¾‹ 1ï¼š

- è¾“å…¥: candidates = [2,3,6,7], target = 7
- è¾“å‡º: [[7],[2,2,3]]

### ç¤ºä¾‹ 2ï¼š

- è¾“å…¥: candidates = [2,3,5], target = 8
- è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]

### ç¤ºä¾‹ 3ï¼š

- è¾“å…¥: candidates = [2], target = 1
- è¾“å‡º: []

### ç¤ºä¾‹ 4ï¼š

- è¾“å…¥: candidates = [1], target = 1
- è¾“å‡º: [[1]]

### ç¤ºä¾‹ 5ï¼š

- è¾“å…¥: candidates = [1], target = 2
- è¾“å‡º: [[1,1]]

### æç¤ºï¼š

- 1 <= candidates.length <= 30
- 1 <= candidates[i] <= 200
- candidate ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚
- 1 <= target <= 500

## é¢˜ç›®æ€è€ƒ

1. å¦‚æœé™åˆ¶åªèƒ½ç”¨é€’å½’æˆ–è€…è¿­ä»£, å¦‚ä½•è§£å†³?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- é¦–å…ˆæˆ‘ä»¬å¯ä»¥å°è¯•ç”¨é€’å½’çš„æ€è·¯æ¥è§£å†³
- åˆ†æé¢˜ç›®, æˆ‘ä»¬å¯ä»¥å‘ç°é’ˆå¯¹ candidates çš„æ¯ä¸ªæ•°å­—, éƒ½å¯ä»¥ç»†åˆ†æˆä¸¤ç§æƒ…å†µ: (1) å°†è¯¥æ•°å­—æ·»åŠ åˆ°ç»„åˆä¸­, ç»§ç»­å¤„ç†å½“å‰æ•°å­—; (2) ä¸å†æ·»åŠ å½“å‰æ•°å­—, å¼€å§‹å¤„ç†ä¸‹ä¸€ä¸ªæ•°å­—
- æˆ‘ä»¬å¯ä»¥åŸºäºä¸Šè¿°åˆ†æè¿›è¡Œé€’å½’æ±‚è§£, å…·ä½“åšæ³•å¦‚ä¸‹:
  - ä¼ å…¥å½“å‰ä¸‹æ ‡, å½“å‰ç»„åˆ, ä»¥åŠå½“å‰ç»„åˆçš„æ•°å­—ä¹‹å’Œ
  - å¦‚æœå½“å‰æ•°å­—å’Œæ°å¥½ç­‰äº target, åˆ™å°†å½“å‰ç»„åˆåŠ å…¥æœ€ç»ˆç»“æœ, å¹¶è¿”å›
  - å¦‚æœå½“å‰æ•°å­—å’Œå·²ç»å¤§äº target, æˆ–è€…å½“å‰ä¸‹æ ‡è¶…å‡ºæ•°ç»„èŒƒå›´, åˆ™æ²¡å¿…è¦ç»§ç»­é€’å½’äº†, ç›´æ¥è¿”å›
  - å¦‚æœä¸æ˜¯ä¸Šè¿°ä¸¤ç§æƒ…å†µ, åˆ™è¯´æ˜å¯ä»¥ç»§ç»­é€’å½’: æ­¤æ—¶è¦ä¹ˆç»§ç»­ä½¿ç”¨å½“å‰æ•°å­—, å°†å…¶æ·»åŠ åˆ°å½“å‰ç»„åˆä¸­, åŒæ—¶ä¿æŒå½“å‰ä¸‹æ ‡ä¸å˜; è¦ä¹ˆä¸å†ä½¿ç”¨å½“å‰æ•°å­—, å½“å‰ç»„åˆä¿æŒä¸å˜, åŒæ—¶å°†å½“å‰ä¸‹æ ‡åŠ  1
- ç”±äºæ¯æ¡é€’å½’è·¯å¾„æ·»åŠ çš„æ•°å­—ä¸ªæ•°éƒ½ä¸ä¸€æ ·, æ‰€ä»¥æ¯ä¸ªé€’å½’å‡ºå£å½¢æˆçš„æœ‰æ•ˆç»„åˆä¹Ÿå„ä¸ç›¸åŒ, æ— éœ€æ‰‹åŠ¨å»é‡

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(2^M): å‡è®¾ sum(ceil(target/candidate))æ˜¯ M (candidate æ˜¯ candidates ä¸­çš„æ¯ä¸ªæ•°å­—), æ„å‘³ç€æœ€å¤šè¿›è¡Œ M æ¬¡åˆ¤æ–­, æ¯æ¬¡åˆ¤æ–­éƒ½æœ‰ä¸¤ç§å¯èƒ½æ€§, æ‰€ä»¥æ€»æ—¶é—´æ˜¯ 2^M
- ç©ºé—´å¤æ‚åº¦ O(M): é€’å½’æ ˆçš„æ¶ˆè€—, æœ€å·®æƒ…å†µä¸‹é•¿åº¦æ˜¯ M

#### ä»£ç 

##### Python 3

```python
class Solution:
    def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
        # æ–¹æ³•1: ä¸¤åˆ†æ”¯é€’å½’
        n = len(candidates)
        res = []

        # é€’å½’ä¼ å…¥å½“å‰ä¸‹æ ‡, å½“å‰ç»„åˆä»¥åŠå½“å‰ç»„åˆçš„æ•°å­—ä¹‹å’Œ
        def dfs(i, path, sm):
            if sm == target:
                # é€’å½’å‡ºå£#1, æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆç»„åˆ, å°†å…¶åŠ å…¥æœ€ç»ˆç»“æœé›†
                res.append(path)
                return
            if i >= n or sm > target:
                # é€’å½’å‡ºå£#2, å½“å‰ç»„åˆå·²ç»ä¸å¯èƒ½æ»¡è¶³è¦æ±‚äº†, ç›´æ¥è¿”å›
                return
            # æƒ…å†µ1: å°†è¯¥æ•°å­—æ·»åŠ åˆ°ç»„åˆä¸­, ç»§ç»­å¤„ç†å½“å‰æ•°å­—
            dfs(i, path + [candidates[i]], sm + candidates[i])
            # æƒ…å†µ2: ä¸å†æ·»åŠ å½“å‰æ•°å­—, å¼€å§‹å¤„ç†ä¸‹ä¸€ä¸ªæ•°å­—
            dfs(i + 1, path, sm)

        dfs(0, [], 0)
        return res
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•ç”¨è¿­ä»£çš„æ€è·¯æ¥è§£å†³
- æˆ‘ä»¬å¯ä»¥å°†é€’å½’å‡½æ•°çš„ä¸‰ä¸ªå‚æ•°ä½œä¸ºä¸€ä¸ªä¸‰å…ƒç»„å­˜å‚¨èµ·æ¥
- ç„¶åéå†è¿™ä¸ªä¸‰å…ƒç»„åˆ—è¡¨, åŒæ ·åˆ©ç”¨é€’å½’æ–¹æ¡ˆçš„åˆ†ææ¥è¿›è¡Œç›¸åº”å¤„ç†
- åªæ˜¯éœ€è¦å°†é€’å½’å‡ºå£çš„ return æ”¹æˆ continue, ä»¥åŠå°†é€’å½’è°ƒç”¨æ”¹æˆè¿½åŠ æ–°çš„ä¸‰å…ƒç»„åˆ°åˆ—è¡¨ä¸­
- ä¸‹é¢ä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(2^M): åˆ†æåŒæ–¹æ¡ˆ 1
- ç©ºé—´å¤æ‚åº¦ O(2^M): éœ€è¦ä¿å­˜æ‰€æœ‰å¯èƒ½çš„ä¸‰å…ƒç»„

#### ä»£ç 

##### Python 3

```python
class Solution:
    def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
        # æ–¹æ³•2: ä¸‰å…ƒç»„è¿­ä»£
        n = len(candidates)
        res = []
        # (å½“å‰ä¸‹æ ‡,å½“å‰ç»„åˆ,å½“å‰ç»„åˆçš„æ•°å­—ä¹‹å’Œ)
        tuples = [(0, [], 0)]
        for i, path, sm in tuples:
            if sm == target:
                # æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆç»„åˆ, å°†å…¶åŠ å…¥æœ€ç»ˆç»“æœé›†, ç»§ç»­å¾ªç¯
                res.append(path)
                continue
            if i >= n or sm > target:
                # å½“å‰ç»„åˆå·²ç»ä¸å¯èƒ½æ»¡è¶³è¦æ±‚äº†, ä¸å†ç»§ç»­å¤„ç†å®ƒ, ç»§ç»­å¾ªç¯
                continue
            # æƒ…å†µ1: å°†è¯¥æ•°å­—æ·»åŠ åˆ°ç»„åˆä¸­, ç»§ç»­å¤„ç†å½“å‰æ•°å­—
            tuples.append((i, path + [candidates[i]], sm + candidates[i]))
            # æƒ…å†µ2: ä¸å†æ·»åŠ å½“å‰æ•°å­—, å¼€å§‹å¤„ç†ä¸‹ä¸€ä¸ªæ•°å­—
            tuples.append((i + 1, path, sm))
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
