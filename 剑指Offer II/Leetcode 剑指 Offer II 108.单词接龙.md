> é¢˜ç›®éš¾åº¦: å›°éš¾

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/om3reC/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

åœ¨å­—å…¸ï¼ˆå•è¯åˆ—è¡¨ï¼‰ wordList ä¸­ï¼Œä»å•è¯ beginWord å’Œ endWord çš„ è½¬æ¢åºåˆ— æ˜¯ä¸€ä¸ªæŒ‰ä¸‹è¿°è§„æ ¼å½¢æˆçš„åºåˆ—ï¼š

- åºåˆ—ä¸­ç¬¬ä¸€ä¸ªå•è¯æ˜¯ beginWord ã€‚
- åºåˆ—ä¸­æœ€åä¸€ä¸ªå•è¯æ˜¯ endWord ã€‚
- æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚
- è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ wordList ä¸­çš„å•è¯ã€‚

ç»™å®šä¸¤ä¸ªé•¿åº¦ç›¸åŒä½†å†…å®¹ä¸åŒçš„å•è¯ beginWord å’Œ endWord å’Œä¸€ä¸ªå­—å…¸ wordList ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„ æœ€çŸ­è½¬æ¢åºåˆ— ä¸­çš„ å•è¯æ•°ç›® ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚

### ç¤ºä¾‹ 1ï¼š

- è¾“å…¥ï¼šbeginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log","cog"]
- è¾“å‡ºï¼š5
- è§£é‡Šï¼šä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ "hit" -> "hot" -> "dot" -> "dog" -> "cog", è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚

### ç¤ºä¾‹ 2ï¼š

- è¾“å…¥ï¼šbeginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log"]
- è¾“å‡ºï¼š0
- è§£é‡Šï¼šendWord "cog" ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚

### æç¤ºï¼š

- 1 <= beginWord.length <= 10
- endWord.length == beginWord.length
- 1 <= wordList.length <= 5000
- wordList[i].length == beginWord.length
- beginWordã€endWord å’Œ wordList[i] ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- beginWord != endWord
- wordList ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² äº’ä¸ç›¸åŒ

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•å°½å¯èƒ½ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦?

## è§£å†³æ–¹æ¡ˆ

- åˆ†æé¢˜ç›®, è¦æ±‚æœ€çŸ­è½¬æ¢åºåˆ—, ä¹Ÿå°±æ˜¯ beginWord åˆ° endWord çš„æœ€å°‘å•è¯æ•°ç›®, æˆ‘ä»¬å¯ä»¥å°è¯• BFS:
  - æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ— q è®°å½•å½“å‰éœ€è¦éå†çš„å•è¯, å¹¶ä½¿ç”¨ä¸€ä¸ªé›†åˆ v è®°å½•å·²ç»éå†è¿‡çš„å•è¯, ä¸”åˆå§‹åŒ–å•è¯æ•°ç›® cnt ä¸º 1
  - ç„¶åä» beginWord å‡ºå‘, å°†å…¶åŠ å…¥é˜Ÿåˆ— q å’Œé›†åˆ v ä¸­
  - æ¥ä¸‹æ¥å¼€å§‹ BFS çš„æ¯è½®éå†: åˆå§‹åŒ–ä¸€ä¸ªæ–°é˜Ÿåˆ— nq, å¯¹äºå½“å‰é˜Ÿåˆ— q çš„å•è¯, éå†æ•´ä¸ªå­—å…¸ wordList, å¦‚æœæŸä¸ªå•è¯ä¸åœ¨å·²éå†é›†åˆ v ä¸­, ä¸”å’Œå½“å‰å•è¯æ°å¥½åªå·®ä¸€ä¸ªå­—æ¯, åˆ™å°†å…¶åŠ å…¥æ–°é˜Ÿåˆ— nq å’Œé›†åˆ v ä¸­, ç­‰å¾…ä¸‹æ¬¡éå†
  - ç­‰åˆ°å½“å‰é˜Ÿåˆ— q éå†ç»“æŸå, å•è¯æ•°ç›® cnt åŠ  1, å¹¶å°†æ–°é˜Ÿåˆ— nq èµ‹å€¼ç»™å½“å‰é˜Ÿåˆ— q, å¼€å§‹æ–°ä¸€è½®çš„éå†, ç›´åˆ° q æ²¡æœ‰å•è¯ä¸ºæ­¢
  - åœ¨éå†è¿‡ç¨‹ä¸­, å¦‚æœ q çš„å•è¯æ°å¥½ç­‰äº endWord, åˆ™è¯´æ˜æ‰¾åˆ°äº†æœ€çŸ­è½¬æ¢åºåˆ—, ç›´æ¥è¿”å›å½“å‰å•è¯æ•°ç›® cnt å³å¯
  - å¦‚æœç›´åˆ°éå†ç»“æŸéƒ½æ²¡å¾—åˆ° endWord, åˆ™è¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—, è¿”å› 0
- æ‹¿é¢˜ç›®çš„ç¤ºä¾‹ 1 æ¥è¯´, ä¸Šè¿°è¿‡ç¨‹å¦‚ä¸‹:
  - `beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log","cog"]`
  - ç¬¬ä¸€è½®å¼€å§‹æ—¶ q å’Œ v åŒ…å«`[hit]`, cnt æ˜¯ 1; ç»“æŸæ—¶åªæœ‰ hot æ»¡è¶³è¦æ±‚, å°†å…¶åŠ å…¥ nq å’Œ v ä¸­, åŒæ—¶ cnt åŠ åˆ° 2
  - ç¬¬äºŒè½®å¼€å§‹æ—¶ q åŒ…å«`[hot]`, v åŒ…å«`[hit, hot]`, cnt æ˜¯ 2; ç»“æŸæ—¶ dot å’Œ lot éƒ½æ»¡è¶³è¦æ±‚, å°†å…¶åŠ å…¥ nq å’Œ v ä¸­, åŒæ—¶ cnt åŠ åˆ° 3
  - ç¬¬ä¸‰è½®å¼€å§‹æ—¶ q åŒ…å«`[dot, lot]`, v åŒ…å«`[hit, hot, dot, lot]`, cnt æ˜¯ 3; ç»“æŸæ—¶ dog å’Œ log éƒ½æ»¡è¶³è¦æ±‚, å°†å…¶åŠ å…¥ nq å’Œ v ä¸­, åŒæ—¶ cnt åŠ åˆ° 4
  - ç¬¬å››è½®å¼€å§‹æ—¶ q åŒ…å«`[dog, log]`, v åŒ…å«`[hit, hot, dot, lot, dog, log]`, cnt æ˜¯ 4; è€Œç»“æŸæ—¶åªæœ‰ cog éƒ½æ»¡è¶³è¦æ±‚, å°†å…¶åŠ å…¥ nq å’Œ v ä¸­, åŒæ—¶ cnt åŠ åˆ° 5
  - ç¬¬äº”è½®å¼€å§‹æ—¶ q åŒ…å«`[cog]`, v åŒ…å«`[hit, hot, dot, lot, dog, log, cog]`, cnt æ˜¯ 5, éå†æ—¶å‘ç° cog æ°å¥½ç­‰äº endWord, æ‰€ä»¥å°±è¿”å›å½“å‰ cnt 5
- ä»¥ä¸Šå°±æ˜¯æœ€åŸºæœ¬çš„ BFS æ€è·¯, å®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(C*N^2)` (C æ˜¯å•è¯å¹³å‡é•¿åº¦, N æ˜¯å•è¯å­—å…¸çš„å•è¯ä¸ªæ•°), å› ä¸ºæœ€å·®æƒ…å†µä¸‹æ¯ä¸ªå•è¯éœ€è¦è¢«éå†ä¸€é (`O(N)`), ç„¶åéå†æ—¶éœ€è¦æŸ¥æ‰¾æ‰€æœ‰å•è¯å­—å…¸çš„å•è¯ (`O(N)`), å¹¶åˆ¤æ–­å®ƒæ˜¯å¦å·²ç»è¢«éå† (`O(C)`), å¦‚ä½•ä¼˜åŒ–å‘¢?
- å›é¡¾é¢˜ç›®è§„æ¨¡, æˆ‘ä»¬å¯ä»¥å‘ç°å•è¯é•¿åº¦æœ€å¤§åªæœ‰ 10, ä¸”åªç”± 26 ä¸ªå°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ–¹å¼, éå†å•è¯çš„æ¯ä¸ªä½ç½®, å°†å…¶æ›¿æ¢æˆå…¶ä»– 25 ä¸ªå°å†™å­—æ¯, ä»è€Œç»„æˆæ–°çš„å¯è½¬æ¢å•è¯
- ç„¶ååˆ¤æ–­è¯¥å•è¯æ˜¯å¦å­˜åœ¨äºå•è¯å­—å…¸ä¸”ä¸å­˜åœ¨äºé›†åˆä¸­, æ˜¯çš„è¯å°±å¯ä»¥éå†, è¿™é‡Œéœ€è¦å…ˆé¢å¤–å°†å•è¯å­—å…¸ä»åˆ—è¡¨è½¬æˆé›†åˆ, ä»è€ŒåŠ é€ŸæŸ¥è¯¢
- è¿™æ ·å°±æŠŠç¬¬äºŒä¸ª`O(N)`ä¼˜åŒ–åˆ°äº†`O(C*25)`, N æœ€å¤§æ˜¯ 5000, è€Œ `C*25` æœ€å¤§ä¹Ÿåªæœ‰ 250, ä¼˜åŒ–äº†ä¸€ä¸ªæ•°é‡çº§, æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ä¹Ÿå°±å˜æˆäº†`O(C^2*25*N)`
- å¦å¤–, åœ¨ä¸Šé¢çš„ä¼˜åŒ–ä¹‹å, æˆ‘ä»¬éœ€è¦åˆ¤æ–­è¯¥å•è¯æ˜¯å¦å­˜åœ¨äºå•è¯å­—å…¸ä¸”ä¸å­˜åœ¨äºé›†åˆä¸­, è€Œè¿™ä¸¤æ­¥å®Œå…¨å¯ä»¥åˆäºŒä¸ºä¸€: æˆ‘ä»¬ä¸å†éœ€è¦å·²éå†é›†åˆ, è€Œæ˜¯å¦‚æœè¯¥å•è¯å­˜åœ¨äºå•è¯å­—å…¸é›†åˆä¸­æ—¶, å°±ç›´æ¥å°†å…¶ä»è¯¥é›†åˆä¸­ç§»é™¤, è¿™æ ·å¯ä»¥èŠ‚çœä¸å¿…è¦çš„ç©ºé—´æ¶ˆè€—
- ä¸‹é¢çš„ä»£ç å¯¹å¿…è¦æ­¥éª¤æœ‰è¯¦ç»†çš„è§£é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(C^2*25*N)`: æœ€å·®æƒ…å†µä¸‹æ¯ä¸ªå•è¯éœ€è¦è¢«éå†ä¸€é (`O(N)`), ç„¶åéå†æ—¶éœ€è¦æŸ¥æ‰¾æ‰€æœ‰å¯è½¬æ¢å•è¯ (`O(C*25)`), å¹¶åˆ¤æ–­å®ƒæ˜¯å¦å·²ç»è¢«éå† (`O(C)`)
- ç©ºé—´å¤æ‚åº¦ `O(C*N)`: é˜Ÿåˆ—å’Œé›†åˆå ç”¨çš„ç©ºé—´

#### ä»£ç 

```python
class Solution:
    def ladderLength(self, beginWord: str, endWord: str, wordList: List[str]) -> int:
        # å…ˆå°†å•è¯å­—å…¸åˆ—è¡¨è½¬æˆé›†åˆ
        wordSet = set(wordList)
        q = [beginWord]

        def getNext(w):
            # æ‰¾å‡ºwå¯ä»¥è½¬æ¢çš„æ‰€æœ‰å•è¯
            for i, c in enumerate(w):
                for o in range(26):
                    cc = chr(ord("a") + o)
                    if cc != c:
                        # å°†ç¬¬iä½çš„cæ›¿æ¢æˆcc, å½¢æˆæ–°çš„å•è¯
                        yield w[:i] + cc + w[i + 1 :]

        # åˆå§‹åŒ–åºåˆ—å•è¯æ•°ç›®ä¸º1, å³beginWord
        cnt = 1
        while q:
            nq = []
            for w in q:
                if w == endWord:
                    # è½¬æ¢æˆendWord, æ­¤æ—¶çš„cntå°±æ˜¯æœ€çŸ­åºåˆ—çš„å•è¯æ•°ç›®
                    return cnt
                for nex in getNext(w):
                    if nex in wordSet:
                        # è¯¥å•è¯å­˜åœ¨äºå­—å…¸ä¸­, å¯ä»¥ä½¿ç”¨å®ƒ
                        # ä½¿ç”¨åå°†å…¶ç§»å‡ºå­—å…¸, å› ä¸ºåç»­æœ‰åºåˆ—å†ä½¿ç”¨å®ƒçš„è¯, ä¸€å®šä¸æ˜¯æœ€çŸ­åºåˆ—
                        wordSet.remove(nex)
                        # å°†å…¶åŠ å…¥æ–°çš„é˜Ÿåˆ—ä¸­, ç­‰å¾…åç»­å¤„ç†
                        nq.append(nex)
            q = nq
            cnt += 1
        # æ²¡æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„è½¬æ¢åºåˆ—, è¿”å›0
        return 0
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
