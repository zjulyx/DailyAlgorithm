> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/pOCWxh)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ æ ¹èŠ‚ç‚¹ root ï¼Œæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼è¦ä¹ˆæ˜¯ 0ï¼Œè¦ä¹ˆæ˜¯ 1ã€‚è¯·å‰ªé™¤è¯¥äºŒå‰æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¸º 0 çš„å­æ ‘ã€‚

èŠ‚ç‚¹ node çš„å­æ ‘ä¸º node æœ¬èº«ï¼Œä»¥åŠæ‰€æœ‰ node çš„åä»£ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥: [1,null,0,0,1]
- è¾“å‡º: [1,null,0,null,1]
- è§£é‡Š:
  åªæœ‰çº¢è‰²èŠ‚ç‚¹æ»¡è¶³æ¡ä»¶â€œæ‰€æœ‰ä¸åŒ…å« 1 çš„å­æ ‘â€ã€‚
  å³å›¾ä¸ºè¿”å›çš„ç­”æ¡ˆã€‚

  ![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/04/06/1028_1.png)

### ç¤ºä¾‹ 2:

- è¾“å…¥: [1,0,1,0,0,0,1]
- è¾“å‡º: [1,null,1,null,1]
- è§£é‡Š:
  ![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/04/06/1028_2.png)

### ç¤ºä¾‹ 3:

- è¾“å…¥: [1,1,0,1,1,0,1,0]
- è¾“å‡º: [1,1,0,1,1,null,1]
- è§£é‡Š:
  ![](https://s3-lc-upload.s3.amazonaws.com/uploads/2018/04/05/1028.png)

### æç¤º:

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ [1,200]
- äºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼åªä¼šæ˜¯ 0 æˆ– 1

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•åœ¨å¾—åˆ°å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å€¼çš„åŒæ—¶, è¿›è¡Œå‰ªé™¤æ“ä½œ?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, å¦‚æœæŸä¸ªå­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ 0, åˆ™å…¶æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 0, ä¸”å·¦å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ä¹Ÿéƒ½æ˜¯ 0
- æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸€ç‚¹, ä½¿ç”¨ DFS æ¥åˆ¤æ–­, å…·ä½“åšæ³•å¦‚ä¸‹:
  1. dfs å‡½æ•°ä¼ å…¥èŠ‚ç‚¹ node ä½œä¸ºå‚æ•°, è¿”å›ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ˜¯å¦å…¨ä¸º 0
  2. å¦‚æœä¼ å…¥æ˜¯ç©ºèŠ‚ç‚¹, åˆ™è¿”å› true, ä½œä¸ºé€’å½’å‡ºå£
  3. å¦åˆ™å…ˆé€’å½’è°ƒç”¨ dfs å‡½æ•°, ä¼ å…¥å…¶å·¦å³å­èŠ‚ç‚¹, ä»è€Œå¾—åˆ°å·¦å³å­æ ‘æ˜¯å¦å…¨ä¸º 0 çš„ä¸¤ä¸ªå¸ƒå°”å€¼: leftAllZero å’Œ rightAllZero
  4. é‚£ä¹ˆå½“å‰å­æ ‘è¦æƒ³å…¨ä¸º 0, å°±éœ€è¦ `node.val==0 && leftAllZero && rightAllZero`, è¿”å›å®ƒå³å¯
- ä¸Šè¿°æ­¥éª¤åªæ˜¯å¾—å‡ºäº†æ¯ä¸ªå­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ˜¯å¦å…¨ 0, é¢˜ç›®è¿˜è¦æ±‚å‰ªé™¤å…¨ 0 å­æ ‘, å¦‚ä½•æ“ä½œå‘¢?
- æˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢çš„ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥ä¹‹é—´åŠ å…¥å‰ªé™¤æ“ä½œ:
  - å¦‚æœå·¦å­æ ‘å…¨ 0, å°±æ–­å¼€å½“å‰èŠ‚ç‚¹å’Œå…¶å·¦å­èŠ‚ç‚¹çš„è¿æ¥
  - å¦‚æœå³å­æ ‘å…¨ 0, å°±æ–­å¼€å½“å‰èŠ‚ç‚¹å’Œå…¶å³å­èŠ‚ç‚¹çš„è¿æ¥
- è¿™æ ·å°±åœ¨å¾—åˆ°å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å€¼çš„åŒæ—¶, è¿›è¡Œäº†å‰ªé™¤æ“ä½œ
- éœ€è¦æ³¨æ„æœ‰å¯èƒ½æ•´æ£µæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å…¨ä¸º 0, æ­¤æ—¶å‰ªé™¤åéœ€è¦è¿”å›ç©ºèŠ‚ç‚¹
- æˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹, å°†å…¶å·¦å­èŠ‚ç‚¹æŒ‡å‘æ•´æ£µæ ‘çš„æ ¹èŠ‚ç‚¹
- ç„¶åä»å“¨å…µèŠ‚ç‚¹å¼€å§‹åˆ¤æ–­, æœ€ç»ˆè¿”å›å“¨å…µçš„å·¦å­èŠ‚ç‚¹, è¿™æ ·å°±æ— éœ€é’ˆå¯¹æ ¹èŠ‚ç‚¹åšç‰¹æ®Šå¤„ç†äº†
- ä¸‹é¢çš„ä»£ç å°±å¯¹åº”äº†ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹, å¹¶ä¸”æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(H): H æ˜¯æ ‘çš„é«˜åº¦, ä¹Ÿæ˜¯é€’å½’æ ˆçš„ç©ºé—´æ¶ˆè€—

#### ä»£ç 

```python
class Solution:
    def pruneTree(self, root: TreeNode) -> TreeNode:
        # ä½¿ç”¨å“¨å…µèŠ‚ç‚¹, å°†å…¶å·¦å­èŠ‚ç‚¹æŒ‡å‘root, å¹¶ä»å“¨å…µå¼€å§‹åˆ¤æ–­
        # å› ä¸ºæœ‰å¯èƒ½æ•´ä¸ªæ ‘éƒ½æ˜¯0, æ­¤æ—¶éœ€è¦è¿”å›ç©ºèŠ‚ç‚¹, å¦‚æœä¸ç”¨å“¨å…µä»rootå¼€å§‹åˆ¤æ–­, å°±éœ€è¦é¢å¤–çš„é€»è¾‘ç‰¹æ®Šå¤„ç†root
        dummy = TreeNode(0, root)

        def allZero(node):
            if not node:
                # é€’å½’å‡ºå£, ç©ºèŠ‚ç‚¹çš„å€¼ä¸æ˜¯1, æ‰€ä»¥è¿”å›True
                return True
            leftAllZero = allZero(node.left)
            rightAllZero = allZero(node.right)
            if leftAllZero:
                # å·¦å­æ ‘å…¨ä¸º0, æ–­å¼€å½“å‰èŠ‚ç‚¹ä¸å…¶çš„è¿æ¥
                node.left = None
            if rightAllZero:
                # å³å­æ ‘å…¨ä¸º0, æ–­å¼€å½“å‰èŠ‚ç‚¹ä¸å…¶çš„è¿æ¥
                node.right = None
            # å½“å‰å­æ ‘å…¨ä¸º0éœ€è¦æ»¡è¶³: å½“å‰èŠ‚ç‚¹å€¼ä¸º0 && å·¦å­æ ‘å…¨ä¸º0 && å³å­æ ‘å…¨ä¸º0
            return node.val == 0 and leftAllZero and rightAllZero

        allZero(dummy)
        # æœ€ç»ˆå“¨å…µèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹å³ä¸ºåˆ é™¤å…¨0å­æ ‘åçš„æ ¹èŠ‚ç‚¹ (å¯èƒ½ä¸ºç©º)
        return dummy.left
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
