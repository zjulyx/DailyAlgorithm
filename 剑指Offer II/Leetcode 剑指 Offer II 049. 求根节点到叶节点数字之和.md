> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/3Etpl5/)

> ä»Šå¤©ç»§ç»­æ›´æ–° Leetcode çš„å‰‘æŒ‡ Offerï¼ˆä¸“é¡¹çªå‡»ç‰ˆï¼‰ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ `å‰‘æŒ‡offer2` å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜æ”¾æœ‰ä¸€ä¸ª 0 åˆ° 9 ä¹‹é—´çš„æ•°å­—ã€‚

æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼š

ä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„ 1 -> 2 -> 3 è¡¨ç¤ºæ•°å­— 123 ã€‚
è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç”Ÿæˆçš„ æ‰€æœ‰æ•°å­—ä¹‹å’Œ ã€‚

å¶èŠ‚ç‚¹ æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

### ç¤ºä¾‹ 1ï¼š

![](https://assets.leetcode.com/uploads/2021/02/19/num1tree.jpg)

- è¾“å…¥ï¼šroot = [1,2,3]
- è¾“å‡ºï¼š25
- è§£é‡Šï¼š
  - ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 1->2 ä»£è¡¨æ•°å­— 12
  - ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 1->3 ä»£è¡¨æ•°å­— 13
  - å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 12 + 13 = 25

### ç¤ºä¾‹ 2ï¼š

![](https://assets.leetcode.com/uploads/2021/02/19/num2tree.jpg)

- è¾“å…¥ï¼šroot = [4,9,0,5,1]
- è¾“å‡ºï¼š1026
- è§£é‡Šï¼š
  - ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->9->5 ä»£è¡¨æ•°å­— 495
  - ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->9->1 ä»£è¡¨æ•°å­— 491
  - ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4->0 ä»£è¡¨æ•°å­— 40
  - å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = 1026

### æç¤ºï¼š

- æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [1, 1000] å†…
- 0 <= Node.val <= 9
- æ ‘çš„æ·±åº¦ä¸è¶…è¿‡ 10

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•å¿«é€Ÿè®¡ç®—æ¯æ¡è·¯å¾„çš„æ•°å­—å’Œ?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, è¦æƒ³è®¡ç®—æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªå¶å­èŠ‚ç‚¹çš„æ•°å­—å’Œ, æˆ‘ä»¬éœ€è¦çŸ¥é“è¯¥è·¯å¾„çš„æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”çš„æ•°å­—åˆ†åˆ«æ˜¯å¤šå°‘, ç„¶åå°†è¿™äº›æ•°å­—æ‹¼æ¥èµ·æ¥, å°±æ˜¯å½“å‰è·¯å¾„çš„æ•°å­—å’Œ
- æ ¹æ®æ ‘çš„æ€§è´¨, ä»æ ¹èŠ‚ç‚¹åˆ°ä»»ä¸€èŠ‚ç‚¹ä¸€å®šåªæœ‰å”¯ä¸€ä¸€æ¡è·¯å¾„, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿å­˜æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”è·¯å¾„çš„æ‰€æœ‰æ•°å­—åˆ—è¡¨, è¿™æ ·åœ¨æ±‚æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªå¶å­çš„æ•°å­—å’Œæ—¶, æˆ‘ä»¬åªéœ€è¦åœ¨è¯¥å¶å­çš„çˆ¶èŠ‚ç‚¹çš„æ•°å­—åˆ—è¡¨åŸºç¡€ä¸Š, åŠ ä¸Šè¯¥å¶å­çš„æ•°å­—å³å¯
- å¯¹äºè¿™ä¸ªè¿‡ç¨‹, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªé¡¶å‘ä¸‹çš„ DFS æ¥è§£å†³, ä¼ å…¥å½“å‰èŠ‚ç‚¹ä»¥åŠå¯¹åº”çš„`æ ¹èŠ‚ç‚¹->è¯¥èŠ‚ç‚¹`çš„æ²¿é€”æ•°å­—åˆ—è¡¨, ç„¶åé€’å½’è°ƒç”¨å­èŠ‚ç‚¹, ä¼ å…¥å­èŠ‚ç‚¹ä»¥åŠåŠ ä¸Šå­èŠ‚ç‚¹æ•°å­—çš„æ–°åˆ—è¡¨, ç›´åˆ°åˆ°è¾¾å¶å­èŠ‚ç‚¹, æ­¤æ—¶å°±å¯ä»¥å°†è¿™äº›æ•°å­—æ‹¼æ¥èµ·æ¥, å¹¶ç´¯åŠ åˆ°æœ€ç»ˆç»“æœé‡Œ
- ä¸è¿‡è¿™æ ·æˆ‘ä»¬å°±å¾—ç»´æŠ¤å½“å‰è·¯å¾„çš„æ•°å­—åˆ—è¡¨, è¿˜å¾—åœ¨åˆ°è¾¾å¶å­èŠ‚ç‚¹åæ‹¼æ¥å¹¶æ±‚å’Œ, æœ‰æ²¡æœ‰æ›´å¿«é€Ÿçš„æ–¹æ³•å‘¢?
- å‡è®¾æœ‰è·¯å¾„`1->2->3->4`, å…¶å¯¹åº”çš„æ•°å­—è‡ªç„¶æ˜¯ 1234, ä¸Šé¢çš„åšæ³•æ˜¯èŠ‚ç‚¹ 1 å¯¹åº”æ•°å­—åˆ—è¡¨`[1]`, èŠ‚ç‚¹ 2 å¯¹åº”æ•°å­—åˆ—è¡¨`[1,2]`, ä¾æ­¤ç±»æ¨
- æˆ‘ä»¬å…¶å®å®Œå…¨æ²¡å¿…è¦ä¿å­˜è¯¥åˆ—è¡¨, è€Œæ˜¯å¯ä»¥ç›´æ¥ä¿å­˜æ•°å­—æœ¬èº«, ç„¶ååœ¨è°ƒç”¨å­èŠ‚ç‚¹æ—¶, å°†è¯¥æ•°å­—ä¹˜ä»¥ 10, å¹¶åŠ ä¸Šå­èŠ‚ç‚¹çš„æ•°å­—å³å¯
- ä¹Ÿå°±æ˜¯è¯´, èŠ‚ç‚¹ 1 å¯¹åº”æ•°å­—`1`, èŠ‚ç‚¹ 2 å¯¹åº”æ•°å­—`12=1*10+2`, èŠ‚ç‚¹ 3 å¯¹åº”æ•°å­—`123=12*10+3`, èŠ‚ç‚¹ 4 å¯¹åº”æ•°å­—`1234=123*10+4`, è¿™æ ·å°±æ— éœ€åœ¨åˆ°è¾¾å¶å­èŠ‚ç‚¹åæ‹¼æ¥æ•°å­—äº†
- ä¸‹é¢çš„ä»£ç å°±å¯¹åº”äº†ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹, å¹¶ä¸”æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N)`: æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦éå†ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ `O(H)`: H æ˜¯æ ‘çš„æ·±åº¦, ä¹Ÿæ˜¯é€’å½’æ ˆçš„ç©ºé—´æ¶ˆè€—

#### ä»£ç 

```python
class Solution:
    def sumNumbers(self, root: TreeNode) -> int:
        if not root:
            # æ ¹æ˜¯ç©ºèŠ‚ç‚¹, å’Œä¸º0
            return 0
        res = 0

        def dfs(node, num):
            # ä¼ å…¥å½“å‰èŠ‚ç‚¹nodeå’Œ"æ ¹èŠ‚ç‚¹->å½“å‰èŠ‚ç‚¹"çš„æ•°å­—num
            nonlocal res
            if not node.left and not node.right:
                # å½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹, ç´¯åŠ å…¶æ•°å­—åˆ°æœ€ç»ˆç»“æœ
                res += num
                return
            if node.left:
                # é€’å½’è°ƒç”¨å·¦å­èŠ‚ç‚¹, å¹¶æ›´æ–°æ•°å­—
                dfs(node.left, 10 * num + node.left.val)
            if node.right:
                # é€’å½’è°ƒç”¨å³å­èŠ‚ç‚¹, å¹¶æ›´æ–°æ•°å­—
                dfs(node.right, 10 * num + node.right.val)

        dfs(root, root.val)
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
