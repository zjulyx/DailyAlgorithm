# [5495] åœ†å½¢èµ›é“ä¸Šç»è¿‡æ¬¡æ•°æœ€å¤šçš„æ‰‡åŒº

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•ç®€åŒ–é—®é¢˜?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- é¢˜ç›® blahblah è¯´äº†å¾ˆé•¿, ä½†ä»”ç»†åˆ†æå¯ä»¥å‘ç°, ä¸­é—´éƒ¨åˆ†å¯¹ç»“æœå®Œå…¨æ²¡å½±å“, ä¸­é—´ä¸ç®¡æœ‰å¤šå°‘ä¸ªå€¼å¤šå°‘åœˆ, å¯¹äºæ¯ä¸ªæ‰‡åŒºå¢åŠ çš„æ¬¡æ•°éƒ½æ˜¯ç›¸åŒçš„
- æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åªè€ƒè™‘èµ·ç‚¹å’Œç»ˆç‚¹, ç®€åŒ–ä¸ºä¸€åœˆçš„æƒ…å†µ, è¿™ä¸€åœˆç»è¿‡çš„æ‰‡åŒºæ˜¯é¢å¤–çš„éƒ¨åˆ†, æœ€ç»ˆç»“æœåªéœ€è¦è€ƒè™‘èµ·ç‚¹å’Œç»ˆç‚¹é€”å¾„çš„æ‰‡åŒºå³å¯
- æ³¨æ„ç»ˆç‚¹å¯èƒ½å°äºèµ·ç‚¹, è¿™æ—¶å€™å°±è¦å…ˆä» 1 åˆ°ç»ˆç‚¹, å†ä»èµ·ç‚¹éå†åˆ° n å³å¯(å› ä¸ºæœ€ç»ˆç»“æœè¦æŒ‰é¡ºåº)

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N)`: åªéœ€è¦éå†èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´çš„éƒ¨åˆ†
- ç©ºé—´å¤æ‚åº¦ `O(1)`: åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

### ä»£ç 

```python
class Solution:
    def mostVisited(self, n: int, rounds: List[int]) -> List[int]:
        s, e = rounds[0], rounds[-1]
        if s <= e:
            # [èµ·ç‚¹, ç»ˆç‚¹]
            return list(range(s, e + 1))
        else:
            # [1, ç»ˆç‚¹]+[èµ·ç‚¹, n]
            return list(range(1, e + 1)) + list(range(s, n + 1))
```

---

# [5496] ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ç¡¬å¸æ•°ç›®

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•ä¿è¯è‡ªå·±æ¯æ¬¡æ‹¿åˆ°çš„éƒ½æ˜¯æœ€ä¼˜çš„?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- è´ªå¿ƒæ³•, æ—¢ç„¶æˆ‘ä»¬åªèƒ½æ‹¿ç¬¬äºŒå¤§çš„, é‚£æ¯æ¬¡éƒ½æŠŠæœ€å¤§çš„ç•™ç»™ Alice, ç„¶åæˆ‘ä»¬é€‰ç¬¬äºŒå¤§çš„, å†æŠŠå½“å‰æœ€å°çš„å¡ç»™ Bob å°±è¡Œäº†
- è½¬æ¢æˆä»£ç å°±æ˜¯å…ˆæ’åº, ç„¶åä»å¤§åˆ°å°éå†, ä»ç¬¬äºŒå¤§çš„å¼€å§‹æ‹¿, æ¯æ¬¡ä¸­é—´éš”ä¸€ä¸ªå€¼(æŠŠå½“å‰æœ€å¤§çš„ç•™ç»™ Alice), ç›´åˆ°æˆ‘ä»¬æ‹¿å¤Ÿ n ä¸ªç¡¬å¸ (æ€»å…± 3n ä¸ªç¡¬å¸)

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(NlogN)`: éœ€è¦æ’åº
- ç©ºé—´å¤æ‚åº¦ `O(1)`: åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

### ä»£ç 

```python
class Solution:
    def maxCoins(self, piles: List[int]) -> int:
        piles.sort()
        cnt = 0
        res = 0
        for i in range(len(piles) - 2, -1, -2):
            # ä»æ¬¡å¤§å€¼å¼€å§‹, éš”ä¸€ä¸ªç¡¬å¸æ‹¿ä¸€æ¬¡
            res += piles[i]
            cnt += 1
            if cnt == len(piles) // 3:
                break
        return res
```

---

# [5497] æŸ¥æ‰¾å¤§å°ä¸º M çš„æœ€æ–°åˆ†ç»„

## é¢˜ç›®æ€è€ƒ

1. éœ€è¦å“ªäº›æ•°æ®ç»“æ„?
2. å½“å‰ä½ç½®å˜æˆ 1 ä¹‹åä¼šæ”¹å˜å“ªäº›ä½ç½®çš„è¿ç»­ 1 çš„é•¿åº¦?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- åˆ†æé¢˜ç›®, æŸä¸ªä½ç½®å˜æˆ 1 ä¹‹å, æœ€ç›´æ¥çš„å½±å“å°±æ˜¯å…¶å·¦å³ä¸¤è¾¹, å·¦å³ä¸¤è¾¹è¿ç»­çš„ 1 çš„é•¿åº¦éƒ½ä¼šå˜æˆæ–°çš„æ€»é•¿åº¦
- æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­—å…¸ iToLen, é”®å€¼å¯¹ä¸º`{i:len}`, å­˜å‚¨æŸä¸ªä¸‹æ ‡å¯¹åº”çš„è¿ç»­ 1 çš„é•¿åº¦, ç”¨äºåŠ¨æ€æ›´æ–°
- å…¶æ¬¡æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªåå‘å­—å…¸ lenToCnt, é”®å€¼å¯¹ä¸º`{len:cnt}`, å­˜å‚¨å½“å‰è¿ç»­ 1 é•¿åº¦å¯¹åº”çš„ä¸ªæ•°, é‚£ä¹ˆæ¯æ¬¡åªè¦è¿™ä¸ªå­—å…¸é‡Œ m å¯¹åº”çš„ cnt å¤§äº 0, å°±è¯´æ˜ä»æœ‰è¿ç»­ 1 é•¿åº¦ä¸º m çš„éƒ¨åˆ†
- å¦‚æœæˆ‘ä»¬åœ¨æ¯æ¬¡æŠŠæŸä¸ªä½ç½®å˜æˆ 1 ä¹‹åéƒ½ä¿®æ”¹å·¦å³ä¸¤è¾¹æ‰€æœ‰è¿ç»­ 1 çš„ä½ç½®çš„ iToLen å­—å…¸, è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±è¾¾åˆ°äº† O(N^2), å¤§æ¦‚ç‡ä¼šè¶…æ—¶
- ä½†çœŸçš„æœ‰å¿…è¦ä¿®æ”¹æ‰€æœ‰ä¸‹æ ‡å—? ç­”æ¡ˆæ˜¯å¦å®šçš„, å…¶å®æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹æ–°çš„è¿ç»­ 1 çš„èµ·ç‚¹å’Œç»ˆç‚¹çš„ iToLen å­—å…¸å³å¯, **å› ä¸ºåé¢æ“ä½œé‡Œæ–°çš„ 1 çš„å·¦å³ä¸¤è¾¹ç»ä¸å¯èƒ½æ˜¯å½“å‰è¿ç»­ 1 çš„ä¸­é—´éƒ¨åˆ†, åªéœ€è¦è€ƒè™‘ä¸¤ä¸ªè¾¹ç•Œå°±è¡Œ**, è¿™æ ·å°±æŠŠè¿™éƒ¨åˆ†æ“ä½œä» O(N)é™åˆ°äº† O(1)
- ç„¶åå°±æ˜¯ä¿®æ”¹åå‘å­—å…¸ lenToCnt äº†, è¿™ä¸ªä¹Ÿå¾ˆç®€å•, å°±æ˜¯æ‹¿åˆ°åŸæ¥å·¦å³ä¸¤ä¾§è¿ç»­ 1 çš„é•¿åº¦ left å’Œ right, å°†å…¶å¯¹åº”çš„å€¼å„å‡å» left å’Œ right, å› ä¸ºè¿™äº›ä¸‹æ ‡çš„é•¿åº¦éƒ½ä¸å†æ˜¯åŸæ¥çš„å€¼äº†, ç„¶åå†æŠŠæ€»é•¿åº¦ left+right+1 åœ¨ lenToCnt å­—å…¸ä¸­çš„å€¼åŠ ä¸Š left+right+1 å³å¯
- ä¸‹é¢ä»£ç å¯¹å¿…è¦çš„æ­¥éª¤æœ‰è¯¦ç»†çš„è§£é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N)`: åªéå†äº†æ•°ç»„ä¸€é
- ç©ºé—´å¤æ‚åº¦ `O(N)`: ä½¿ç”¨äº†é¢å¤–ä¸¤ä¸ªå­—å…¸, éœ€è¦å­˜ N ä¸ªå…ƒç´ 

### ä»£ç 

```python
class Solution:
    def findLatestStep(self, arr: List[int], m: int) -> int:
        n = len(arr)
        lenToCnt = collections.defaultdict(int)
        iToLen = {}
        res = -1
        for index, x in enumerate(arr):
            # è½¬æˆä»¥0ä¸ºèµ·ç‚¹çš„ä¸‹æ ‡
            i = x - 1
            # åŸæ¥çš„å·¦ä¾§å’Œå³ä¾§çš„è¿ç»­1çš„é•¿åº¦
            left = 0
            right = 0
            # æ–°çš„è¿ç»­1çš„èµ·ç‚¹å’Œç»ˆç‚¹ä¸‹æ ‡, åˆå§‹åŒ–ä¸ºå½“å‰ä¸‹æ ‡
            start = i
            end = i
            if i - 1 >= 0 and i - 1 in iToLen:
                # æ›´æ–°å·¦ä¾§é•¿åº¦å’Œèµ·ç‚¹ä¸‹æ ‡
                left = iToLen[i - 1]
                start -= left
            if i + 1 < n and i + 1 in iToLen:
                # æ›´æ–°å³ä¾§é•¿åº¦å’Œç»ˆç‚¹ä¸‹æ ‡
                right = iToLen[i + 1]
                end += right
            newlen = left + right + 1
            # æ›´æ–°iToLenå­—å…¸, åªéœ€è¦æ›´æ–°ä¸¤ä¸ªè¾¹ç•Œå³å¯
            iToLen[start] = newlen
            iToLen[end] = newlen
            # æ›´æ–°lenToCntå­—å…¸, å‡å»æ—§é•¿åº¦çš„å€¼, åŠ ä¸Šæ–°é•¿åº¦çš„å€¼
            lenToCnt[left] -= left
            lenToCnt[right] -= right
            lenToCnt[newlen] += newlen
            if lenToCnt[m] > 0:
                # å¦‚æœä»æœ‰è¿ç»­1é•¿åº¦ä¸ºmçš„éƒ¨åˆ†, æ›´æ–°æœ€ç»ˆç»“æœä¸ºå½“å‰arrä¸‹æ ‡+1
                res = index + 1
        return res
```

---

# [5498] çŸ³å­æ¸¸æˆ V

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•é¿å…é‡å¤è®¡ç®—?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- ä¸€èˆ¬å¯¹äºè¿™ç§åšå¼ˆé—®é¢˜, éƒ½å¯ä»¥å…ˆå°è¯•ç”¨è®°å¿†åŒ–æœç´¢çš„æ€è·¯æ¥è§£å†³, è¿™ä¸ªé¢˜ä¹Ÿä¸ä¾‹å¤–
- ä½†è¿™é“é¢˜ä¸éœ€è¦åŒæ–¹åšæœ€ä¼˜å†³ç­–, åªéœ€è¦ Alice ä¸€ä¸ªäººæ¥åˆ†, æ‰€ä»¥ä¸éœ€è¦é¢å¤–ä¸€ä¸ª flag æ¥åˆ¤æ–­å½“å‰æ˜¯è°çš„å›åˆ
- ç›´æ¥æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹, ä¼ å…¥å½“å‰å…ƒç»„(è½¬æˆå…ƒç»„çš„ç›®çš„æ˜¯å¯ä»¥ä½œä¸º memo å­—å…¸çš„ key), ç„¶åä¾æ¬¡éå†å½“å‰å…ƒç»„, åŠ¨æ€æ±‚å¾—å·¦ä¾§å’Œå³ä¾§éƒ¨åˆ†çš„å’Œ, æ ¹æ®é¢˜ç›®æè¿°çš„æƒ…å†µç»§ç»­é€’å½’, æœ€ç»ˆæ±‚å¾—æœ€å¤§å€¼ä½œä¸ºå½“å‰å…ƒç»„çš„æœ€ç»ˆç»“æœ, åŠ å…¥ memo å­—å…¸ä¸­
- é€’å½’å‡ºå£æ˜¯å…ƒç»„é•¿åº¦ä¸º 1 çš„æ—¶å€™, æ­¤æ—¶æ¸¸æˆç»“æŸ, ç›´æ¥è¿”å› 0 å³å¯
- ä¸‹é¢ä»£ç å¯¹å¿…è¦çš„æ­¥éª¤æœ‰è¯¦ç»†çš„è§£é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N^3)`: memo å­—å…¸ä¸­æœ€å¤šå­˜ N^2 ä¸ªçŠ¶æ€(å¯¹åº”é•¿åº¦ä¸º 2~N çš„å…ƒç»„, é•¿åº¦ä¸º 2 æ—¶æœ‰ N-1 ä¸ªå…ƒç»„, ä¸º N æ—¶æœ‰ 1 ä¸ª, æ‰€ä»¥å‰ N-1 é¡¹å’Œå°±æ˜¯ N^2 æ•°é‡çº§), ç„¶åæ¯æ¬¡é€’å½’çš„æ—¶å€™éœ€è¦éå† N ä¸ªæ•°
- ç©ºé—´å¤æ‚åº¦ `O(N^2)`: memo å­—å…¸éœ€è¦å­˜ `2*N` ä¸ªçŠ¶æ€

### ä»£ç 

```python
class Solution:
    def stoneGameV(self, stoneValue: List[int]) -> int:
        # è®°å¿†åŒ–æœç´¢
        memo = {}

        def getMx(t):
            if len(t) == 1:
                # é€’å½’å‡ºå£, åªæœ‰1ä¸ªçŸ³å¤´, è¿”å›0
                return 0
            # ç”¨memoå­—å…¸å­˜å½“å‰å…ƒç»„ä¸‹çš„æœ€å¤§å€¼, é¿å…é‡å¤è®¡ç®—
            if t not in memo:
                # å…ˆè®¡ç®—å½“å‰çš„æ€»å’Œ
                sm = sum(t)
                # è®°å½•å·¦ä¾§è¡Œçš„å½“å‰å’Œ
                leftsm = 0
                mx = 0
                for i in range(len(t) - 1):
                    leftsm += t[i]
                    # æ ¹æ®æ€»å’Œä»¥åŠå½“å‰å·¦ä¾§å’Œå¾—åˆ°å³ä¾§å’Œ
                    rightsm = sm - leftsm
                    # æ¨¡æ‹Ÿé¢˜ç›®çš„ä¸‰ç§æƒ…å†µ, æ±‚ä¸åŒåˆ†ç‰‡ä¸‹çš„æœ€å¤§å€¼, ä½œä¸ºå½“å‰å…ƒç»„çš„æœ€ç»ˆç»“æœ
                    if leftsm < rightsm:
                        mx = max(mx, leftsm + getMx(t[:i + 1]))
                    elif leftsm == rightsm:
                        mx = max(mx, leftsm + getMx(t[:i + 1]),
                                 leftsm + getMx(t[i + 1:]))
                    else:
                        mx = max(mx, rightsm + getMx(t[i + 1:]))
                memo[t] = mx

            return memo[t]

        return getMx(tuple(stoneValue))
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> æˆ‘çš„å…¬ä¼—å·: æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![qrcode.png](https://pic.leetcode-cn.com/1598094558-NQmiGH-qrcode.png)
