> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/hanota-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

åœ¨ç»å…¸æ±‰è¯ºå¡”é—®é¢˜ä¸­ï¼Œæœ‰ 3 æ ¹æŸ±å­åŠ N ä¸ªä¸åŒå¤§å°çš„ç©¿å­”åœ†ç›˜ï¼Œç›˜å­å¯ä»¥æ»‘å…¥ä»»æ„ä¸€æ ¹æŸ±å­ã€‚ä¸€å¼€å§‹ï¼Œæ‰€æœ‰ç›˜å­è‡ªä¸Šè€Œä¸‹æŒ‰å‡åºä¾æ¬¡å¥—åœ¨ç¬¬ä¸€æ ¹æŸ±å­ä¸Š(å³æ¯ä¸€ä¸ªç›˜å­åªèƒ½æ”¾åœ¨æ›´å¤§çš„ç›˜å­ä¸Šé¢)ã€‚ç§»åŠ¨åœ†ç›˜æ—¶å—åˆ°ä»¥ä¸‹é™åˆ¶:

1. æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;
2. ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;
3. ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚

è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ã€‚

ä½ éœ€è¦åŸåœ°ä¿®æ”¹æ ˆã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼šA = [2, 1, 0], B = [], C = []
- è¾“å‡ºï¼šC = [2, 1, 0]

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼šA = [1, 0], B = [], C = []
- è¾“å‡ºï¼šC = [1, 0]

### æç¤º:

- A ä¸­ç›˜å­çš„æ•°ç›®ä¸å¤§äº 14 ä¸ªã€‚

## é¢˜ç›®æ€è€ƒ

1. æœ‰ä»€ä¹ˆæ–¹æ³•æ¥æ¨¡æ‹Ÿæ•´ä¸ªè¿‡ç¨‹?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- è¿™ä¸ªé¢˜ç›®ä¹ä¸€çœ‹æ— ä»ä¸‹æ‰‹, æˆ‘ä»¬å¾ˆéš¾è€ƒè™‘æ‰€æœ‰ç»†èŠ‚, å¾—å‡ºä¸­é—´æŸä¸ªçŠ¶æ€ä¸‹çš„ç›˜å­åˆ†å¸ƒæƒ…å†µ
- ä½†æˆ‘ä»¬å¯ä»¥æ¢ä¸ªè§’åº¦æ€è€ƒ, å°†é—®é¢˜ä»å¤§åŒ–å°, ä¸å†è€ƒè™‘ä¸­é—´ç»†èŠ‚:
  - å‡è®¾å½“å‰ A æœ‰ n ä¸ªä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å‡å°çš„ç›˜å­, B å’Œ C éƒ½æ˜¯ç©ºçš„ (å³åˆå§‹æƒ…å†µ)
  - æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ‰‹æ®µ, å°† A ä¸Šé¢çš„ n-1 ä¸ªå°ç›˜å­ç§»åŠ¨åˆ° B, ç„¶åå°†æœ€ä¸‹é¢æœ€å¤§çš„ç›˜å­ç§»åŠ¨åˆ° C, æœ€åå†å°† B çš„ n-1 ä¸ªå°ç›˜å­ç§»åŠ¨åˆ° C
  - è¿™æ ·å°±å®Œæˆäº†å°† A çš„ n ä¸ªç›˜å­ç§»åŠ¨åˆ° C çš„æ•´ä¸ªè¿‡ç¨‹
- å½’çº³æ€»ç»“ä¸Šè¿°è¿‡ç¨‹, æˆ‘ä»¬ä¸éš¾å‘ç°, ä» A åˆ° C ç§»åŠ¨ n ä¸ªç›˜å­, ä» A åˆ° B ç§»åŠ¨ n-1 ä¸ªå°ç›˜å­å’Œä» B åˆ° C ç§»åŠ¨ n-1 ä¸ªå°ç›˜å­ä¸‰è€…å…·æœ‰ç›¸åŒçš„ç‰¹ç‚¹: 1. ç›®æ ‡æŸ±å­ä¸ºç©º; 2. éƒ½æœ‰é¢å¤–ä¸€ä¸ªç©ºçš„æŸ±å­ç”¨äºç§»åŠ¨. å”¯ä¸€ä¸åŒçš„åªæ˜¯ç§»åŠ¨çš„ç›˜å­çš„æ•°ç›®
- æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸€è¿‡ç¨‹æå–å‡ºæ¥ä½œä¸ºä¸€ä¸ªå‡½æ•°, é¢å¤–åŠ å…¥ä¸€ä¸ªå‚æ•°è¡¨ç¤ºç§»åŠ¨çš„ç›˜å­æ•°ç›®, ç„¶åé€’å½’è°ƒç”¨å³å¯å®ç°ä¸Šè¿°è¿‡ç¨‹
- æœ€åæ³¨æ„é€’å½’å‡½æ•°éœ€è¦è®¾ç½®å‡ºå£, ä¸Šè¿°è¿‡ç¨‹åœ¨ n=1 æ—¶å°±æ˜¯ç®€å•çš„å°† A çš„æ ˆé¡¶ç›˜å­å¼¹å‡ºå¹¶å‹å…¥ C ä¸­, ä¸å†éœ€è¦é€’å½’è°ƒç”¨, è¿™ä¹Ÿå°±æ˜¯é€’å½’å‡ºå£
- ä¸‹é¢ä»£ç å¯¹åº”çš„å°±æ˜¯ä¸Šé¢æ•´ä¸ªåˆ†æ, å¹¶åŠ å…¥äº†å¿…è¦çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(2^N): ç§»åŠ¨ N ä¸ªç›˜å­æ—¶éœ€è¦ä¸¤æ¬¡é€’å½’è°ƒç”¨ç§»åŠ¨ N-1 ä¸ªç›˜å­çš„å‡½æ•°, æ‰€ä»¥æ€»æ—¶é—´æ˜¯ N ä¸ª 2 ç›¸ä¹˜, å³ 2^N
- ç©ºé—´å¤æ‚åº¦ O(N): é€’å½’æ ˆçš„æ¶ˆè€—, é€’å½’æ·±åº¦å°±æ˜¯ N, è¡¨ç¤ºä» N ä¸€è·¯é€’å½’è°ƒç”¨åˆ°é€’å½’å‡ºå£ 1 çš„è¿‡ç¨‹(æ ˆä¸­ä¿å­˜ N ä¸ªå‡½æ•°)

#### ä»£ç 

##### Python 3

```python
class Solution:
    def hanota(self, A, B, C) -> None:
        """
        Do not return anything, modify C in-place instead.
        """
        # é€’å½’+é¢å¤–å‚æ•°æ˜¾å¼æŒ‡å®šç§»åŠ¨çš„ç›˜å­æ•°+æ³¨æ„é€’å½’è°ƒç”¨æ—¶çš„å‚æ•°é¡ºåº
        def move(source, temp, target, n):
            # moveå‡½æ•°è¡¨ç¤ºsourceç§»åŠ¨nä¸ªç›˜å­åˆ°targetçš„è¿‡ç¨‹ (tempä¸ºç©º)
            if n == 1:
                # é€’å½’å‡ºå£, åªéœ€è¦ç§»åŠ¨ä¸€ä¸ªç›˜å­, ç›´æ¥å¼¹å‡ºsourceçš„æ ˆé¡¶å…ƒç´ å¹¶å‹å…¥targetå³å¯
                target.append(source.pop())
                return
            # æ­¤æ—¶è¦ç§»åŠ¨è¶…è¿‡1ä¸ªç›˜å­, æˆ‘ä»¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤:
            # 1. å…ˆæŠŠsourceä¸Šé¢n-1ä¸ªå°ç›˜å­ç§»åŠ¨åˆ°temp
            move(source, target, temp, n - 1)
            # 2. ç„¶åå°†sourceæœ€å¤§çš„ç›˜å­ç§»åŠ¨åˆ°target
            target.append(source.pop())
            # 3. æœ€åå†é€’å½’è°ƒç”¨è¯¥å‡½æ•°, å°†tempçš„n-1ä¸ªå°ç›˜å­ç§»åŠ¨åˆ°target
            move(temp, source, target, n - 1)

        move(A, B, C, len(A))
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
