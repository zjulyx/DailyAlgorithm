> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/successor-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œæ‰¾å‡ºäºŒå‰æœç´¢æ ‘ä¸­æŒ‡å®šèŠ‚ç‚¹çš„â€œä¸‹ä¸€ä¸ªâ€èŠ‚ç‚¹ï¼ˆä¹Ÿå³ä¸­åºåç»§ï¼‰ã€‚

å¦‚æœæŒ‡å®šèŠ‚ç‚¹æ²¡æœ‰å¯¹åº”çš„â€œä¸‹ä¸€ä¸ªâ€èŠ‚ç‚¹ï¼Œåˆ™è¿”å› nullã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥: root = [2,1,3], p = 1

```
  2
 / \
1   3
```

- è¾“å‡º: 2

### ç¤ºä¾‹ 2:

- è¾“å…¥: root = [5,3,6,2,4,null,null,1], p = 6

```
      5
     / \
    3   6
   / \
  2   4
 /
1
```

- è¾“å‡º: null

## é¢˜ç›®æ€è€ƒ

1. å¯ä»¥åˆ©ç”¨å“ªäº›æ€§è´¨æ¥åˆ¤æ–­?
2. å¯ä»¥åˆ†åˆ«ç”¨è¿­ä»£å’Œé€’å½’å®ç°å—?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- äºŒå‰æœç´¢æ ‘æœ€ç›´è§‚çš„æ€§è´¨å°±æ˜¯: å½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºå·¦å­æ ‘ä¸Šä»»æ„èŠ‚ç‚¹çš„å€¼, å¹¶å°äºå³å­æ ‘ä¸Šä»»æ„èŠ‚ç‚¹çš„å€¼
- æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€æ€§è´¨, é‡‡ç”¨ç±»ä¼¼äºŒåˆ†è¿­ä»£æŸ¥æ‰¾çš„æ–¹å¼æ¥æ‰¾åç»§è€… res, å…·ä½“åšæ³•å¦‚ä¸‹:
- é¦–å…ˆåˆå§‹åŒ–åç»§è€… res ä¸º null, ä»£è¡¨ p æ˜¯æœ€å³èŠ‚ç‚¹, æ²¡æœ‰åç»§è€…çš„æƒ…å†µ
- ç„¶åä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ ‘, å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µ:
  - å¦‚æœå½“å‰èŠ‚ç‚¹å¤§äº p, å°† res æš‚æ—¶ç½®ä¸ºå½“å‰èŠ‚ç‚¹, ç„¶åå°è¯•å¾€å·¦å­æ ‘ç»§ç»­æŸ¥æ‰¾, çœ‹çœ‹æœ‰æ²¡æœ‰æ›´å°çš„å¤§äº p çš„èŠ‚ç‚¹
  - å¦‚æœå½“å‰èŠ‚ç‚¹å°äºç­‰äº p, è¯´æ˜å®ƒä¸å¯èƒ½æ˜¯åç»§è€…, åªèƒ½å¾€å³å­æ ‘æŸ¥æ‰¾
- éå†ç»“æŸå, æœ€åçš„ res åªèƒ½æ˜¯ null æˆ–è€…æ˜¯æœ€å°çš„å¤§äº p çš„èŠ‚ç‚¹, å³åç»§è€…

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦éå†ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå¸¸æ•°ç©ºé—´çš„å˜é‡

#### ä»£ç 

```python
class Solution:
    def inorderSuccessor(self, root: TreeNode, p: TreeNode) -> TreeNode:
        # æ–¹æ³•1: åˆ©ç”¨äºŒå‰æœç´¢æ ‘æ€§è´¨, ç±»ä¼¼äºŒåˆ†è¿­ä»£æŸ¥æ‰¾
        cur = root
        res = None
        while cur:
            if cur.val > p.val:
                # å½“å‰èŠ‚ç‚¹å¤§äºp, å°†resæš‚æ—¶ç½®ä¸ºå½“å‰èŠ‚ç‚¹, ç„¶åå°è¯•å¾€å·¦å­æ ‘ç»§ç»­æŸ¥æ‰¾, çœ‹çœ‹æœ‰æ²¡æœ‰æ›´å°çš„å¤§äºpçš„èŠ‚ç‚¹
                res = cur
                cur = cur.left
            else:
                # å½“å‰èŠ‚ç‚¹å°äºç­‰äºp, åªèƒ½å¾€å³å­æ ‘æŸ¥æ‰¾
                cur = cur.right
        # æœ€ç»ˆå¾—åˆ°çš„resä¸€å®šæ˜¯å¤§äºpçš„æœ€å°èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹(å¦‚æœpæœ€å¤§)
        return res
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- äºŒå‰æœç´¢æ ‘è¿˜æœ‰å¦ä¸€ä¸ªæ€§è´¨, å³ä¸­åºéå†æ˜¯æœ‰åºçš„
- æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸€æ€§è´¨, å¼•å…¥é¢å¤–å‚æ•° pre æ¥ä»£è¡¨å‰ä¸€ä¸ªèŠ‚ç‚¹, å¹¶å¼•å…¥ res è¡¨ç¤ºæœ€ç»ˆæ‰€æ±‚çš„åç»§è€…
- pre éœ€è¦åˆå§‹åŒ–ä¸º null, å› ä¸ºæœ€å·¦èŠ‚ç‚¹å‰é¢æ²¡æœ‰èŠ‚ç‚¹; res ä¹Ÿè¦åˆå§‹åŒ–ä¸º null, ä»£è¡¨ p æ˜¯æœ€å³èŠ‚ç‚¹, æ²¡æœ‰åç»§è€…çš„æƒ…å†µ
- ç„¶åè¿›è¡Œç»å…¸çš„é€’å½’ä¸­åºéå†: å¦‚æœå½“å‰çš„ pre èŠ‚ç‚¹æ°å¥½æ˜¯ p, é‚£ä¹ˆå½“å‰èŠ‚ç‚¹è‡ªç„¶å°±æ˜¯åç»§è€… res; å¦åˆ™æ›´æ–° pre ä¸ºå½“å‰èŠ‚ç‚¹çš„å€¼, ç”¨äºä¹‹åçš„åˆ¤æ–­, å¹¶ç»§ç»­ä¸­åºéå†
- æœ€åå¦‚æœ res å·²ç»æ‰¾åˆ°äº†å°±å¯ä»¥ç›´æ¥ç»ˆæ­¢é€’å½’, åšåˆ°å‰ªæä¼˜åŒ–

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦éå†ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(logN): é€’å½’æ ˆçš„æ¶ˆè€—, é€’å½’æ·±åº¦æœ€å¤šæ˜¯æ ‘çš„é«˜åº¦, ä¹Ÿå³ logN

#### ä»£ç 

```python
class Solution:
    def inorderSuccessor(self, root: TreeNode, p: TreeNode) -> TreeNode:
        # æ–¹æ³•2: åˆ©ç”¨ä¸­åºéå†æ€§è´¨
        # ä¸­åºéå†, å…ˆæ‰¾åˆ°pèŠ‚ç‚¹, ä¹‹åéå†åˆ°çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å³ä¸ºæ‰€æ±‚
        pre, res = None, None

        def inorder(node):
            nonlocal pre
            nonlocal res
            if not node or res:
                # å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºæˆ–å·²ç»æ‰¾åˆ°äº†åç»§è€…, ç›´æ¥è¿”å›
                return
            inorder(node.left)
            if pre == p:
                # å‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯p, å½“å‰èŠ‚ç‚¹nodeè‡ªç„¶æ˜¯åç»§è€…
                res = node
            pre = node
            inorder(node.right)

        inorder(root)
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
