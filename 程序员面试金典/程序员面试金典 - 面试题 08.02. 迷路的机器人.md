> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/robot-in-a-grid-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

è®¾æƒ³æœ‰ä¸ªæœºå™¨äººååœ¨ä¸€ä¸ªç½‘æ ¼çš„å·¦ä¸Šè§’ï¼Œç½‘æ ¼ r è¡Œ c åˆ—ã€‚æœºå™¨äººåªèƒ½å‘ä¸‹æˆ–å‘å³ç§»åŠ¨ï¼Œä½†ä¸èƒ½èµ°åˆ°ä¸€äº›è¢«ç¦æ­¢çš„ç½‘æ ¼ï¼ˆæœ‰éšœç¢ç‰©ï¼‰ã€‚è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå¯»æ‰¾æœºå™¨äººä»å·¦ä¸Šè§’ç§»åŠ¨åˆ°å³ä¸‹è§’çš„è·¯å¾„ã€‚

![ç¤ºæ„å›¾](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/robot_maze.png)

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ 1 å’Œ 0 æ¥è¡¨ç¤ºã€‚

è¿”å›ä¸€æ¡å¯è¡Œçš„è·¯å¾„ï¼Œè·¯å¾„ç”±ç»è¿‡çš„ç½‘æ ¼çš„è¡Œå·å’Œåˆ—å·ç»„æˆã€‚å·¦ä¸Šè§’ä¸º 0 è¡Œ 0 åˆ—ã€‚å¦‚æœæ²¡æœ‰å¯è¡Œçš„è·¯å¾„ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚

### ç¤ºä¾‹ Â 1:

- è¾“å…¥:
  [
  Â  [0,0,0],
  Â  [0,1,0],
  Â  [0,0,0]
  ]
- è¾“å‡º: [[0,0],[0,1],[0,2],[1,2],[2,2]]
- è§£é‡Š:
  è¾“å…¥ä¸­æ ‡ç²—çš„ä½ç½®å³ä¸ºè¾“å‡ºè¡¨ç¤ºçš„è·¯å¾„ï¼Œå³
  0 è¡Œ 0 åˆ—ï¼ˆå·¦ä¸Šè§’ï¼‰ -> 0 è¡Œ 1 åˆ— -> 0 è¡Œ 2 åˆ— -> 1 è¡Œ 2 åˆ— -> 2 è¡Œ 2 åˆ—ï¼ˆå³ä¸‹è§’ï¼‰

### æç¤º:

- è¯´æ˜ï¼šrÂ  å’Œ c çš„å€¼å‡ä¸è¶…è¿‡ 100ã€‚

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•æ ¹æ®å‰é¢çš„åæ ‡å¾—å‡ºèƒ½å¦åˆ°è¾¾å½“å‰åæ ‡?
2. å¦‚ä½•æ±‚å‡ºæœ€ç»ˆè·¯å¾„?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, æœºå™¨äººåªèƒ½å‘ä¸‹æˆ–å‘å³ç§»åŠ¨, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹, æ ¹æ®å½“å‰åæ ‡çš„**å·¦è¾¹å’Œä¸Šè¾¹ç›¸é‚»åæ ‡**çš„å¯è¾¾æ€§æ¥åˆ¤æ–­å½“å‰åæ ‡æ˜¯å¦å¯è¾¾
- æ˜¾ç„¶è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’çš„æ€è·¯:
  - è®¾ dp[r][c] ä»£è¡¨èƒ½å¦åˆ°è¾¾åæ ‡(r,c)
  - åˆå§‹åŒ– dp[0][0] = True (å‰ææ˜¯å·¦ä¸Šè§’æ˜¯ 0), å…¶ä»–å€¼å…¨æ˜¯ False, è¡¨ç¤ºå¼€å§‹æ—¶åªæœ‰èµ·ç‚¹å¯è¾¾
  - ç„¶åæ ¹æ®å½“å‰åæ ‡çš„å€¼æ¥è¿›è¡ŒçŠ¶æ€è½¬ç§»:
    1. å¦‚æœå½“å‰åæ ‡å€¼æ˜¯ 0, dp[r][c] = dp[r-1][c] | dp[r][c-1], è¡¨ç¤ºå¦‚æœå·¦è¾¹å’Œä¸Šè¾¹ç›¸é‚»åæ ‡ä»»ä½•ä¸€ä¸ªå¯è¾¾, å°±èƒ½åˆ°è¾¾å½“å‰åæ ‡
    2. å¦‚æœå½“å‰åæ ‡å€¼æ˜¯ 1, åˆ™è·³è¿‡å®ƒ, ä¸å¯èƒ½åˆ°è¾¾
  - æœ€ç»ˆå³ä¸‹è§’åæ ‡çš„ dp å€¼å°±ä»£è¡¨æ˜¯å¦èƒ½åˆ°è¾¾å®ƒ
- åˆ¤æ–­å®Œå¯è¾¾æ€§ä¹‹å, æˆ‘ä»¬è¿˜éœ€è¦æ±‚å‡ºå¯è¡Œè·¯å¾„, è¿™é‡Œå¯ä»¥é‡‡ç”¨å€’æ¨çš„æ–¹å¼, å…·ä½“åšæ³•å¦‚ä¸‹:
  1. ä»å³ä¸‹è§’å¼€å§‹, æ‰¾å·¦è¾¹æˆ–ä¸Šè¾¹ç›¸é‚»çš„ dp å€¼æ˜¯ True çš„åæ ‡
  2. æ‰¾åˆ°åå°†å…¶åŠ å…¥ç»“æœåˆ—è¡¨, å¹¶ä½œä¸ºæ–°çš„åæ ‡ç»§ç»­éå†
  3. æœ€ç»ˆéå†åˆ°å·¦ä¸Šè§’ç»“æŸ, æ­¤æ—¶åˆ—è¡¨çš„é€†åºå°±æ˜¯ä¸€æ¡å¯è¡Œçš„è·¯å¾„
- ä¸‹é¢ä»£ç å¯¹åº”çš„å°±æ˜¯ä¸Šé¢æ•´ä¸ªè¿‡ç¨‹, å¹¶åŠ å…¥äº†å¿…è¦çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(MN): éœ€è¦éå†æ•´ä¸ªç½‘æ ¼(M å’Œ N åˆ†åˆ«æ˜¯è¡Œæ•°å’Œåˆ—æ•°)
- ç©ºé—´å¤æ‚åº¦ O(MN): éœ€è¦é¢å¤–çš„äºŒç»´ dp æ•°ç»„

#### ä»£ç 

##### Python 3

```python
class Solution:
    def pathWithObstacles(self, obstacleGrid: List[List[int]]) -> List[List[int]]:
        # åŠ¨æ€è§„åˆ’å­˜æ˜¯å¦å¯è¾¾+å€’æ¨æ‰¾æœ‰æ•ˆè·¯å¾„
        if not obstacleGrid or obstacleGrid[0][0] == 1:
            # ç©ºç½‘æ ¼æˆ–è€…èµ·ç‚¹æœ‰éšœç¢, æ²¡æœ‰å¯è¡Œè·¯å¾„
            return []
        rows, cols = len(obstacleGrid), len(obstacleGrid[0])
        dp = [[False] * cols for _ in range(rows)]
        dp[0][0] = True
        for r in range(rows):
            for c in range(cols):
                if obstacleGrid[r][c] == 0:
                    if r - 1 >= 0:
                        dp[r][c] |= dp[r - 1][c]
                    if c - 1 >= 0:
                        dp[r][c] |= dp[r][c - 1]
        if not dp[rows - 1][cols - 1]:
            # ä¸èƒ½åˆ°è¾¾å³ä¸‹è§’, æ²¡æœ‰å¯è¡Œè·¯å¾„
            return []
        # å€’æ¨æ‰¾æœ‰æ•ˆè·¯å¾„
        r, c = rows - 1, cols - 1
        res = [[r, c]]
        while r != 0 or c != 0:
            if r - 1 >= 0 and dp[r - 1][c]:
                # è·¯å¾„å¯ä»¥å‘ä¸Š
                r -= 1
            elif c - 1 >= 0 and dp[r][c - 1]:
                # è·¯å¾„åªèƒ½å‘å·¦
                c -= 1
            res.append([r, c])
        return res[::-1]
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
