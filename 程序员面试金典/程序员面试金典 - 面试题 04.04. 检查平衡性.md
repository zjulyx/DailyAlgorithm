> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/check-balance-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ£€æŸ¥äºŒå‰æ ‘æ˜¯å¦å¹³è¡¡ã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œå¹³è¡¡æ ‘çš„å®šä¹‰å¦‚ä¸‹ï¼šä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸¤æ£µå­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡ 1ã€‚

### ç¤ºä¾‹ 1:

ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å› true ã€‚

### ç¤ºä¾‹ 2:

ç»™å®šäºŒå‰æ ‘ [1,2,2,3,3,null,null,4,4]

```
      1
     / \
    2   2
   / \
  3   3
 / \
4   4
```

è¿”å› Â false ã€‚

## é¢˜ç›®æ€è€ƒ

1. éœ€è¦å®šä¹‰å“ªäº›è¾…åŠ©å‡½æ•°?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- æ ¹æ®é¢˜ç›®æè¿°, æ˜¾ç„¶éœ€è¦é€šè¿‡åˆ©ç”¨å½“å‰èŠ‚ç‚¹çš„é«˜åº¦æ¥åˆ¤æ–­æ˜¯å¦å¹³è¡¡
- æ‰€ä»¥å¼•å…¥ä¸€ä¸ªå‡½æ•°æ¥å¾—åˆ°å½“å‰èŠ‚ç‚¹é«˜åº¦, ç„¶ååˆ¤æ–­å·¦å³å­æ ‘çš„é«˜åº¦å·®æ˜¯å¦è¶…è¿‡ 1 æ¥åˆ¤æ–­æ˜¯å¦å¹³è¡¡
- è¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§, å¯ä»¥å°†è®¡ç®—é«˜åº¦å’Œåˆ¤æ–­å¹³è¡¡åˆäºŒä¸ºä¸€: å³å¦‚æœå½“å‰æ ‘ä¸å¹³è¡¡çš„è¯è¿”å›-1, å¦åˆ™è¿”å›æ­£å¸¸é«˜åº¦å€¼. å› ä¸ºæ­£å¸¸çš„é«˜åº¦å€¼éƒ½æ˜¯éè´Ÿæ•°, æ‰€ä»¥ -1 ä¸€å®šå¯ä»¥ä»£è¡¨ä¸å¹³è¡¡çš„çŠ¶æ€
- è¿™æ ·æœ€ååªéœ€è¦æ¯”è¾ƒæ ¹èŠ‚ç‚¹è°ƒç”¨å‡½æ•°åçš„è¿”å›å€¼æ˜¯å¦ä¸º-1 æ¥åˆ¤æ–­æ•´ä¸ªæ ‘æ˜¯å¦å¹³è¡¡äº†

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦éå†ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(logN): é€’å½’æ ˆçš„æ¶ˆè€—, é€’å½’æ·±åº¦æœ€å¤šæ˜¯æ ‘çš„é«˜åº¦, ä¹Ÿå³ logN

#### ä»£ç 

```python
class Solution:
    def isBalanced(self, root: TreeNode) -> bool:
        # åˆå¹¶è®¡ç®—é«˜åº¦å’Œå¹³è¡¡æ€§åˆ¤æ–­
        def getHeight(node):
            # ä¸å¹³è¡¡æ—¶è¿”å›-1, å¦åˆ™è¿”å›å½“å‰èŠ‚ç‚¹çš„é«˜åº¦
            if not node:
                return 0
            lh, rh = getHeight(node.left), getHeight(node.right)
            if lh == -1 or rh == -1 or abs(lh - rh) > 1:
                # å¦‚æœ1.å·¦å­æ ‘ä¸å¹³è¡¡; 2. å³å­æ ‘ä¸å¹³è¡¡; 3.å·¦å³å­æ ‘é«˜åº¦å·®ç»å¯¹å€¼å¤§äº1
                # åˆ™è¯´æ˜å½“å‰æ ‘ä¸å¹³è¡¡, è¿”å›-1
                return -1
            # åˆ°è¿™é‡Œè¯´æ˜å½“å‰æ ‘å¹³è¡¡, ä¸”lhå’Œrhéƒ½æ˜¯æ­£å¸¸çš„é«˜åº¦, å®ƒä»¬ä¹‹ä¸­è¾ƒå¤§å€¼+1å³ä¸ºå½“å‰æ ‘çš„é«˜åº¦
            return 1 + max(lh, rh)

        # æœ€ååˆ¤æ–­rootèŠ‚ç‚¹æ˜¯å¦è¿”å›-1å³å¯
        return getHeight(root) != -1
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
