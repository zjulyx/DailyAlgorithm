> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/reverse-bits-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ª 32 ä½æ•´æ•° numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä» 0 å˜ä¸º 1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸² 1 çš„é•¿åº¦ã€‚

### ç¤ºä¾‹ 1ï¼š

- è¾“å…¥: num = 1775(11011101111)
- è¾“å‡º: 8

### ç¤ºä¾‹ 2ï¼š

- è¾“å…¥: num = 7(0111)
- è¾“å‡º: 4

## é¢˜ç›®æ€è€ƒ

1. æ ¹æ®é¢˜ç›®æè¿°, æœ‰æ²¡æœ‰ä»€ä¹ˆç®€å•ç›´æ¥çš„æ€è·¯?
2. å¦‚ä½•ä¼˜åŒ–, èƒ½å¤Ÿé€šè¿‡ä¸€æ¬¡éå†å°±å¾—åˆ°ç»“æœ?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- æœ€ç›´æ¥çš„æ–¹æ³•, æ—¢ç„¶è¦æ±‚ç¿»è½¬åçš„æœ€é•¿é•¿åº¦, é‚£å°±å¯ä»¥é’ˆå¯¹æ¯ä¸€ä½ 0, å°†å…¶å˜æˆ 1 åç»Ÿè®¡æ–°æ•°å­—çš„æœ€é•¿è¿ç»­ 1 é•¿åº¦, çœ‹çœ‹å“ªä¸ªæœ€é•¿å³å¯
- æ³¨æ„ä¸è¦å¿˜äº†æ±‚åŸæ¥æ•°å­—çš„æœ€é•¿é•¿åº¦, å› ä¸ºé¢˜ç›®è¯´çš„æ˜¯å¯ä»¥ç¿»è½¬, æ„æ€å°±æ˜¯ä¸ç¿»è½¬ä¹Ÿè¡Œ

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(32\*32): æ€»å…±éœ€è¦åˆ¤æ–­ 32 ä½ä¸­æ¯ä¸€ä½çš„ 0 ç¿»è½¬åçš„æ•°å­—(æœ€å·®æƒ…å†µ), æ¯æ¬¡åˆ¤æ–­éœ€è¦éå†æ‰€æœ‰ 32 ä½æ•°, æ‰€ä»¥æ˜¯ O(32\*32)
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

#### ä»£ç 

##### Python 3

```python
class Solution:
    def reverseBits(self, num: int) -> int:
        def getLongest1(n):
            res = 0
            curcnt = 0
            for i in range(32):
                if n & 1 << i:
                    # å½“å‰ä½æ˜¯1, è¿ç»­é•¿åº¦curcnt+1
                    curcnt += 1
                    res = max(res, curcnt)
                else:
                    # å½“å‰ä½æ˜¯0, ä¸­æ–­äº†è¿ç»­1, curcnté‡ç½®ä¸º0
                    curcnt = 0
            return res

        res = getLongest1(num)
        for i in range(32):
            if num & (1 << i) == 0:
                # å°†ç¬¬iä½çš„0ç¿»è½¬ä¸º1åè®¡ç®—æ–°çš„æ•°å­—çš„æœ€å¤§è¿ç»­1çš„é•¿åº¦
                res = max(res, getLongest1(num | (1 << i)))
        return res
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- å›é¡¾æ–¹æ¡ˆ 1, å¯¹äºæ¯ä¸€ä½çš„ 0 éƒ½éœ€è¦ç¿»è½¬ä¸‹ç„¶åç»Ÿè®¡æ–°çš„æ•°å­—çš„è¿ç»­ 1 é•¿åº¦, è¿™ä¸ªå·¥ä½œæ˜¯å¦å¯ä»¥é€šè¿‡ä¸€æ¬¡éå†å°±å®Œæˆ?
- å› ä¸ºä¸­é—´å¯èƒ½å­˜åœ¨ç¿»è½¬, æ‰€ä»¥éœ€è¦è®°å½•ä¸Šä¸€ä¸ªè¿ç»­ 1 å’Œå½“å‰çš„è¿ç»­ 1 çš„é•¿åº¦, è‡ªç„¶å°±æƒ³åˆ°äº†åŒæŒ‡é’ˆ
- å…·ä½“åšæ³•å¦‚ä¸‹:
  - ä½¿ç”¨ä¸¤ä¸ªå˜é‡ pre å’Œ cur
  - pre è¡¨ç¤ºä¸Šä¸€ä¸ªè¿ç»­ 1 çš„é•¿åº¦, åˆå§‹åŒ–ä¸º 0
  - cur è¡¨ç¤ºå½“å‰è¿ç»­ 1 çš„é•¿åº¦, åˆå§‹åŒ–ä¸º 0
  - ç»“æœå³ä¸ºæœ€å¤§çš„ pre+1+cur (1 è¡¨ç¤ºä¸­é—´ä» 0 ç¿»è½¬æˆçš„é‚£ä¸ª 1)
- **éœ€è¦æ³¨æ„ 32 ä½å…¨ä¸º 1 (å³-1)çš„ç‰¹æ®Šæƒ…å†µ**, è¿™ä¸ªæ—¶å€™ cur æ˜¯ 32, pre æ˜¯ 0, pre+1+cur å°±ä¸å¯¹äº†, æ‰€ä»¥æœ€ç»ˆç»“æœ res éœ€è¦ä¸º min(32, res)

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(32): åªéœ€è¦éå†ä¸€éæ¯ä¸€ä½å³å¯
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

#### ä»£ç 

##### Python 3

```python
class Solution:
    def reverseBits(self, num: int) -> int:
        pre, cur = 0, 0
        # ç»“æœè‡³å°‘ä¸º1, å› ä¸ºå³ä½¿å…¨ä¸º0, ä¹Ÿå¯ä»¥ç¿»è½¬å…¶ä¸­ä¸€ä½å˜æˆ1ä¸ª1
        res = 1
        for i in range(32):
            if num & (1 << i):
                # å½“å‰ä½æ˜¯1, å¢åŠ curçš„é•¿åº¦, åŒæ—¶æ›´æ–°ç»“æœå€¼
                cur += 1
                res = max(res, pre + cur + 1)
            else:
                # å½“å‰ä½æ˜¯0, ä¸èƒ½ç»§ç»­è¿ç»­ä¸‹å»äº†, æ›´æ–°preå’Œcur
                pre = cur
                cur = 0
        return min(32, res)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
