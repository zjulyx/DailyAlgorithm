> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/check-subtree-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

æ£€æŸ¥å­æ ‘ã€‚ä½ æœ‰ä¸¤æ£µéå¸¸å¤§çš„äºŒå‰æ ‘ï¼šT1ï¼Œæœ‰å‡ ä¸‡ä¸ªèŠ‚ç‚¹ï¼›T2ï¼Œæœ‰å‡ ä¸‡ä¸ªèŠ‚ç‚¹ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œåˆ¤æ–­ T2 æ˜¯å¦ä¸º T1 çš„å­æ ‘ã€‚

å¦‚æœ T1 æœ‰è¿™ä¹ˆä¸€ä¸ªèŠ‚ç‚¹ nï¼Œå…¶å­æ ‘ä¸ T2 ä¸€æ¨¡ä¸€æ ·ï¼Œåˆ™ T2 ä¸º T1 çš„å­æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»èŠ‚ç‚¹ n å¤„æŠŠæ ‘ç æ–­ï¼Œå¾—åˆ°çš„æ ‘ä¸ T2 å®Œå…¨ç›¸åŒã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼št1 = [1, 2, 3], t2 = [2]
- è¾“å‡ºï¼štrue

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼št1 = [1, null, 2, 4], t2 = [3, 2]
- è¾“å‡ºï¼šfalse

### æç¤ºï¼š

- æ ‘çš„èŠ‚ç‚¹æ•°ç›®èŒƒå›´ä¸º[0, 20000]ã€‚

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•åˆ¤æ–­ T1 çš„å­æ ‘å’Œ T2 æ˜¯å¦å®Œå…¨ç›¸åŒ?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- ä¸ºäº†åˆ¤æ–­ T1 çš„å­æ ‘å’Œ T2 æ˜¯å¦å®Œå…¨ç›¸åŒ, æˆ‘ä»¬å¯ä»¥é¢å¤–å®šä¹‰ä¸€ä¸ªæ–¹æ³•, æ¥é€’å½’æ¯”è¾ƒå½“å‰ T1 å’Œ T2 èŠ‚ç‚¹æ˜¯å¦æ»¡è¶³å­æ ‘å…³ç³»
- ç„¶åä» T1 å’Œ T2 çš„æ ¹èŠ‚ç‚¹å¼€å§‹è°ƒç”¨è¯¥æ–¹æ³•, å¦‚æœå½“å‰ä¸¤æ£µæ ‘å®Œå…¨ç›¸åŒå°±ç›´æ¥è¿”å› true, å¦åˆ™å°±å°† T1 ç§»åŠ¨åˆ°å…¶å·¦å³å­èŠ‚ç‚¹ä½ç½®, é‡æ–°ä¸ T2 çš„æ ¹èŠ‚ç‚¹æ¯”è¾ƒå³å¯
- ä¸‹é¢ä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(MN)`
  - å‡è®¾ T1 å’Œ T2 çš„èŠ‚ç‚¹æ•°ç›®åˆ†åˆ«æ˜¯ M å’Œ N, é‚£ä¹ˆæœ€å·®æƒ…å†µæ˜¯å¯¹äºæ¯ä¸ª T1 èŠ‚ç‚¹, éƒ½è¦è°ƒç”¨ä¸€æ¬¡ match æ–¹æ³•éå†æ•´ä¸ª T2 æ ‘, æ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ `O(MN)`
- ç©ºé—´å¤æ‚åº¦ `O(logM)`
  - checkSubTree é€’å½’è°ƒç”¨åˆ™æœ€å¤šä½¿ç”¨ `O(logM)` é€’å½’æ ˆç©ºé—´, checkSame é€’å½’è°ƒç”¨ä½¿ç”¨ `O(log(min(M, N)))` é€’å½’æ ˆç©ºé—´, æ‰€ä»¥æ•´ä½“ç©ºé—´å¤æ‚åº¦ä¸º `O(logM)`

#### ä»£ç 

```python
class Solution:
    def checkSubTree(self, t1: TreeNode, t2: TreeNode) -> bool:
        # é¢å¤–checkSameæ£€æŸ¥n1å’Œn2æ˜¯å¦å®Œå…¨ä¸€æ ·
        if not t1:
            return not t2

        def checkSame(n1, n2):
            if not n1 and not n2:
                # éƒ½è¾¾åˆ°ç©ºèŠ‚ç‚¹, å®Œå…¨ä¸€æ ·
                return True
            if not n1 or not n2:
                # æ­¤æ—¶è¯´æ˜æŸä¸ªèŠ‚ç‚¹æ˜¯ç©º, å¦ä¸€ä¸ªä¸æ˜¯, ä¸€å®šä¸å¯èƒ½å®Œå…¨ä¸€æ ·
                return False
            # æ—¢è¦å½“å‰n1å’Œn2çš„å€¼ç›¸ç­‰, åŒæ—¶å„è‡ªå·¦å³å­æ ‘éƒ¨åˆ†ä¹Ÿè¦åŒ¹é…
            return n1.val == n2.val and checkSame(
                n1.left, n2.left) and checkSame(n1.right, n2.right)

        # è¦ä¹ˆt1å’Œt2å®Œå…¨åŒ¹é…, è¦ä¹ˆt2å±äºt1çš„å·¦æˆ–å³å­æ ‘çš„æŸä¸€éƒ¨åˆ†
        return checkSame(t1, t2) or self.checkSubTree(
            t1.left, t2) or self.checkSubTree(t1.right, t2)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
