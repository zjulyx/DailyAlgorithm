> é¢˜ç›®éš¾åº¦: å›°éš¾

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/pile-box-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

å †ç®±å­ã€‚ç»™ä½ ä¸€å † n ä¸ªç®±å­ï¼Œç®±å­å®½ wiã€æ·± diã€é«˜ hiã€‚ç®±å­ä¸èƒ½ç¿»è½¬ï¼Œå°†ç®±å­å †èµ·æ¥æ—¶ï¼Œä¸‹é¢ç®±å­çš„å®½åº¦ã€é«˜åº¦å’Œæ·±åº¦å¿…é¡»å¤§äºä¸Šé¢çš„ç®±å­ã€‚å®ç°ä¸€ç§æ–¹æ³•ï¼Œæ­å‡ºæœ€é«˜çš„ä¸€å †ç®±å­ã€‚ç®±å †çš„é«˜åº¦ä¸ºæ¯ä¸ªç®±å­é«˜åº¦çš„æ€»å’Œã€‚

è¾“å…¥ä½¿ç”¨æ•°ç»„[wi, di, hi]è¡¨ç¤ºæ¯ä¸ªç®±å­ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼šbox = [[1, 1, 1], [2, 2, 2], [3, 3, 3]]
- è¾“å‡ºï¼š6

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼šbox = [[1, 1, 1], [2, 3, 4], [2, 6, 7], [3, 4, 5]]
- è¾“å‡ºï¼š10

### æç¤º:

- ç®±å­çš„æ•°ç›®ä¸å¤§äº 3000 ä¸ªã€‚

## é¢˜ç›®æ€è€ƒ

1. éœ€è¦è¿›è¡Œå“ªäº›é¢„å¤„ç†?
2. å¦‚ä½•å¾—åˆ°æŸä¸ªç®±å­ä½œä¸ºé¡¶éƒ¨çš„æœ€å¤§é«˜åº¦?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- åˆ†æé¢˜ç›®, æˆ‘ä»¬å¦‚æœå¯ä»¥å¾—åˆ°å„ä¸ªç®±å­ä½œä¸ºé¡¶éƒ¨çš„æœ€å¤§é«˜åº¦, é‚£ä¹ˆæœ€ç»ˆç»“æœè‡ªç„¶å°±æ˜¯è¿™äº›é«˜åº¦çš„æœ€å¤§å€¼äº†, é‚£å¦‚ä½•å¾—åˆ°æŸä¸ªç®±å­ä½œä¸ºé¡¶éƒ¨çš„æœ€å¤§é«˜åº¦å‘¢?
- å‡è®¾ç°åœ¨æœ‰ä¸ªç®±å­ j, è¦æƒ³å¾—åˆ°å®ƒä½œä¸ºé¡¶éƒ¨çš„æœ€å¤§é«˜åº¦, åªéœ€è¦éå†æ¯”å®ƒæ›´å¤§çš„ç®±å­, å¾—åˆ°å…¶ä¸­æœ€å¤§çš„é«˜åº¦, å¹¶ç´¯åŠ ç®±å­ j è‡ªèº«çš„é«˜åº¦, å³å¯å¾—åˆ°ç®±å­ j ä½œä¸ºé¡¶éƒ¨çš„æœ€å¤§é«˜åº¦
- è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’çš„å…¸å‹æ€è·¯: å‡è®¾ dp[j]è¡¨ç¤ºç®±å­ j åœ¨é¡¶éƒ¨çš„æœ€å¤§é«˜åº¦, é‚£ä¹ˆ dp[j] = max(dp[i]+hj) (ç®±å­ i çš„é•¿å®½é«˜éƒ½è¦å¤§äºç®±å­ j)
- è€Œä¸Šè¿°åšæ³•çš„å‰ææ˜¯: è®¡ç®— dp[j] æ—¶, æ‰€æœ‰æ›´å¤§ç®±å­çš„ dp å€¼éƒ½å·²ç»è®¡ç®—å¾—åˆ°
- è¦æƒ³æ»¡è¶³è¿™ä¸€æ¡ä»¶, æˆ‘ä»¬åªéœ€è¦å¯¹åŸæ•°ç»„è¿›è¡Œé€†åºæ’åº, è¿™æ ·å°±èƒ½ä¿è¯å¯¹äºä¸‹æ ‡ä¸º j çš„ç®±å­, æ¯”å®ƒæ›´å¤§çš„ç®±å­çš„ä¸‹æ ‡åªå¯èƒ½å°äº j, è€Œä¸ä¼šå¤§äº j, è¿™æ ·æˆ‘ä»¬åªéœ€è¦éå†æ‰€æœ‰å°äºä¸‹æ ‡ j çš„ç®±å­çš„ dp å€¼å³å¯
- ä¸‹é¢çš„ä»£ç å°±å¯¹åº”äº†ä¸Šé¢çš„æ•´ä¸ªè¿‡ç¨‹, å¹¶ä¸”æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N^2)`: ä¸¤é‡å¾ªç¯, æ¯ä¸€é‡å¾ªç¯æœ€å¤šéå† N ä¸ªå…ƒç´ 
- ç©ºé—´å¤æ‚åº¦ `O(N)`: é¢å¤– N ä¸ªå…ƒç´ çš„ DP æ•°ç»„

#### ä»£ç 

```python
class Solution:
    def pileBox(self, box: List[List[int]]) -> int:
        # å…ˆæ’åºå†DP
        # dp[j]è¡¨ç¤ºç®±å­jåœ¨é¡¶éƒ¨çš„æœ€å¤§é«˜åº¦, é‚£ä¹ˆdp[j] = max(dp[i]+hj) (ç®±å­içš„é•¿å®½é«˜éƒ½è¦å¤§äºç®±å­j)
        n = len(box)
        # é¦–å…ˆå¯¹ç®±å­é€†åºæ’åº, è¿™æ ·ä¸‹æ ‡ä¸º0çš„ç®±å­å®½åº¦æœ€å¤§, ä¾æ¬¡é€’å‡, ä¿è¯äº†ä¸Šé¢çš„è½¬ç§»æ–¹ç¨‹ä¸­çš„iåªå¯èƒ½å°äºj
        box.sort(reverse=True)
        # åˆå§‹åŒ–dpå€¼ä¸ºå„ä¸ªç®±å­çš„é«˜åº¦, å› ä¸ºæ¯ä¸ªç®±å­è‡³å°‘èƒ½è¾¾åˆ°è‡ªèº«é«˜åº¦
        dp = [h for _, _, h in box]
        for j in range(n):
            wj, dj, hj = box[j]
            for i in range(j):
                # éå†ä¹‹å‰çš„ç®±å­, åªæœ‰è¿™éƒ¨åˆ†ç®±å­å¯èƒ½æ»¡è¶³é•¿å®½é«˜éƒ½å¤§äºç®±å­j
                wi, di, hi = box[i]
                if wi > wj and di > dj and hi > hj:
                    # å¦‚æœç®±å­iä¸Šé¢å¯ä»¥æ”¾ç®±å­j, é‚£å°±å°†dp[j]æ›´æ–°ä¸ºå½“å‰é«˜åº¦å’Œç®±å­iä¸Šé¢æ”¾ç®±å­jçš„é«˜åº¦çš„æœ€å¤§å€¼
                    dp[j] = max(dp[j], dp[i] + hj)
        return max(dp)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
