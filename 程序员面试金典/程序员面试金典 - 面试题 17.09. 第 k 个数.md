> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode.cn/problems/get-kth-magic-number-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

æœ‰äº›æ•°çš„ç´ å› å­åªæœ‰ 3ï¼Œ5ï¼Œ7ï¼Œè¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ‰¾å‡ºç¬¬ k ä¸ªæ•°ã€‚æ³¨æ„ï¼Œä¸æ˜¯å¿…é¡»æœ‰è¿™äº›ç´ å› å­ï¼Œè€Œæ˜¯å¿…é¡»ä¸åŒ…å«å…¶ä»–çš„ç´ å› å­ã€‚ä¾‹å¦‚ï¼Œå‰å‡ ä¸ªæ•°æŒ‰é¡ºåºåº”è¯¥æ˜¯ 1ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ9ï¼Œ15ï¼Œ21ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥: k = 5

- è¾“å‡º: 9

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•ä»å½“å‰çš„æœ‰æ•ˆæ•°å¾—åˆ°åé¢çš„æœ‰æ•ˆæ•°?
2. å¦‚ä½•ä¿è¯ä»å°åˆ°å¤§?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„æ€è·¯æ˜¯ä½¿ç”¨ä¸€ä¸ªå°é¡¶å †, æ¯æ¬¡ä»å †é¡¶ pop å‡ºå½“å‰æœ€å°çš„æœ‰æ•ˆæ•°, ç„¶åä¹˜ä»¥ 3/5/7 å¾—åˆ°æ–°æœ‰æ•ˆæ•°, å¦‚æœæ–°æœ‰æ•ˆæ•°æ²¡æœ‰åœ¨å †ä¸­çš„è¯, å°±å°†å…¶åŠ å…¥å †ä¸­
- è¿™æ · pop k æ¬¡å³ä¸ºç¬¬ k ä¸ªæœ‰æ•ˆæ•°
- åˆ¤æ–­æ–°æœ‰æ•ˆæ•°æ˜¯å¦å­˜åœ¨, å¯ä»¥é¢å¤–ä½¿ç”¨ä¸€ä¸ªé›†åˆ, è¿™æ ·åˆ¤æ–­å­˜åœ¨æ€§å°±åªéœ€è¦ O(1)
- æ˜¾ç„¶åˆå§‹åŒ–å †å’Œé›†åˆä¸­çš„å…ƒç´ éƒ½æ˜¯ 1, ä»£è¡¨ç¬¬ 1 ä¸ªæœ‰æ•ˆæ•°
- ä»¥ä¸Šçš„æ“ä½œæ˜¯ä¸æ˜¯å¾ˆç±»ä¼¼ BFS çš„æ€è·¯? ä¸åŒçš„æ˜¯è¿™é‡Œåˆ©ç”¨äº†å †è€Œä¸æ˜¯åŒç«¯é˜Ÿåˆ—/åˆ—è¡¨æ¥å¤„ç†å½“å‰çš„å…ƒç´ , æ‰€ä»¥ä¸¾ä¸€åä¸‰å¾ˆé‡è¦

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(KlogK): å…±éœ€è¦ K æ¬¡å †æ“ä½œ, æ¯æ¬¡å †æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ logK
- ç©ºé—´å¤æ‚åº¦ O(K): ä½¿ç”¨äº†ä¸€ä¸ªå°é¡¶å †å’Œä¸€ä¸ªé›†åˆ

#### ä»£ç 

```python
class Solution:
    def getKthMagicNumber(self, k: int) -> int:
        # æ–¹æ³•1: æœ€å°å †+é›†åˆ+å¾ªç¯k-1æ¬¡
        # åˆå§‹åŒ–é›†åˆå’Œå †ä¸­å…ƒç´ éƒ½ä¸º1
        q = [1]
        v = set(q)
        for i in range(k - 1):
            cur = heapq.heappop(q)
            for factor in (3, 5, 7):
                nex = cur * factor
                if nex not in v:
                    # æ–°æœ‰æ•ˆæ•°æ²¡åœ¨å †é‡Œçš„è¯, å°†å…¶åŠ å…¥å †ä¸­
                    v.add(nex)
                    heapq.heappush(q, nex)
        return heapq.heappop(q)
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- å›é¡¾æ–¹æ¡ˆ 1, å› ä¸ºå¼•å…¥äº†å †, æ‰€ä»¥æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† O(NlogN), é‚£æœ‰æ²¡æœ‰æ›´ä¼˜çš„æ–¹æ¡ˆå‘¢, æ¯”å¦‚ O(N) æ—¶é—´å¤æ‚åº¦?
- ç­”æ¡ˆä¹Ÿæ˜¯æœ‰çš„, æˆ‘ä»¬é‡æ–°åˆ†æé¢˜ç›®, è¦æ±‚æ•°å­—çš„è´¨å› å­åªæœ‰ 3/5/7, æˆ‘ä»¬å¯ä»¥æŠŠå½“å‰æœ‰æ•ˆæ•°ä¹˜ä»¥ 3/5/7 çš„æ•°å­—åˆ†åˆ«å­˜å…¥ä¸‰ä¸ªæ•°ç»„ä¸­, å¹¶å°† 1 ä½œä¸ºç¬¬ 1 ä¸ªå€¼
- è¿™æ ·å°±å¯ä»¥å°†é¢˜ç›®è½¬æ¢æˆå°†**ä¸‰ä¸ªæœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶å»é‡åæ±‚ç¬¬ n ä¸ªæœ€å°å€¼**
- ä¸‰ä¸ªæœ‰åºæ•°ç»„å¦‚ä¸‹æ‰€ç¤º:
  - `arr3 = [1*3, 3*3, 5*3, 7*3, ...]`
  - arr5 å’Œ arr7 ç±»ä¼¼, åªæ˜¯æŠŠä¹˜æ•°æ”¹æˆäº† 5 å’Œ 7
- **ä¸ºä»€ä¹ˆéœ€è¦å»é‡å‘¢?**
  - ä¸¾ä¸ªä¾‹å­, å¯¹äº 15, å®ƒæ—¢å­˜åœ¨äº arr3 ä¸­, ä¹Ÿå­˜åœ¨äº arr5 ä¸­
- **å¦‚ä½•åˆå¹¶å»é‡å‘¢?**
  - æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ 3 ä¸ªæŒ‡é’ˆ, åˆ†åˆ«å¯¹åº”è¿™ä¸‰ä¸ªæ•°ç»„éå†åˆ°çš„å…ƒç´ ä½ç½®, é‚£ä¹ˆå½“å‰æœ€å°å€¼è‡ªç„¶å°±æ˜¯ 3 ä¸ªå…ƒç´ ä¸­æœ€å°çš„é‚£ä¸ªäº†
  - ç„¶åå°†æœ€å°å€¼å¯¹åº”çš„æŒ‡é’ˆåç§»(å¯èƒ½ä¼šé‡åˆ°æœ€å°å€¼ä¸æ­¢ä¸€ä¸ª, è¿™ä¸ªæ—¶å€™ç§»åŠ¨çš„æŒ‡é’ˆä¹Ÿä¸æ­¢ä¸€ä¸ª), ç»§ç»­åˆ¤æ–­å³å¯
- **éœ€è¦ä¿å­˜å“ªäº›æ•°ç»„å‘¢?**
  - æ³¨æ„ arr3/arr5/arr7 æœ‰ä¸ªå…±åŒç‰¹ç‚¹æ˜¯**ç¬¬ä¸€ä¸ªå› å­çš„æœ‰æ•ˆæ•°åºåˆ—æ˜¯ç›¸åŒçš„**, éƒ½æ˜¯`[1,3,5,7,...]`, åªæ˜¯éœ€è¦ç¬¬äºŒä¸ªå› å­ä¸åŒ(3/5/7)
  - æ‰€ä»¥æˆ‘ä»¬å¹¶æ²¡æœ‰å¿…è¦çœŸæ­£ä¿å­˜ 3 ä¸ªæ•°ç»„, è€Œåªéœ€è¦ä¿å­˜å‡åºæœ‰æ•ˆæ•°åºåˆ—å³å¯, è¿™æ ·æ°å¥½è¯¥åºåˆ—çš„ç¬¬ n ä¸ªæ•°å°±æ˜¯æœ€ç»ˆç»“æœ
  - **è€Œ arr3/arr5/arr7 åªéœ€è¦åœ¨è¯¥æœ‰æ•ˆæ•°åºåˆ—åŸºç¡€ä¸Šä¹˜ä»¥ 3/5/7 å³å¯å¾—åˆ°**, ç„¶åä¸‰ä¸ªæ•°ç»„çš„æŒ‡é’ˆç§»åŠ¨è¿˜å’Œä¸Šé¢çš„åˆ†æä¸€æ ·
- ä¸‹é¢çš„ä»£ç å¯¹å¿…è¦æ­¥éª¤æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(K): åªéœ€è¦éå†ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(K): é¢å¤–ä½¿ç”¨äº†ä¸€ä¸ªæ•°ç»„å­˜å‡åºæœ‰æ•ˆæ•°åºåˆ—

#### ä»£ç 

```python
class Solution:
    def getKthMagicNumber(self, k: int) -> int:
        # æ–¹æ³•2: ä¸‰æŒ‡é’ˆ+æœ‰åºåºåˆ—å½’å¹¶
        # åˆå§‹åŒ–æœ‰æ•ˆæ•°åºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º1
        arr = [1]
        # åˆå§‹åŒ–arr3/arr5/arr7çš„ä¸‹æ ‡éƒ½ä¸º0
        i3, i5, i7 = 0, 0, 0
        while len(arr) < k:
            # å–arr3/arr5/arr7ä¸‰è€…ä¸­çš„æœ€å°å€¼è¿½åŠ åˆ°å½“å‰å‡åºæœ‰æ•ˆæ•°åºåˆ—ä¸­
            # æ ¹æ®ä¸‹é¢ä¸‰ä¸ªifåˆ¤æ–­çš„é€»è¾‘, æ–°è¿½åŠ çš„å€¼ä¸€å®šå¤§äºä¹‹å‰æœ‰æ•ˆæ•°åºåˆ—çš„æœ€å¤§å€¼(æœ€åä¸€ä¸ªå€¼)
            # å› ä¸ºä¹‹å‰çš„æœ€å¤§å€¼è‹¥ç­‰åŒäºarr3/arr5/arr7çš„ä¸‹æ ‡å¯¹åº”çš„å€¼çš„è¯, ä¼šå°†ä¸‹æ ‡+1çš„, æ–°ä¸‹æ ‡çš„å€¼ä¸€å®šå¤§äºåŸä¸‹æ ‡çš„
            mn = min(arr[i3] * 3, arr[i5] * 5, arr[i7] * 7)
            arr.append(mn)
            # æ›´æ–°å¯¹åº”ä¸‹æ ‡
            if mn == arr[i3] * 3:
                # æœ€å°å€¼å’Œarr3ä¸‹æ ‡çš„å€¼*3ä¸€æ ·, i3åŠ 1
                i3 += 1
            if mn == arr[i5] * 5:
                # åŒä¸Š
                i5 += 1
            if mn == arr[i7] * 7:
                # åŒä¸Š
                i7 += 1
        return arr[k - 1]
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
