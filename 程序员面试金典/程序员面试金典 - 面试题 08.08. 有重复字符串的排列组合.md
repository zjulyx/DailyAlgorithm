> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/permutation-ii-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

æœ‰é‡å¤å­—ç¬¦ä¸²çš„æ’åˆ—ç»„åˆã€‚ç¼–å†™ä¸€ç§æ–¹æ³•ï¼Œè®¡ç®—æŸå­—ç¬¦ä¸²çš„æ‰€æœ‰æ’åˆ—ç»„åˆã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼šS = "qqe"
- è¾“å‡ºï¼š["eqq","qeq","qqe"]

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼šS = "ab"
- è¾“å‡ºï¼š["ab", "ba"]

### æç¤º:

- å­—ç¬¦éƒ½æ˜¯è‹±æ–‡å­—æ¯ã€‚
- å­—ç¬¦ä¸²é•¿åº¦åœ¨[1, 9]ä¹‹é—´ã€‚

## é¢˜ç›®æ€è€ƒ

1. è¿™é“é¢˜å’Œä¸Šå‘¨çš„é¢˜ç›®æœ‰ä»€ä¹ˆåŒºåˆ«, éœ€è¦å¦‚ä½•æ”¹è¿›ç®—æ³•?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- è¦æƒ³ä¸é‡å¤åœ°å¾—åˆ°æ‰€æœ‰æ’åˆ—, æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•, æ¥æ±‚å­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ’åˆ—, æ­£å¦‚é¢˜ç›®ç¤ºä¾‹ä¸­çš„è¾“å‡ºæ•°ç»„çš„é¡ºåºé‚£æ ·
- åˆå§‹åŒ–ä¸ºæœ€å°çš„å­—å…¸åº, ç„¶åå½“éå†åˆ°æœ€å¤§çš„å­—å…¸åºçš„æ—¶å€™, å°±è¯´æ˜æ‰€æœ‰æ’åˆ—éƒ½è¢«æ‰¾åˆ°äº†
- æ‰€ä»¥ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯å¦‚ä½•é€šè¿‡ä¸€ä¸ªå­—ç¬¦ä¸²æ‰¾å®ƒçš„å­—å…¸åºçš„ä¸‹ä¸€ä¸ªæ’åˆ—
- ä¸‹ä¸€ä¸ªæ’åˆ—ä¸€å®šæ˜¯æ‰€æœ‰æ’åˆ—ä¸­å¤§äºå½“å‰å­—ç¬¦ä¸²ä¸”æœ€æ¥è¿‘å®ƒçš„, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è´ªå¿ƒç®—æ³•, å…·ä½“æ­¥éª¤å¦‚ä¸‹:
  1. ä»åå‘å‰æ‰¾ç¬¬ä¸€ä¸ª**å°äºåä¸€ä¸ªå­—ç¬¦**çš„å­—ç¬¦ i (å› ä¸ºå¦‚æœå¤§äºç­‰äºåä¸€ä¸ªå­—ç¬¦çš„è¯, å°±æ²¡æ³•ä¸åé¢çš„å­—ç¬¦äº¤æ¢æ¥ä½¿å¾—æ•´ä½“å­—ç¬¦ä¸²æ›´å¤§äº†)
  2. æ‰¾åˆšæ‰éå†çš„éƒ¨åˆ†çš„å¤§äºä¸”æœ€æ¥è¿‘ i çš„å­—ç¬¦ j
  3. å°†å®ƒä»¬ä¸¤ä¸ªäº’æ¢
  4. ç„¶å i å¾€åçš„éƒ¨åˆ†éƒ½æŒ‰å­—å…¸åºä»å°åˆ°å¤§æ’åˆ—
- è¿™æ ·å°±ä¿è¯äº†æ–°çš„å­—ç¬¦ä¸²ä¸€å®šæ˜¯å¤§äºå½“å‰å­—ç¬¦ä¸²ä¸”æœ€æ¥è¿‘å®ƒçš„, ä¸å¯èƒ½æœ‰æ›´å°çš„äº†
- ä¸‹é¢çš„ä»£ç ä¸­æœ‰è¯¦ç»†çš„æ³¨é‡Š, æ–¹ä¾¿å¤§å®¶ç†è§£

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ `O(N*N!)`: æœ€å·®æƒ…å†µä¸‹ N ä¸ªå­—ç¬¦å„ä¸ç›¸åŒ, æ’åˆ—å°±æœ‰ `N!` ç§, ä»å½“å‰å­—ç¬¦ä¸²è½¬å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²æœ€åæƒ…å†µä¸‹éœ€è¦ `O(N)` æ—¶é—´
- ç©ºé—´å¤æ‚åº¦ `O(1)`: åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡ (ä¸è€ƒè™‘è¾“å‡ºç»“æœé›†)

#### ä»£ç 

```python
class Solution:
    def permutation(self, s: str) -> List[str]:
        res = []

        def getNext(s):
            for i in range(len(s) - 1)[::-1]:
                # ä»åå‘å‰æŸ¥æ‰¾
                if s[i] < s[i + 1]:
                    # æ‰¾åˆ°ç›®æ ‡å­—ç¬¦äº†, æ¥ä¸‹æ¥æ‰¾åé¢éƒ¨åˆ†ä¸­å¤§äºs[i]ä¸”æœ€æ¥è¿‘å®ƒçš„å­—ç¬¦
                    j = i + 1
                    while j < len(s) and s[j] > s[i]:
                        j += 1
                    # s[j-1]å°±æ˜¯åé¢éƒ¨åˆ†ä¸­å¤§äºs[i]ä¸”æœ€æ¥è¿‘å®ƒçš„å­—ç¬¦
                    j -= 1
                    # å•ç‹¬æ‹¿å‡ºå³è¾¹éƒ¨åˆ†, è‚¯å®šä¸¥æ ¼æŒ‰ç…§é™åºæ’åˆ—
                    right = s[i + 1:j] + s[i] + s[j + 1:]
                    # äº¤æ¢å­—ç¬¦å, å¹¶åŠ ä¸Šå³è¾¹çš„ç¿»è½¬éƒ¨åˆ†(å¢åº, æœ€å°å­—å…¸åº), å°±æ˜¯ä¸‹ä¸€ä¸ªå­—å…¸åºçš„å­—ç¬¦ä¸²
                    return s[0:i] + s[j] + right[::-1]
            # æ²¡æ‰¾åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸², è¯´æ˜å½“å‰å­—ç¬¦ä¸²å°±æ˜¯å­—å…¸åºæœ€å¤§çš„äº†, ç›´æ¥è¿”å›None
            return None

        # å…ˆæ‹¿åˆ°å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²
        s = ''.join(sorted(s))
        while s is not None:
            res.append(s)
            s = getNext(s)
        return res
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
