> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/animal-shelter-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

åŠ¨ç‰©æ”¶å®¹æ‰€ã€‚æœ‰å®¶åŠ¨ç‰©æ”¶å®¹æ‰€åªæ”¶å®¹ç‹—ä¸çŒ«ï¼Œä¸”ä¸¥æ ¼éµå®ˆâ€œå…ˆè¿›å…ˆå‡ºâ€çš„åŸåˆ™ã€‚åœ¨æ”¶å…»è¯¥æ”¶å®¹æ‰€çš„åŠ¨ç‰©æ—¶ï¼Œæ”¶å…»äººåªèƒ½æ”¶å…»æ‰€æœ‰åŠ¨ç‰©ä¸­â€œæœ€è€â€ï¼ˆç”±å…¶è¿›å…¥æ”¶å®¹æ‰€çš„æ—¶é—´é•¿çŸ­è€Œå®šï¼‰çš„åŠ¨ç‰©ï¼Œæˆ–è€…å¯ä»¥æŒ‘é€‰çŒ«æˆ–ç‹—ï¼ˆåŒæ—¶å¿…é¡»æ”¶å…»æ­¤ç±»åŠ¨ç‰©ä¸­â€œæœ€è€â€çš„ï¼‰ã€‚æ¢è¨€ä¹‹ï¼Œæ”¶å…»äººä¸èƒ½è‡ªç”±æŒ‘é€‰æƒ³æ”¶å…»çš„å¯¹è±¡ã€‚è¯·åˆ›å»ºé€‚ç”¨äºè¿™ä¸ªç³»ç»Ÿçš„æ•°æ®ç»“æ„ï¼Œå®ç°å„ç§æ“ä½œæ–¹æ³•ï¼Œæ¯”å¦‚ enqueueã€dequeueAnyã€dequeueDog å’Œ dequeueCatã€‚å…è®¸ä½¿ç”¨ Java å†…ç½®çš„ LinkedList æ•°æ®ç»“æ„ã€‚

enqueue æ–¹æ³•æœ‰ä¸€ä¸ª animal å‚æ•°ï¼Œanimal[0]ä»£è¡¨åŠ¨ç‰©ç¼–å·ï¼Œanimal[1]ä»£è¡¨åŠ¨ç‰©ç§ç±»ï¼Œå…¶ä¸­ 0 ä»£è¡¨çŒ«ï¼Œ1 ä»£è¡¨ç‹—ã€‚

dequeue æ–¹æ³•è¿”å›ä¸€ä¸ªåˆ—è¡¨[åŠ¨ç‰©ç¼–å·, åŠ¨ç‰©ç§ç±»]ï¼Œè‹¥æ²¡æœ‰å¯ä»¥æ”¶å…»çš„åŠ¨ç‰©ï¼Œåˆ™è¿”å›[-1,-1]ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼š
  - ["AnimalShelf", "enqueue", "enqueue", "dequeueCat", "dequeueDog", "dequeueAny"]
  - [[], [[0, 0]], [[1, 0]], [], [], []]
- è¾“å‡ºï¼š
  - [null,null,null,[0,0],[-1,-1],[1,0]]

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼š
  - ["AnimalShelf", "enqueue", "enqueue", "enqueue", "dequeueDog", "dequeueCat", "dequeueAny"]
  - [[], [[0, 0]], [[1, 0]], [[2, 1]], [], [], []]
- è¾“å‡ºï¼š
  - [null,null,null,null,[2,1],[0,0],[1,0]]

### è¯´æ˜:

- æ”¶çº³æ‰€çš„æœ€å¤§å®¹é‡ä¸º 20000

## é¢˜ç›®æ€è€ƒ

1. éœ€è¦å“ªäº›æ•°æ®ç»“æ„?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- ç”±äºéœ€è¦å¯ä»¥å•ç‹¬æŒ‘é€‰çŒ«æˆ–ç‹—, æ‰€ä»¥éœ€è¦ä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—æ¥å­˜å¯¹åº”çš„ç¼–å·
- å¦å¤–åˆæœ‰éœ€æ±‚æ¥æŒ‘é€‰çŒ«æˆ–ç‹—ä¸­æœ€è€çš„, æ‰€ä»¥æˆ‘ä»¬è¿˜è¦é¢å¤–ç»´æŠ¤åŠ¨ç‰©åŠ å…¥é˜Ÿåˆ—çš„æ—¶é—´, ä¹Ÿè¦å°†è¿™ä¸€ä¿¡æ¯å’Œç¼–å·ä¸€èµ·å…¥é˜Ÿ, å…¥é˜Ÿåå†å°†æ—¶é—´+1
- è¿™æ ·å‡ºé˜Ÿæœ€è€çš„åŠ¨ç‰©æ—¶, åªéœ€è¦æ¯”è¾ƒä¸¤ä¸ªé˜Ÿåˆ—å¼€å¤´çš„æ—¶é—´, ç„¶åé€‰æ‹©æ›´è€çš„é‚£åªåŠ¨ç‰©å³å¯

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(1): æ˜¾ç„¶æ¯ç§æ“ä½œéƒ½åªéœ€è¦å¸¸æ•°æ—¶é—´
- ç©ºé—´å¤æ‚åº¦ O(N): ä½¿ç”¨äº†ä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—å­˜ N ä¸ªå…ƒç´ 

#### ä»£ç 

```python
import collections


class AnimalShelf:
    def __init__(self):
        # ä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—+å½“å‰å…¥é˜Ÿæ—¶é—´
        self.cats = collections.deque()
        self.dogs = collections.deque()
        self.age = 0

    def enqueue(self, animal: List[int]) -> None:
        id, type = animal
        # æ ¹æ®åŠ¨ç‰©ç§ç±», åŠ å…¥åˆ°ç›¸åº”é˜Ÿåˆ—ä¸­
        if type == 0:
            self.cats.append((id, self.age))
        else:
            self.dogs.append((id, self.age))
        # æ³¨æ„æ›´æ–°æ—¶é—´
        self.age += 1

    def dequeueAny(self) -> List[int]:
        if not self.dogs or self.cats and self.cats[0][1] < self.dogs[0][1]:
            # æ²¡æœ‰ç‹—, æˆ–è€…çŒ«æ›´è€, å°†æœ€è€çš„çŒ«å‡ºé˜Ÿ
            return self.dequeueCat()
        else:
            # æ²¡æœ‰çŒ«, æˆ–è€…ç‹—æ›´è€, å°†æœ€è€çš„ç‹—å‡ºé˜Ÿ
            return self.dequeueDog()

    def dequeueDog(self) -> List[int]:
        if not self.dogs:
            # æ²¡æœ‰ç‹—äº†
            return [-1, -1]
        # å°†æœ€è€çš„ç‹—å‡ºé˜Ÿ
        return [self.dogs.popleft()[0], 1]

    def dequeueCat(self) -> List[int]:
        if not self.cats:
            # æ²¡æœ‰çŒ«äº†
            return [-1, -1]
        # å°†æœ€è€çš„çŒ«å‡ºé˜Ÿ
        return [self.cats.popleft()[0], 0]
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: ç®—æ³•ç²¾é€‰, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
