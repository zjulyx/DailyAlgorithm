> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/exchange-lcci/)

> ä»Šå¤©ç»§ç»­æ›´æ–°ç¨‹åºå‘˜é¢è¯•é‡‘å…¸ç³»åˆ—, å¤§å®¶åœ¨å…¬ä¼—å· **ç®—æ³•ç²¾é€‰** é‡Œå›å¤ **é¢è¯•é‡‘å…¸** å°±èƒ½çœ‹åˆ°è¯¥ç³»åˆ—å½“å‰è¿è½½çš„æ‰€æœ‰æ–‡ç« äº†, è®°å¾—å…³æ³¨å“¦~

## é¢˜ç›®æè¿°

é…å¯¹äº¤æ¢ã€‚ç¼–å†™ç¨‹åºï¼Œäº¤æ¢æŸä¸ªæ•´æ•°çš„å¥‡æ•°ä½å’Œå¶æ•°ä½ï¼Œå°½é‡ä½¿ç”¨è¾ƒå°‘çš„æŒ‡ä»¤ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä½ 0 ä¸ä½ 1 äº¤æ¢ï¼Œä½ 2 ä¸ä½ 3 äº¤æ¢ï¼Œä»¥æ­¤ç±»æ¨ï¼‰ã€‚

### ç¤ºä¾‹ 1:

- è¾“å…¥ï¼šnum = 2ï¼ˆæˆ–è€… 0b10ï¼‰
- è¾“å‡º 1 (æˆ–è€… 0b01)

### ç¤ºä¾‹ 2:

- è¾“å…¥ï¼šnum = 3
- è¾“å‡ºï¼š3

### æç¤º:

- num çš„èŒƒå›´åœ¨[0, 2^30 - 1]ä¹‹é—´ï¼Œä¸ä¼šå‘ç”Ÿæ•´æ•°æº¢å‡ºã€‚

## é¢˜ç›®æ€è€ƒ

1. å¯ä»¥ä½¿ç”¨ä»€ä¹ˆä½è¿ç®—æ¥å°½å¯èƒ½å‡å°‘æ“ä½œæŒ‡ä»¤æ•°ç›®?

## è§£å†³æ–¹æ¡ˆ

#### æ€è·¯

- æ ¹æ®é¢˜ç›®æè¿°, å¾ˆè‡ªç„¶æƒ³åˆ°å¯ä»¥åˆ†ä¸ºå¥‡æ•°å˜å¶æ•°å’Œå¶æ•°å˜å¥‡æ•°ä¸¤éƒ¨åˆ†æ±‚è§£
- å¯¹äºå¥‡æ•°å˜å¶æ•°, æˆ‘ä»¬å¯ä»¥å°†åŸæ¥çš„å¶æ•°ä½æ¸… 0, ç„¶åå³ç§»ä¸€ä½
- å¯¹äºå¶æ•°å˜å¥‡æ•°, æˆ‘ä»¬å¯ä»¥å°†åŸæ¥çš„å¥‡æ•°ä½æ¸… 0, ç„¶åå·¦ç§»ä¸€ä½
- æœ€åå†å°†ä¸¤éƒ¨åˆ†æ±‚æˆ–å¹¶èµ·æ¥(|)å³å¯
- è‡³äºå…·ä½“å®ç°, æˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªæ ‡è®° 0x55555555, å¯¹åº”çš„äºŒè¿›åˆ¶å°±æ˜¯ 01010101...
- è¿™æ ·åœ¨å¥‡æ•°å˜å¶æ•°æ—¶, æˆ‘ä»¬å…ˆå³ç§»ä¸€ä½, å°†æ—§çš„å¥‡æ•°ä½å˜æˆæ–°çš„å¶æ•°ä½, ç„¶åå†ä¸è¿™ä¸ªæ ‡è®°æ±‚ä¸, ä»è€Œæ¸…ç©ºæ–°çš„å¥‡æ•°ä½ (å³æ—§çš„å¶æ•°ä½)
- è€Œåœ¨å¶æ•°å˜å¥‡æ•°æ—¶, æˆ‘ä»¬å…ˆä¸è¿™ä¸ªæ ‡è®°æ±‚ä¸, æ¸…ç©ºæ—§çš„å¥‡æ•°ä½, ç„¶åå†å·¦ç§»ä¸€ä½, ä»è€Œå°†æ—§çš„å¶æ•°ä½å˜æˆæ–°çš„å¥‡æ•°ä½

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(1): åªéœ€è¦å‡ æ¬¡å¸¸æ•°çº§åˆ«çš„ä½è¿ç®—æ“ä½œ
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

#### ä»£ç 

##### Python 3

```python
class Solution:
    def exchangeBits(self, num: int) -> int:
        # å¥‡æ•°å˜å¶æ•° | å¶æ•°å˜å¥‡æ•°
        # åŸæ•°å­—å³ç§»ä¸€ä½, å†ä¸0x55555555(å³01010101...)æ±‚ä¸, ä»è€Œå®ç°åŸå¶æ•°ä½æ¸…0, åŸå¥‡æ•°ä½å˜å¶æ•°
        # åŸæ•°å­—ä¸0x55555555æ±‚ä¸, ç„¶åå·¦ç§»ä¸€ä½, ä»è€Œå®ç°åŸå¥‡æ•°ä½æ¸…0, åŸå¶æ•°ä½å˜å¥‡æ•°
        # æœ€ç»ˆä¸¤è€…æ±‚æˆ–, å³å¾—åˆ°å¥‡å¶äº¤æ¢åçš„æ•°å­—
        return (num >> 1) & 0x55555555 | ((num & 0x55555555) << 1)
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„ GitHub](https://github.com/zjulyx)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„å¤´æ¡å·](https://www.toutiao.com/c/user/1090304683804520/#mid=1671643017345028)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: [ç®—æ³•ç²¾é€‰](https://mp.weixin.qq.com/s?__biz=MzA5MDk1MjI5MA==&mid=2247484158&idx=1&sn=90176bac32cf7af40e4074c721fd8a95&chksm=900285f3a7750ce5a068c9c9773781461819633f2fd60533732637ec9520c908371ebc218d49&scene=178&cur_album_id=1386231241346859009#rd), æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![ç®—æ³•ç²¾é€‰ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://pic1.zhimg.com/80/v2-7c988a7b35886df51596ef23616764ac_1440w.jpg)
