> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)

> ä»Šå¤©æˆ‘ä»¬ç»§ç»­æ¥åšè‚¡ç¥¨é—®é¢˜, è¿™é“é¢˜å’Œæ˜¨å¤©é‚£é“å…±åŒç»„æˆäº†è¿™ä¸ªç³»åˆ—çš„æœ€åŸºç¡€çš„éƒ¨åˆ†. æˆ‘ä¼šæŠŠè¿™ä¸ªç³»åˆ—æ±‡æ€»èµ·æ¥, å¤§å®¶åœ¨æˆ‘çš„å…¬ä¼—å·"æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜"ä¸­çš„èŠå¤©æ¡†ä¸­å›å¤ **è‚¡ç¥¨** å°±èƒ½çœ‹åˆ°äº†~

> å¤§å®¶æœ‰ä»€ä¹ˆæƒ³æ³•å»ºè®®å’Œåé¦ˆçš„è¯æ¬¢è¿éšæ—¶äº¤æµ, åŒ…æ‹¬ä½†ä¸é™äºå…¬ä¼—å·èŠå¤©æ¡†/çŸ¥ä¹ç§ä¿¡è¯„è®ºç­‰ç­‰~

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ Â i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚

æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

[7,1,5,3,6,4]

#### è¾“å‡º

7

#### è§£é‡Š

- åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚
- éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚

### ç¤ºä¾‹ 2

#### è¾“å…¥

[1,2,3,4,5]

#### è¾“å‡º

4

#### è§£é‡Š

- åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚
- æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚
- å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚

## é¢˜ç›®æ€è€ƒ

1. ç›¸æ¯”æ˜¨å¤©çš„é¢˜ç›®, è¿™ä¸ªé¢˜å¯ä»¥æ— é™æ¬¡ä¹°å–, æˆ‘ä»¬è¿˜èƒ½å†æ¬¡åˆ©ç”¨è´ªå¿ƒæ³•å—?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- å¯ä»¥ä¹°å–æ— é™æ¬¡, é‚£æˆ‘ä»¬å°±å°½å¯èƒ½åœ°åœ¨æ¯æ¬¡èƒ½äº§ç”Ÿæ”¶ç›Šçš„æ—¶å€™éƒ½è¿›è¡Œä¹°å–. å¦‚æœè¯´æ˜¨å¤©é‚£é“é¢˜åªèƒ½ä¹°å–ä¸€æ¬¡å°±åƒæ˜¯é•¿çº¿äº¤æ˜“ä¸€æ ·, é‚£ä»Šå¤©çš„é¢˜ç›®å°±ç±»ä¼¼æé™çš„çŸ­çº¿äº¤æ˜“, å“ˆå“ˆ
- åŒæ ·æ˜¯è´ªå¿ƒæ€è·¯, æˆ‘ä»¬æ¯æ¬¡é‡åˆ°ä¸‹ä¸€ä¸ªæ•°æ¯”å½“å‰æ•°å¤§çš„æ—¶å€™, æˆ‘ä»¬å°±è¿›è¡Œä¸€æ¬¡äº¤æ˜“, å¹¶æŠŠæ”¶ç›Šç´¯åŠ åˆ°æœ€ç»ˆç»“æœä¸­, è¿™æ ·ç»“æœå³ä¸ºæ‰€æ±‚
- æ³¨æ„è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸è¿åé¢˜ç›®è§„å®š "ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“", å› ä¸ºæˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€æ¬¡ä¹°å…¥å‰ç«‹åˆ»å–å‡º. ä¾‹å¦‚å¯¹äº[1,2,3]è¿™ç§æƒ…å†µ, æˆ‘ä»¬åœ¨ 1 çš„æ—¶å€™ä¹°å…¥, 2 çš„æ—¶å€™å–å‡º, å¹¶é‡æ–°ä¹°å…¥(å› ä¸º 3 æ¯” 2 å¤§), ç„¶ååœ¨ 3 çš„æ—¶å€™å†å–å‡º, æ€»çš„æœ€å¤§æ”¶ç›Šå°±æ˜¯ 2

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): éœ€è¦éå†æ•´ä¸ªæ•°ç»„ä¸€é
- ç©ºé—´å¤æ‚åº¦ O(1): åªéœ€è¦ç»´æŠ¤å¸¸æ•°ä¸ªå˜é‡

### ä»£ç 

#### Python 3

```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        res = 0
        for i in range(1, len(prices)):
            if prices[i] > prices[i - 1]:
                res += prices[i] - prices[i - 1]
        return res
```

#### C++

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int res = 0;
        for (int i = 1; i < prices.size(); ++i) {
            if (prices[i] > prices[i - 1]) {
                res += prices[i] - prices[i - 1];
            }
        }
        return res;
    }
};
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ç®€ä¹¦](https://www.jianshu.com/u/3a17f1fdfd67)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
