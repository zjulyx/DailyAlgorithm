> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/check-if-a-string-can-break-another-string/description/)

> è¿™é“é¢˜éš¾åº¦é€‚ä¸­, æœ‰ä¸æ­¢ä¸€ç§æ€è·¯, ä¸ªäººæ„Ÿè§‰è´¨é‡ä¸é”™, ç‰¹åˆ«æ˜¯å¯¹ç®—æ³•ä¼˜åŒ–çš„è¿‡ç¨‹, å€¼å¾—ä¸€åš

## é¢˜ç›®æè¿°

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² Â s1Â  å’Œ Â s2Â ï¼Œå®ƒä»¬é•¿åº¦ç›¸ç­‰ï¼Œè¯·ä½ æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ª Â s1Â  çš„æ’åˆ—å¯ä»¥æ‰“ç ´ s2Â  çš„ä¸€ä¸ªæ’åˆ—ï¼Œæˆ–è€…æ˜¯å¦å­˜åœ¨ä¸€ä¸ª Â s2Â  çš„æ’åˆ—å¯ä»¥æ‰“ç ´ s1 çš„ä¸€ä¸ªæ’åˆ—ã€‚

å­—ç¬¦ä¸² Â xÂ  å¯ä»¥æ‰“ç ´å­—ç¬¦ä¸² Â yÂ ï¼ˆä¸¤è€…é•¿åº¦éƒ½ä¸º Â nÂ ï¼‰éœ€æ»¡è¶³å¯¹äºæ‰€æœ‰ Â iï¼ˆåœ¨ Â 0Â  åˆ° Â n - 1Â  ä¹‹é—´ï¼‰éƒ½æœ‰ Â x[i] >= y[i]ï¼ˆå­—å…¸åºæ„ä¹‰ä¸‹çš„é¡ºåºï¼‰ã€‚

- s1.length == n
- s2.length == n
- 1 <= n <= 10^5
- æ‰€æœ‰å­—ç¬¦ä¸²éƒ½åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

s1 = "abc", s2 = "xya"

#### è¾“å‡º

true

#### è§£é‡Š

"ayx" æ˜¯ s2="xya" çš„ä¸€ä¸ªæ’åˆ—ï¼Œ"abc" æ˜¯å­—ç¬¦ä¸² s1="abc" çš„ä¸€ä¸ªæ’åˆ—ï¼Œä¸” "ayx" å¯ä»¥æ‰“ç ´ "abc" ã€‚

### ç¤ºä¾‹ 2

#### è¾“å…¥

s1 = "abe", s2 = "acd"

#### è¾“å‡º

false

#### è§£é‡Š

- s1="abe" çš„æ‰€æœ‰æ’åˆ—åŒ…æ‹¬ï¼š"abe"ï¼Œ"aeb"ï¼Œ"bae"ï¼Œ"bea"ï¼Œ"eab" å’Œ "eba"
- s2="acd" çš„æ‰€æœ‰æ’åˆ—åŒ…æ‹¬ï¼š"acd"ï¼Œ"adc"ï¼Œ"cad"ï¼Œ"cda"ï¼Œ"dac" å’Œ "dca"
- ç„¶è€Œæ²¡æœ‰ä»»ä½• s1 çš„æ’åˆ—å¯ä»¥æ‰“ç ´ s2 çš„æ’åˆ—ã€‚ä¹Ÿæ²¡æœ‰ s2 çš„æ’åˆ—èƒ½æ‰“ç ´ s1 çš„æ’åˆ—ã€‚

## é¢˜ç›®æ€è€ƒ

1. æ ¹æ®æ•°æ®è§„æ¨¡, è¿™é“é¢˜æ˜¾ç„¶ä¸èƒ½æš´åŠ›å¾—åˆ°å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å…¨æ’åˆ—ç„¶åè·Ÿå¦ä¸€ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒ, é‚£æ ·çš„è¯é•¿åº¦å‡ åçš„å­—ç¬¦ä¸²éƒ½ä¼šå¾ˆæ…¢äº†
2. é‚£å¯ä¸å¯ä»¥è¿›è¡Œä¸€äº›é¢„å¤„ç†?
3. è¦æƒ³ s1 æ‰“ç ´ s2, åªè¦è¦æ±‚ s1 çš„å­—ç¬¦å¤§äºç­‰äº s2 çš„ç›¸åŒä½ç½®çš„å­—ç¬¦å³å¯, æœ‰æ²¡æœ‰ä»€ä¹ˆç›´è§‰æ€è€ƒå‘¢?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- ç›´è§‚æƒ³æ³•(è´ªå¿ƒ)
  - å› ä¸ºé¢˜ç›®å¯ä»¥ä½¿ç”¨ä»»æ„æ’åˆ—, æ‰€ä»¥å¯ä»¥å…ˆé¢„å¤„ç†å¾—åˆ° s1 çš„å­—ç¬¦è®¡æ•°å­—å…¸
  - ç„¶åå¯¹äº s2 çš„æ¯ä¸ªä½ç½®çš„å­—ç¬¦è€Œè¨€, **ä¼˜å…ˆä½¿ç”¨ s1 ä¸­å­˜åœ¨çš„å¤§äºç­‰äºè¯¥å­—ç¬¦ä¸”æœ€æ¥è¿‘è¯¥å­—ç¬¦çš„å­—ç¬¦å³å¯**, ä½¿ç”¨ä¹‹åè®¡æ•°-1 (è¿™ç§è´ªå¿ƒçš„åšæ³•èƒ½ä¿è¯ s2 çš„æ¯ä¸ªå­—ç¬¦éƒ½ä¸èƒ½è¢« s1 çš„æ›´å°å­—ç¬¦æ‰€æ‰“ç ´äº†, å¦‚æœè¿™æ ·éƒ½æ‰¾ä¸åˆ°è§£é‚£ä¹ˆä¸€å®šä¸å­˜åœ¨è§£)
  - ç›´åˆ°éå†å®Œæˆ(å­˜åœ¨æ‰“ç ´çš„æ–¹æ¡ˆ), æˆ–è€…æ‰¾ä¸åˆ°æ»¡è¶³æ¡ä»¶çš„ s1 å­—ç¬¦(ä¸å­˜åœ¨æ‰“ç ´æ–¹æ¡ˆ)
- ç„¶åå¦‚æœ s1 ä¸èƒ½æ‰“ç ´ s2 çš„è¯, äº¤æ¢å®ƒä»¬çœ‹çœ‹ s2 èƒ½ä¸èƒ½æ‰“ç ´ s1

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): é¢„å¤„ç†å­—ç¬¦è®¡æ•°å­—å…¸éœ€è¦ O(N), éå†çš„æ—¶å€™éœ€è¦æ£€æŸ¥å½“å‰å­—ç¬¦ä¹‹åçš„æ¯ä¸ªå­—ç¬¦, å› ä¸ºéƒ½æ˜¯å°å†™å­—ç¬¦, æ‰€ä»¥æ˜¯ O(26\*N), ä¸€å…±ä¸¤æ¬¡éå†, æ‰€ä»¥æ€»æ—¶é—´æ˜¯ O(2\*(N+26N)) = O(N). å¦å¤– C++çš„è¯å¯ä»¥ä½¿ç”¨ vector æ¥ä»£æ›¿å­—å…¸, ä¼šæœ‰ä¸€äº›è¿è¡Œæ—¶é—´ä¸Šçš„æ•ˆç‡æå‡
- ç©ºé—´å¤æ‚åº¦ O(1): ä½¿ç”¨äº†ä¸€ä¸ªè®¡æ•°å­—å…¸, ä½†ç”±äºå­—ç¬¦æ•°ç›®æ˜¯å¸¸æ•°(26), æ‰€ä»¥ç©ºé—´æ˜¯ O(1)

#### ä»£ç 

##### Python 3

```python
import collections

class Solution:
    def checkIfCanBreak(self, s1: str, s2: str) -> bool:
        def check(x, y):
            # å›ºå®šy, å¯¹xæ±‚å­—ç¬¦å­—å…¸, çœ‹æ˜¯å¦èƒ½æ‰“ç ´
            cnt = collections.defaultdict(int)
            for c in x:
                cnt[c] += 1
            for c in y:
                for o in range(ord(c), ord('z') + 1):
                    cc = chr(o)
                    if cnt[cc] > 0:
                        cnt[cc] -= 1
                        break
                else:
                    return False
            return True

        return check(s1, s2) or check(s2, s1)
```

##### C++

```cpp
class Solution {
public:
    bool checkIfCanBreak(string s1, string s2) {
        auto checker = [](const string& s1, const string& s2) {
            vector<int> count(26, 0);
            for (auto c : s1) {
                ++count[c - 'a'];
            }
            for (auto c : s2) {
                bool found = false;
                for (char i = c - 'a'; i < 26; ++i) {
                    if (count[i] > 0) {
                        found = true;
                        --count[i];
                        break;
                    }
                }
                if (!found) {
                    return false;
                }
            }
            return true;
        };

        return checker(s1, s2) || checker(s2, s1);
    }
};
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- å›é¡¾æ–¹æ¡ˆ 1, æˆ‘ä»¬æ˜¯å›ºå®šä¸€ä¸ªå­—ç¬¦ä¸², ç„¶åç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ¥æ¯”è¾ƒçš„
- ä½†æ˜¯é¢˜ç›®é‡Œè¯´çš„æ˜¯å…¨æ’åˆ—, æ„å‘³ç€ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¡ºåºéƒ½æ˜¯å¯ä»¥ä»»æ„äº¤æ¢çš„
- æ‰€ä»¥æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥é¢„å¤„ç†ä¸¤ä¸ªå­—ç¬¦ä¸², å¾—åˆ°ä¸¤ä¸ªå­—ç¬¦è®¡æ•°å­—å…¸åå†æ¯”è¾ƒå‘¢?
- æ ¹æ®ä¸Šè¿°åˆ†æ, å¯å¾—æ–¹æ¡ˆå¦‚ä¸‹
  - ç»´æŠ¤ä¸¤ä¸ª flag è¡¨ç¤º s1 èƒ½å¦æ‰“ç ´ s2 å’Œ s2 èƒ½å¦æ‰“ç ´ s1, ä»¥åŠä¸€ä¸ªå˜é‡è¡¨ç¤ºå½“å‰ä¸ºæ­¢ s1 çš„å­—ç¬¦æ•°ä¸ s2 çš„å­—ç¬¦æ•°çš„å·®å€¼
  - å¾—åˆ°ä¸¤ä¸ªå­—ç¬¦å­—å…¸å, æŒ‰å­—ç¬¦ä»å°åˆ°å¤§éå†
  - å¦‚æœå·®å€¼ä¸ºæ­£, åˆ™è¯´æ˜æ­¤åˆ» s1 å¯èƒ½æ‰“ç ´ s2, s2 ä¸å¯èƒ½æ‰“ç ´ s1 äº†, æŠŠå¯¹åº”çš„ flag ç½®ä¸º false
  - åä¹‹å¦‚æœå·®å€¼ä¸ºè´Ÿ, åˆ™æŠŠ s1 æ‰“ç ´ s2 çš„ flag ç½®ä¸º false
  - å¦‚æœä¸¤ä¸ª flag éƒ½æ˜¯ false, åˆ™è¯´æ˜ä¸¤ä¸ªå­—ç¬¦ä¸²è°éƒ½ä¸èƒ½æ‰“ç ´è°, ç›´æ¥è¿”å› false å³å¯
  - åä¹‹å¦‚æœå¾ªç¯ç»“æŸäº†, è¯´æ˜è‡³å°‘ä¸€æ–¹å¯ä»¥æ‰“ç ´å¦ä¸€æ–¹, è¿”å› true

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): é¢„å¤„ç†å­—ç¬¦è®¡æ•°å­—å…¸éœ€è¦ O(N), ä¹‹åéå†å­—å…¸åªéœ€è¦ O(26), æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(N+26) = O(N), ç›¸æ¯”æ–¹æ¡ˆ 1 é™ä½ä¸å°‘, ä¸»è¦æ˜¯æ–¹æ¡ˆ 1 çš„å¸¸ç³»æ•°æ¯”è¾ƒå¤§.. å¦å¤– C++çš„è¯å¯ä»¥ä½¿ç”¨ vector æ¥ä»£æ›¿å­—å…¸, ä¼šæœ‰ä¸€äº›è¿è¡Œæ—¶é—´ä¸Šçš„æ•ˆç‡æå‡
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡, å’Œä¸¤ä¸ªå¸¸æ•°ç©ºé—´çš„å­—ç¬¦è®¡æ•°å­—å…¸

#### ä»£ç 

##### Python 3

```python
import collections

class Solution:
    def checkIfCanBreak(self, s1: str, s2: str) -> bool:
        cnts = [collections.defaultdict(int), collections.defaultdict(int)]
        for i, s in ((0, s1), (1, s2)):
            for c in s:
                cnts[i][c] += 1

        diff = 0
        s1BeatS2, s2BeatS1 = True, True
        for o in range(26):
            c = chr(ord('a') + o)
            diff += cnts[0][c] - cnts[1][c]
            if diff > 0:
                s1BeatS2 = False
            elif diff < 0:
                s2BeatS1 = False
            if not s1BeatS2 and not s2BeatS1:
                return False
        return True
```

##### C++

```cpp
class Solution {
public:
    bool checkIfCanBreak(string s1, string s2) {
        auto getCounter = [](const string& s) {
            vector<int> count(26, 0);
            for (auto c : s) {
                ++count[c - 'a'];
            }
            return count;
        };

        auto s1Count = getCounter(s1);
        auto s2Count = getCounter(s2);

        int diff = 0;
        bool s1BeatS2 = true;
        bool s2BeatS1 = true;

        for (int i = 0; i < 26; ++i) {
            diff += s1Count[i] - s2Count[i];
            if (diff > 0) {
                s1BeatS2 = false;
            } else if (diff < 0) {
                s2BeatS1 = false;
            }
            if (!s1BeatS2 && !s2BeatS1) {
                return false;
            }
        }

        return true;
    }
};
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ç®€ä¹¦](https://www.jianshu.com/u/3a17f1fdfd67)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
