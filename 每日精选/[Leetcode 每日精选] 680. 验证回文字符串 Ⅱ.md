> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/valid-palindrome-ii/)

> ä»Šå¤©ç»§ç»­åšæ¯æ—¥ä¸€é¢˜, è¿™é“é¢˜è™½ç„¶éš¾åº¦æ˜¯ç®€å•, ä½†å¥½åƒé€šè¿‡ç‡ä¸æ˜¯å¾ˆé«˜(ä¸åˆ° 40%), å€¼å¾—æ€è€ƒä¸€ä¸‹. å¦å¤–è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•, æ¯”å¦‚æœ€å¤šå¯ä»¥åˆ é™¤ k ä¸ªå­—ç¬¦æ—¶åˆ¤æ–­èƒ½å¦æˆå›æ–‡ (æ–¹æ¡ˆ 3 ç»™å‡ºäº†ä¸€äº›æ€è·¯, æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œå°è¯•)

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² sï¼Œæœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚

- å­—ç¬¦ä¸²åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯ 50000ã€‚

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

"aba"

#### è¾“å‡º

True

#### è§£é‡Š

æœ¬èº«å°±æ˜¯å›æ–‡

### ç¤ºä¾‹ 2

#### è¾“å…¥

"abca"

#### è¾“å‡º

True

#### è§£é‡Š

å¯ä»¥åˆ é™¤ b æˆ–è€… c å­—ç¬¦

## é¢˜ç›®æ€è€ƒ

1. æ³¨æ„æ•°æ®è§„æ¨¡å¾ˆå¤§, å¦‚æœç›´æ¥åˆ é™¤æ¯ä¸ªå­—ç¬¦å†éªŒè¯çš„è¯éœ€è¦ O(N^2)æ—¶é—´, è‚¯å®šä¼šè¶…æ—¶
2. æ€ä¹ˆåˆ©ç”¨åªåˆ é™¤ 1 ä¸ªå­—ç¬¦è¿™ä¸ªæ¡ä»¶?
3. å¦‚æœæŠŠé¢˜ç›®æ‰©å±•æˆå¯ä»¥åˆ é™¤ k ä¸ªå­—ç¬¦å‘¢, ä½ èƒ½æƒ³åˆ°ä»€ä¹ˆåšæ³•å—?

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1

#### æ€è·¯

- å›é¡¾åŒæŒ‡é’ˆåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å›æ–‡çš„è¿‡ç¨‹, æ­¤é¢˜åŠ å…¥äº†å¯ä»¥åˆ é™¤ä¸€ä¸ªå­—ç¬¦çš„å¯é€‰é¡¹
- æ‰€ä»¥å¯ä»¥é€’å½’å¤„ç†, åœ¨åŸæ¥çš„åŸºç¡€ä¸ŠåŠ å…¥ä¸€ä¸ª flag, åˆ¤æ–­å½“å‰æ˜¯å¦è¿˜èƒ½åˆ é™¤
- å¦‚æœé‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶, å¯ä»¥å·¦è¾¹æŒ‡é’ˆå¾€å³ç§»åŠ¨ä¸€ä½, æˆ–è€…å³è¾¹å‘å·¦ç§»åŠ¨ä¸€ä½, ç„¶åæŠŠ flag ç½®ä¸º false å³å¯, å†é‡åˆ°ä¸ç›¸ç­‰çš„å°±è¯´æ˜ä¸èƒ½å˜æˆå›æ–‡äº†
- é€’å½’ä¼ å…¥å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œè¡¨ç¤ºåŒæŒ‡é’ˆ, æ³¨æ„é€’å½’å‡ºå£
- è¯¥æ–¹æ¡ˆä¼˜ç‚¹æ˜¯ä»£ç éå¸¸ç®€æ´, æ€è·¯ä¹Ÿæ¯”è¾ƒç›´è§‚, ç¼ºç‚¹æ˜¯éœ€è¦é¢å¤–çš„ç©ºé—´æ¶ˆè€—

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): é‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶, éœ€è¦å†åˆ¤æ–­ä¸¤æ¬¡, æ‰€ä»¥æ€»æ—¶é—´æ˜¯ O(2N) = O(N)
- ç©ºé—´å¤æ‚åº¦ O(N): é€’å½’çš„æ ˆçš„æ¶ˆè€—

#### ä»£ç 

##### Python 3

```python
class Solution:
    def validPalindrome(self, s: str) -> bool:
        def check(b, e, canDelete):
            if b >= e:
                return True
            if s[b] == s[e]:
                return check(b + 1, e - 1, canDelete)
            elif canDelete:
                # è¿˜æœ‰ä¸€æ¬¡åˆ é™¤æœºä¼š, å·¦æŒ‡é’ˆå³ç§»æˆ–è€…å³æŒ‡é’ˆå·¦ç§», åŒæ—¶æ›´æ–°flagä¿è¯ä¹‹åçš„åˆ¤æ–­ä¸èƒ½å†åˆ é™¤å­—ç¬¦äº†
                return check(b + 1, e, False) or check(b, e - 1, False)
            else:
                # é‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦ä¸”ä¸èƒ½å†åˆ é™¤äº†, ç›´æ¥è¿”å›false
                return False

        return check(0, len(s) - 1, True)
```

##### C++

```c++
class Solution {
public:
    bool validPalindrome(string s) {
        function<bool(int, int, bool)> check = [&](int b, int e, bool canDelete) {
            while (b < e && s[b] == s[e]) {
                ++b;
                --e;
            }

            if (b >= e) {
                return true;
            }

            if (!canDelete) {
                return false;
            }

            return check(b + 1, e, false) || check(b, e - 1, false);
        };

        return check(0, s.size() - 1, true);
    }
};
```

### æ–¹æ¡ˆ 2

#### æ€è·¯

- å›é¡¾æ–¹æ¡ˆ 1, æˆ‘ä»¬æ˜¯æŠŠè¿­ä»£åšæ³•çš„åŒæŒ‡é’ˆæ”¹æˆäº†é€’å½’ç‰ˆæœ¬, é‚£å¯ä¸å¯ä»¥ç»§ç»­è¿­ä»£æå®šå‘¢? è¿™æ ·å°±ä¸éœ€è¦é€’å½’çš„æ ˆçš„ç©ºé—´æ¶ˆè€—äº†.
- ç­”æ¡ˆä¹Ÿæ˜¯è‚¯å®šçš„, æˆ‘ä»¬å¯ä»¥æŠŠåœ¨ä¸èƒ½åˆ é™¤å­—ç¬¦å‰æä¸‹çš„åˆ¤æ–­å›æ–‡çš„åŒæŒ‡é’ˆç®—æ³•ç»™æå–å‡ºæ¥
- ç„¶åä»ä¸¤è¾¹å¼€å§‹å¾€ä¸­é—´éå†, é‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶å°±å…ˆåå°†ä¸¤è¾¹çš„æŒ‡é’ˆå„å¾€ä¸­é—´ç§»åŠ¨ä¸€ä½, å¯¹å‰©ä¸‹çš„ä¸¤ä¸ªå­å­—ç¬¦ä¸²è°ƒç”¨é‚£ä¸ªç®—æ³•, å¦‚æœæœ‰ä¸€è¾¹æ˜¯å›æ–‡, åˆ™è¯´æ˜ç¬¦åˆè¦æ±‚
- è¯¥æ–¹æ¡ˆä¼˜ç‚¹æ˜¯ç©ºé—´å¤æ‚åº¦æ›´å°, ä½†ç¼ºç‚¹æ˜¯ä»£ç æ²¡æœ‰æ–¹æ¡ˆ 1 ç®€æ´

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): é‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶, éœ€è¦å†åˆ¤æ–­ä¸¤æ¬¡, æ‰€ä»¥æ€»æ—¶é—´æ˜¯ O(2N) = O(N)
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

#### ä»£ç 

##### Python 3

```python
class Solution:
    def validPalindrome(self, s: str) -> bool:
        b = 0
        e = len(s) - 1

        def isPalindrome(b, e):
            while b < e:
                if s[b] == s[e]:
                    b += 1
                    e -= 1
                else:
                    return False
            return True

        while b < e:
            if s[b] == s[e]:
                b += 1
                e -= 1
            else:
                return isPalindrome(b + 1, e) or isPalindrome(b, e - 1)
        return True
```

##### C++

```c++
class Solution {
public:
    bool validPalindrome(string s) {
        auto isPalindrome = [&](int b, int e) {
            for(; b < e; ++b, --e) {
                if (s[b] != s[e]) {
                    return false;
                }
            }
            return true;
        };

        int b = 0;
        int e = s.size() - 1;

        while (b < e && s[b] == s[e]) {
            ++b;
            --e;
        }

        if (b >= e) {
            return true;
        }

        return isPalindrome(b + 1, e) || isPalindrome(b, e - 1);
    }
};
```

### æ–¹æ¡ˆ 3

#### æ€è·¯

- ç°åœ¨æ€è€ƒæ‰©å±•é—®é¢˜: `æœ€å¤šå¯ä»¥åˆ é™¤ k ä¸ªå­—ç¬¦æ—¶åˆ¤æ–­èƒ½å¦æˆå›æ–‡`
- å½“ k æ¯”è¾ƒå°çš„æ—¶å€™(<10)
  - æ­¤æ—¶æˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­åˆ©ç”¨æ–¹æ¡ˆ 1, å¯ä»¥æŠŠ flag æ”¹æˆä¸€ä¸ªè®¡æ•°å™¨, åˆå§‹åŒ–ä¸º k, æ¯æ¬¡åˆ é™¤ä¸€ä¸ªå­—ç¬¦åè®¡æ•°å™¨å‡ 1, ç›´åˆ°è®¡æ•°å™¨ä¸º 0 å°±ä¸èƒ½åˆ é™¤äº†.
  - ä½†æ˜¯å¦‚æœ k æ¯”è¾ƒå¤§çš„æ—¶å€™è¿™ç§æ–¹æ¡ˆå°±ä¸å¯è¡Œäº†, å› ä¸ºæ¯æ¬¡è®¡æ•°-1 æ—¶éƒ½è¦è€ƒè™‘å·¦æˆ–è€…å³æŒ‡é’ˆç§»åŠ¨çš„æƒ…å†µ, å³æœ‰ 2 ç§é€‰æ‹©, æ€»å…±ä¼šæœ‰ 2^k ä¸ªé€‰æ‹©
- å½“ k æ¯”è¾ƒå¤§çš„æ—¶å€™
  - è¿™æ—¶å€™çš„ç“¶é¢ˆåœ¨ k è€Œä¸åœ¨ n, é‚£æˆ‘ä»¬å®Œå…¨å¯ä»¥æ¢ä¸€ç§æ€è·¯.
  - ä»åŸå­—ç¬¦ä¸²åˆ é™¤æŸäº›å­—ç¬¦, å…¶å®ç­‰ä»·äºæ‰¾åŸå­—ç¬¦ä¸²çš„å­åºåˆ—
  - é‚£ä¹ˆå¦‚æœæˆ‘ä»¬èƒ½**æ‰¾å‡ºåŸå§‹å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­åºåˆ—**, ç„¶åæ¯”è¾ƒåŸå§‹é•¿åº¦ n å’Œå®ƒçš„é•¿åº¦ä¹‹å·®æ˜¯å¦å°äºç­‰äº k, æ˜¯çš„è¯åˆ™è¯´æ˜å¯ä»¥åˆ é™¤ä¸¤è€…é•¿åº¦å·®ä¸ªå­—ç¬¦ä½¿å¾—ç”Ÿæˆçš„å­—ç¬¦ä¸²å­åºåˆ—å›æ–‡
  - æ‰¾æœ€é•¿å›æ–‡å­åºåˆ—å¯ä»¥å‚è€ƒ[516. æœ€é•¿å›æ–‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-palindromic-subsequence/), å±äºç»å…¸çš„äºŒç»´åŠ¨æ€è§„åˆ’é—®é¢˜, å¤§è‡´æ€è·¯å°±æ˜¯ dp[b,e]è¡¨ç¤º[b,e]åŒºé—´å†…çš„æœ€é•¿å›æ–‡å­åºåˆ—, è½¬ç§»æ–¹ç¨‹æ ¹æ® s[b]å’Œ s[e]æ˜¯å¦ç›¸ç­‰åˆ†ä¸¤ç§æƒ…å†µ, æ­¤å¤„å°±ä¸èµ˜è¿°äº†, æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å°è¯•å†™ä¸‹ä»£ç ~

#### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦
  - å¦‚æœç»§ç»­åˆ©ç”¨æ–¹æ¡ˆ 1 çš„æ€è·¯, æ¯æ¬¡å¯¹è®¡æ•°å™¨ -1 æ—¶éƒ½è¦è¿›è¡Œ 2 æ¬¡é€‰æ‹©, æ€»å…±å°±æ˜¯ 2^k æ¬¡é€‰æ‹©, æ¯æ¬¡åˆ¤æ–­å›æ–‡è¦ O(N), æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N\*2^k)
  - å¦‚æœåˆ©ç”¨æœ€é•¿å›æ–‡å­åºåˆ—çš„æ€è·¯, åˆ™äºŒç»´åŠ¨æ€è§„åˆ’éœ€è¦ä¸¤é‡å¾ªç¯, æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N^2)
- ç©ºé—´å¤æ‚åº¦
  - æ–¹æ¡ˆ 1 æ€è·¯ä»ç„¶ä¸º O(N), é€’å½’çš„æ ˆçš„æ¶ˆè€—
  - æœ€é•¿å›æ–‡å­åºåˆ—çš„æ€è·¯æ˜¯ O(N^2), dp æ•°ç»„çš„æ¶ˆè€—

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ç®€ä¹¦](https://www.jianshu.com/u/3a17f1fdfd67)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
