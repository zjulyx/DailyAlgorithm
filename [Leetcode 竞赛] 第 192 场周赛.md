> [ç«èµ›é“¾æ¥](https://leetcode-cn.com/contest/weekly-contest-192/)

> æ–°é²œå‡ºç‚‰ä»Šå¤©çš„å‘¨èµ›, ä¸Šå‘¨å‘¨æœ«å‡ºå»ç©äº†æ‰€ä»¥æ²¡æœ‰æ›´æ–°, è¿™å‘¨é‡æ–°æ¢å¤ ğŸ˜…

> è¿™åœºå‘¨èµ›æ„Ÿè§‰éš¾åº¦é€‚ä¸­, æˆ‘çš„å‘æŒ¥ä¹Ÿä¸é”™, æœ€ç»ˆæ’åˆ°äº† 23 å, å¯èƒ½é¢˜ç›®ä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒç†Ÿæ‚‰çš„ç±»å‹å§

# [1470] é‡æ–°æ’åˆ—æ•°ç»„

> é¢˜ç›®éš¾åº¦: ç®€å•

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/contest/weekly-contest-192/problems/shuffle-the-array/)

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums ï¼Œæ•°ç»„ä¸­æœ‰ 2n ä¸ªå…ƒç´ ï¼ŒæŒ‰ [x1,x2,...,xn,y1,y2,...,yn] çš„æ ¼å¼æ’åˆ—ã€‚

è¯·ä½ å°†æ•°ç»„æŒ‰ [x1,y1,x2,y2,...,xn,yn] æ ¼å¼é‡æ–°æ’åˆ—ï¼Œè¿”å›é‡æ’åçš„æ•°ç»„ã€‚

- 1 <= n <= 500
- nums.length == 2n
- 1 <= nums[i] <= 10^3

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

nums = [2,5,1,3,4,7], n = 3

#### è¾“å‡º

[2,3,5,4,1,7]

#### è§£é‡Š

ç”±äº x1=2, x2=5, x3=1, y1=3, y2=4, y3=7 ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º [2,3,5,4,1,7]

### ç¤ºä¾‹ 2

#### è¾“å…¥

nums = [1,2,3,4,4,3,2,1], n = 4

#### è¾“å‡º

[1,4,2,3,3,2,4,1]

### ç¤ºä¾‹ 3

#### è¾“å…¥

nums = [1,1,2,2], n = 2

#### è¾“å‡º

[1,2,1,2]

## é¢˜ç›®æ€è€ƒ

1. æ²¡å•¥å¥½è¯´çš„, è¯»æ‡‚é¢˜æ„åç›´æ¥æ¨¡æ‹Ÿå§..

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- éå†æ•°ç»„, æŒ‰ç…§éœ€æ±‚æ„é€ ç»“æœæ•°ç»„å³å¯

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(N): åªéœ€éå†æ•°ç»„ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ O(1) æˆ– O(N): æ„é€ æ–°çš„ç»“æœæ•°ç»„çš„è¯å°±æ˜¯ O(N), å¦‚æœåŸåœ°ä¿®æ”¹å°±æ˜¯ O(1)

### ä»£ç 

#### Python 3

```python
class Solution:
    def shuffle(self, nums: List[int], n: int) -> List[int]:
        res = []
        for i in range(n):
            res.append(nums[i])
            res.append(nums[i + n])
        return res
```

#### C++

```cpp
class Solution
{
public:
    vector<int> shuffle(vector<int> &nums, int n)
    {
        auto res = vector<int>();
        for (int i = 0; i < n; ++i)
        {
            res.push_back(nums[i]);
            res.push_back(nums[i + n]);
        }
        return res;
    }
};
```

---

# [1471] æ•°ç»„ä¸­çš„ k ä¸ªæœ€å¼ºå€¼

> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/contest/weekly-contest-192/problems/the-k-strongest-values-in-an-array/)

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr å’Œä¸€ä¸ªæ•´æ•° k ã€‚

è®¾ m ä¸ºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œåªè¦æ»¡è¶³ä¸‹è¿°ä¸¤ä¸ªå‰æä¹‹ä¸€ï¼Œå°±å¯ä»¥åˆ¤å®š arr[i] çš„å€¼æ¯” arr[j] çš„å€¼æ›´å¼ºï¼š

- |arr[i] - m| > |arr[j] - m|
- |arr[i] - m| == |arr[j] - m|ï¼Œä¸” arr[i] > arr[j]

è¯·è¿”å›ç”±æ•°ç»„ä¸­æœ€å¼ºçš„ k ä¸ªå€¼ç»„æˆçš„åˆ—è¡¨ã€‚ç­”æ¡ˆå¯ä»¥ä»¥ ä»»æ„é¡ºåº è¿”å›ã€‚

ä¸­ä½æ•° æ˜¯ä¸€ä¸ªæœ‰åºæ•´æ•°åˆ—è¡¨ä¸­å¤„äºä¸­é—´ä½ç½®çš„å€¼ã€‚å½¢å¼ä¸Šï¼Œå¦‚æœåˆ—è¡¨çš„é•¿åº¦ä¸º n ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯è¯¥æœ‰åºåˆ—è¡¨ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ä¸­ä½äº ((n - 1) / 2) çš„å…ƒç´ ã€‚

- ä¾‹å¦‚ arr = [6, -3, 7, 2, 11]ï¼Œn = 5ï¼šæ•°ç»„æ’åºåå¾—åˆ° arr = [-3, 2, 6, 7, 11] ï¼Œæ•°ç»„çš„ä¸­é—´ä½ç½®ä¸º m = ((5 - 1) / 2) = 2 ï¼Œä¸­ä½æ•° arr[m] çš„å€¼ä¸º 6 ã€‚
- ä¾‹å¦‚ arr = [-7, 22, 17,â€‰3]ï¼Œn = 4ï¼šæ•°ç»„æ’åºåå¾—åˆ° arr = [-7, 3, 17, 22] ï¼Œæ•°ç»„çš„ä¸­é—´ä½ç½®ä¸º m = ((4 - 1) / 2) = 1 ï¼Œä¸­ä½æ•° arr[m] çš„å€¼ä¸º 3 ã€‚

- 1 <= arr.length <= 10^5
- -10^5 <= arr[i] <= 10^5
- 1 <= k <= arr.length

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

arr = [1,2,3,4,5], k = 2

#### è¾“å‡º

[5, 1]

#### è§£é‡Š

- ä¸­ä½æ•°ä¸º 3ï¼ŒæŒ‰ä»å¼ºåˆ°å¼±é¡ºåºæ’åºåï¼Œæ•°ç»„å˜ä¸º [5,1,4,2,3]ã€‚æœ€å¼ºçš„ä¸¤ä¸ªå…ƒç´ æ˜¯ [5, 1]ã€‚[1, 5] ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚
- æ³¨æ„ï¼Œå°½ç®¡ |5 - 3| == |1 - 3| ï¼Œä½†æ˜¯ 5 æ¯” 1 æ›´å¼ºï¼Œå› ä¸º 5 > 1 ã€‚

### ç¤ºä¾‹ 2

#### è¾“å…¥

arr = [1,1,3,5,5], k = 2

#### è¾“å‡º

[5, 5]

#### è§£é‡Š

ä¸­ä½æ•°ä¸º 3, æŒ‰ä»å¼ºåˆ°å¼±é¡ºåºæ’åºåï¼Œæ•°ç»„å˜ä¸º [5,5,1,1,3]ã€‚æœ€å¼ºçš„ä¸¤ä¸ªå…ƒç´ æ˜¯ [5, 5]ã€‚

### ç¤ºä¾‹ 3

#### è¾“å…¥

arr = [6,7,11,7,6,8], k = 5

#### è¾“å‡º

[11,8,6,6,7]

## é¢˜ç›®æ€è€ƒ

1. å¦‚ä½•æ±‚æœ€å¼º?
2. éœ€è¦æ±‚æœ€å¼ºçš„ k ä¸ªå€¼, ä½ æƒ³åˆ°äº†å“ªäº›æ–¹æ³•?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- é¦–å…ˆæ’åºæ±‚ä¸­ä½æ•° (ä¹Ÿå¯ä»¥ä½¿ç”¨åŸºäºå¿«æ’æ€æƒ³çš„å¿«é€Ÿé€‰æ‹©æ¥æ±‚, æ‰¾ä»å°åˆ°å¤§ç¬¬`((n - 1) / 2)`ä¸ªå…ƒç´ , é™åˆ° O(N))
- ç„¶åæ ¹æ®æ›´å¼ºçš„å®šä¹‰, å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ¯”è¾ƒæ–¹æ³•, å°†æ•°ç»„å†æ¬¡æ’åº
- æœ€åå–æœ€å¼ºçš„ k ä¸ªå³å¯ (ä¹Ÿå¯ä»¥ä½¿ç”¨å †(O(NlogK))/å¿«é€Ÿé€‰æ‹©(O(N))ç­‰, æœ€å¤§ k çš„é—®é¢˜å¤§å®¶å¯ä»¥ç›´æ¥å‚è€ƒè¿™é“é¢˜çš„[å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/zui-xiao-de-kge-shu-by-leetcode-solution/), æˆ‘è§‰å¾—å†™çš„å¾ˆå¥½å¾ˆå…¨äº†)
- è¿™é“é¢˜å› ä¸ºæ•°æ®è§„æ¨¡ä¸å¤§, æˆ‘å°±é‡‡ç”¨äº†æœ€åŸºç¡€çš„æ’åºæ³•, å› ä¸ºä»£ç é‡å°‘äº†å¾ˆå¤š ğŸ˜‚ æ„Ÿå…´è¶£çš„åŒå­¦ä¹Ÿå¯ä»¥è‡ªå·±å°è¯•å‰©ä¸‹çš„æ±‚æœ€å¤§ k çš„åšæ³•

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦: æ’åºæ³•ç®€å•, ä»£ç ç®€æ´, ä½†éœ€è¦ O(NlogN); å¿«é€Ÿé€‰æ‹©æ³•é€Ÿåº¦å¿«, ä½†ä»£ç æ›´é•¿, éœ€è¦ O(N)
- ç©ºé—´å¤æ‚åº¦ O(1): åªä½¿ç”¨äº†å‡ ä¸ªå˜é‡

### ä»£ç 

#### Python 3

```python
class Solution:
    def getStrongest(self, arr: List[int], k: int) -> List[int]:
        n = len(arr)
        # å…ˆæ’åºæ±‚ä¸­ä½æ•°
        arr = sorted(arr)
        mid = arr[(n - 1) // 2]

        def mykey(x):
            # è‡ªå®šä¹‰æœ€å¼ºæ’åºçš„keyå‡½æ•°
            # æ³¨æ„py 3ä¸åŒäºå…¶ä»–è¯­è¨€çš„ä¼ å…¥ä¸¤ä¸ªå‚æ•°çš„è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
            # æ­¤å¤„çš„æ„æ€ä»£è¡¨å…ˆæŒ‰ç…§abså‡åºæ’åˆ—, ç›¸ç­‰æƒ…å†µä¸‹å†æŒ‰ç…§è‡ªèº«çš„å€¼çš„å‡åºæ’åˆ—
            return (abs(x - mid), x)

        # æŒ‰ç…§æœ€å¼ºæ’åºåå–æœ€åçš„kä¸ªå³ä¸ºæ‰€æ±‚
        arr = sorted(arr, key=mykey)
        return arr[n - k:]
```

#### C++

```cpp
class Solution
{
public:
    vector<int> getStrongest(vector<int> &arr, int k)
    {
        auto n = arr.size();
        sort(arr.begin(), arr.end());
        auto mid = arr[(n - 1) / 2];
        sort(arr.begin(), arr.end(), [&](int x, int y) -> bool { return abs(x - mid) < abs(y - mid) || abs(x - mid) == abs(y - mid) && x < y; });
        return vector<int>(arr.begin() + n - k, arr.end());
    }
};
```

---

# [1472] è®¾è®¡æµè§ˆå™¨å†å²è®°å½•

> é¢˜ç›®éš¾åº¦: ä¸­ç­‰

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/contest/weekly-contest-192/problems/design-browser-history/)

## é¢˜ç›®æè¿°

ä½ æœ‰ä¸€ä¸ªåªæ”¯æŒå•ä¸ªæ ‡ç­¾é¡µçš„ æµè§ˆå™¨ ï¼Œæœ€å¼€å§‹ä½ æµè§ˆçš„ç½‘é¡µæ˜¯ homepage ï¼Œä½ å¯ä»¥è®¿é—®å…¶ä»–çš„ç½‘ç«™ url ï¼Œä¹Ÿå¯ä»¥åœ¨æµè§ˆå†å²ä¸­åé€€ steps æ­¥æˆ–å‰è¿› steps æ­¥ã€‚

è¯·ä½ å®ç° BrowserHistory ç±»ï¼š

- BrowserHistory(string homepage) ï¼Œç”¨ homepage åˆå§‹åŒ–æµè§ˆå™¨ç±»ã€‚
- void visit(string url) ä»å½“å‰é¡µè·³è½¬è®¿é—® url å¯¹åº”çš„é¡µé¢ ã€‚æ‰§è¡Œæ­¤æ“ä½œä¼šæŠŠæµè§ˆå†å²å‰è¿›çš„è®°å½•å…¨éƒ¨åˆ é™¤ã€‚
- string back(int steps) åœ¨æµè§ˆå†å²ä¸­åé€€ steps æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­åé€€è‡³å¤š x æ­¥ä¸” steps > x ï¼Œé‚£ä¹ˆä½ åªåé€€ x æ­¥ã€‚è¯·è¿”å›åé€€ è‡³å¤š steps æ­¥ä»¥åçš„ url ã€‚
- string forward(int steps) åœ¨æµè§ˆå†å²ä¸­å‰è¿› steps æ­¥ã€‚å¦‚æœä½ åªèƒ½åœ¨æµè§ˆå†å²ä¸­å‰è¿›è‡³å¤š x æ­¥ä¸” steps > x ï¼Œé‚£ä¹ˆä½ åªå‰è¿› x æ­¥ã€‚è¯·è¿”å›å‰è¿› è‡³å¤š steps æ­¥ä»¥åçš„ url ã€‚

- 1 <= homepage.length <= 20
- 1 <= url.length <= 20
- 1 <= steps <= 100
- homepage å’Œ url éƒ½åªåŒ…å« '.' æˆ–è€…å°å†™è‹±æ–‡å­—æ¯ã€‚
- æœ€å¤šè°ƒç”¨ 5000 æ¬¡ visitï¼Œ back å’Œ forward å‡½æ•°ã€‚

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹

#### è¾“å…¥

- ["BrowserHistory","visit","visit","visit","back","back","forward","visit","forward","back","back"]
- [["leetcode.com"],["google.com"],["facebook.com"],["youtube.com"],[1],[1],[1],["linkedin.com"],[2],[2],[7]]

#### è¾“å‡º

[null,null,null,null,"facebook.com","google.com","facebook.com",null,"linkedin.com","google.com","leetcode.com"]

#### è§£é‡Š

- BrowserHistory browserHistory = new BrowserHistory("leetcode.com");
- browserHistory.visit("google.com"); // ä½ åŸæœ¬åœ¨æµè§ˆ "leetcode.com" ã€‚è®¿é—® "google.com"
- browserHistory.visit("facebook.com"); // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com" ã€‚è®¿é—® "facebook.com"
- browserHistory.visit("youtube.com"); // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ã€‚è®¿é—® "youtube.com"
- browserHistory.back(1); // ä½ åŸæœ¬åœ¨æµè§ˆ "youtube.com" ï¼Œåé€€åˆ° "facebook.com" å¹¶è¿”å› "facebook.com"
- browserHistory.back(1); // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ï¼Œåé€€åˆ° "google.com" å¹¶è¿”å› "google.com"
- browserHistory.forward(1); // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com" ï¼Œå‰è¿›åˆ° "facebook.com" å¹¶è¿”å› "facebook.com"
- browserHistory.visit("linkedin.com"); // ä½ åŸæœ¬åœ¨æµè§ˆ "facebook.com" ã€‚ è®¿é—® "linkedin.com"
- browserHistory.forward(2); // ä½ åŸæœ¬åœ¨æµè§ˆ "linkedin.com" ï¼Œä½ æ— æ³•å‰è¿›ä»»ä½•æ­¥æ•°ã€‚
- browserHistory.back(2); // ä½ åŸæœ¬åœ¨æµè§ˆ "linkedin.com" ï¼Œåé€€ä¸¤æ­¥ä¾æ¬¡å…ˆåˆ° "facebook.com" ï¼Œç„¶ååˆ° "google.com" ï¼Œå¹¶è¿”å› "google.com"
- browserHistory.back(7); // ä½ åŸæœ¬åœ¨æµè§ˆ "google.com"ï¼Œ ä½ åªèƒ½åé€€ä¸€æ­¥åˆ° "leetcode.com" ï¼Œå¹¶è¿”å› "leetcode.com"

## é¢˜ç›®æ€è€ƒ

1. è¿™é“é¢˜å¥½è´´è¿‘å®é™…ç”Ÿæ´», æ ¹æ®é¢˜ç›®æè¿°, éœ€è¦å“ªäº›æ•°æ®ç»“æ„å’Œå˜é‡?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- è¿™é“é¢˜ç‰¹åˆ«åƒè®¾è®¡æ¨¡å¼ä¸­çš„æ”¯æŒæ’¤é”€å’Œé‡è¯•çš„å‘½ä»¤æ¨¡å¼, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ€è·¯
- ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªä¸‹æ ‡, åˆ—è¡¨è®°å½•å½“å‰æŒ‰ç…§é¡ºåºçš„æ‰€æœ‰ç½‘é¡µ, ä¸‹æ ‡è®°å½•å½“å‰æ­£åœ¨è®¿é—®çš„ç½‘é¡µ
- visit çš„æ—¶å€™éœ€è¦æ¸…ç©ºå½“å‰ä¸‹æ ‡ä¹‹åçš„æ‰€æœ‰ç½‘é¡µ, ç„¶åå†æŠŠå½“å‰ç½‘é¡µåŠ è¿›å»
- back å’Œ forward çš„æ—¶å€™å°±æ˜¯ç§»åŠ¨ä¸‹æ ‡å‘åæˆ–è€…å‘å‰, æ³¨æ„ä¸èƒ½è¶…è¿‡åˆ—è¡¨èŒƒå›´

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(1): æ¯ç§æ“ä½œçš„å‡æ‘Šå¤æ‚åº¦ä¸º O(1). æ˜¾ç„¶ back å’Œ forward æ˜¯ O(1); visit è™½ç„¶æœ‰å¾ªç¯ pop æ“ä½œ, ä½†æ˜¯æ¯ä¸ªç½‘é¡µåªä¼šè¢« pop ä¸€æ¬¡, æ ¹æ®æ‘Šè¿˜åˆ†æ, å‡è®¾å†å²ä¸Šä¸€å…±è®¿é—®è¿‡ N ä¸ªç½‘é¡µ, é‚£ä¹ˆæ€» pop æ¬¡æ•°ä¸º O(N), åˆ†æ‘Šä¸‹æ¥çš„æ¯ä¸ªæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(1)
- ç©ºé—´å¤æ‚åº¦ O(N): ä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨å­˜å‚¨æ‰€æœ‰ç½‘é¡µ

### ä»£ç 

#### Python 3

```python
class BrowserHistory:
    def __init__(self, homepage: str):
        # åˆå§‹åŒ–è®¿é—®ä¸»é¡µ, ä¸‹æ ‡ä¸º0
        self.q = [homepage]
        self.i = 0

    def visit(self, url: str) -> None:
        # ç§»é™¤å½“å‰ç½‘é¡µåé¢çš„æ‰€æœ‰ç½‘é¡µ
        while self.i < len(self.q) - 1:
            self.q.pop()
        self.q.append(url)
        self.i += 1

    def back(self, steps: int) -> str:
        # æ–°çš„ä¸‹æ ‡è¦å¤§äºç­‰äº0
        self.i = max(0, self.i - steps)
        return self.q[self.i]

    def forward(self, steps: int) -> str:
        # æ–°çš„ä¸‹æ ‡è¦å°äºåˆ—è¡¨é•¿åº¦
        self.i = min(len(self.q) - 1, self.i + steps)
        return self.q[self.i]
```

#### C++

```cpp
class BrowserHistory
{
public:
    BrowserHistory(string homepage)
    {
        q.push_back(homepage);
        i = 0;
    }

    void visit(string url)
    {
        while (i < q.size() - 1)
        {
            q.pop_back();
        }
        q.push_back(url);
        ++i;
    }

    string back(int steps)
    {
        i = max(0, i - steps);
        return q[i];
    }

    string forward(int steps)
    {
        i = min(int(q.size()) - 1, i + steps);
        return q[i];
    }

private:
    vector<string> q;
    int i;
};
```

---

# [1473] ç»™æˆ¿å­æ¶‚è‰² III

> é¢˜ç›®éš¾åº¦: å›°éš¾

> [åŸé¢˜é“¾æ¥](https://leetcode-cn.com/contest/weekly-contest-192/problems/paint-house-iii/)

## é¢˜ç›®æè¿°

åœ¨ä¸€ä¸ªå°åŸå¸‚é‡Œï¼Œæœ‰ m ä¸ªæˆ¿å­æ’æˆä¸€æ’ï¼Œä½ éœ€è¦ç»™æ¯ä¸ªæˆ¿å­æ¶‚ä¸Š n ç§é¢œè‰²ä¹‹ä¸€ï¼ˆé¢œè‰²ç¼–å·ä¸º 1 åˆ° n ï¼‰ã€‚æœ‰çš„æˆ¿å­å»å¹´å¤å¤©å·²ç»æ¶‚è¿‡é¢œè‰²äº†ï¼Œæ‰€ä»¥è¿™äº›æˆ¿å­ä¸éœ€è¦è¢«é‡æ–°æ¶‚è‰²ã€‚

æˆ‘ä»¬å°†è¿ç»­ç›¸åŒé¢œè‰²å°½å¯èƒ½å¤šçš„æˆ¿å­ç§°ä¸ºä¸€ä¸ªè¡—åŒºã€‚ï¼ˆæ¯”æ–¹è¯´ houses = [1,2,2,3,3,2,1,1] ï¼Œå®ƒåŒ…å« 5 ä¸ªè¡—åŒº [{1}, {2,2}, {3,3}, {2}, {1,1}] ã€‚ï¼‰

ç»™ä½ ä¸€ä¸ªæ•°ç»„ houses ï¼Œä¸€ä¸ª m \* n çš„çŸ©é˜µ cost å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå…¶ä¸­ï¼š

- houses[i]ï¼šæ˜¯ç¬¬ i ä¸ªæˆ¿å­çš„é¢œè‰²ï¼Œ0 è¡¨ç¤ºè¿™ä¸ªæˆ¿å­è¿˜æ²¡æœ‰è¢«æ¶‚è‰²ã€‚
- cost[i][j]ï¼šæ˜¯å°†ç¬¬ i ä¸ªæˆ¿å­æ¶‚æˆé¢œè‰² j+1 çš„èŠ±è´¹ã€‚

è¯·ä½ è¿”å›æˆ¿å­æ¶‚è‰²æ–¹æ¡ˆçš„æœ€å°æ€»èŠ±è´¹ï¼Œä½¿å¾—æ¯ä¸ªæˆ¿å­éƒ½è¢«æ¶‚è‰²åï¼Œæ°å¥½ç»„æˆ target ä¸ªè¡—åŒºã€‚å¦‚æœæ²¡æœ‰å¯ç”¨çš„æ¶‚è‰²æ–¹æ¡ˆï¼Œè¯·è¿”å› -1 ã€‚

- m == houses.length == cost.length
- n == cost[i].length
- 1 <= m <= 100
- 1 <= n <= 20
- 1 <= target <= m
- 0 <= houses[i] <= n
- 1 <= cost[i][j] <= 10^4

## é¢˜ç›®æ ·ä¾‹

### ç¤ºä¾‹ 1

#### è¾“å…¥

houses = [0,0,0,0,0], cost = [[1,10],[10,1],[10,1],[1,10],[5,1]], m = 5, n = 2, target = 3

#### è¾“å‡º

9

#### è§£é‡Š

- æˆ¿å­æ¶‚è‰²æ–¹æ¡ˆä¸º [1,2,2,1,1]
- æ­¤æ–¹æ¡ˆåŒ…å« target = 3 ä¸ªè¡—åŒºï¼Œåˆ†åˆ«æ˜¯ [{1}, {2,2}, {1,1}]ã€‚
- æ¶‚è‰²çš„æ€»èŠ±è´¹ä¸º (1 + 1 + 1 + 1 + 5) = 9ã€‚

### ç¤ºä¾‹ 2

#### è¾“å…¥

houses = [0,2,1,2,0], cost = [[1,10],[10,1],[10,1],[1,10],[5,1]], m = 5, n = 2, target = 3

#### è¾“å‡º

11

#### è§£é‡Š

- æœ‰çš„æˆ¿å­å·²ç»è¢«æ¶‚è‰²äº†ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ¶‚è‰²æ–¹æ¡ˆä¸º [2,2,1,2,2]
- æ­¤æ–¹æ¡ˆåŒ…å« target = 3 ä¸ªè¡—åŒºï¼Œåˆ†åˆ«æ˜¯ [{2,2}, {1}, {2,2}]ã€‚
- ç»™ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæˆ¿å­æ¶‚è‰²çš„èŠ±è´¹ä¸º (10 + 1) = 11ã€‚

### ç¤ºä¾‹ 3

#### è¾“å…¥

houses = [3,1,2,3], cost = [[1,1,1],[1,1,1],[1,1,1],[1,1,1]], m = 4, n = 3, target = 3

#### è¾“å‡º

-1

## é¢˜ç›®æ€è€ƒ

1. è§‚å¯Ÿæ•°æ®è§„æ¨¡, æˆ¿å­/é¢œè‰²/è¡—åŒºæ•°ç›®éƒ½å¾ˆå°, å°±ç®—æŠŠå®ƒä»¬æ¯ä¸ªéƒ½å½“ä½œä¸€ç»´çŠ¶æ€ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„
2. æ‰€ä»¥å¯ä»¥å°è¯•åŠ¨æ€è§„åˆ’çš„æ€è·¯å—?
3. éœ€è¦åˆ†ä¸ºå‡ ç§æƒ…å†µ?

## è§£å†³æ–¹æ¡ˆ

### æ€è·¯

- **åˆ†æ**
  - è¿™ç§æœ‰å¤šä¸ªå˜é‡çš„é—®é¢˜, å¦‚æœå…¶æ•°ç›®è§„æ¨¡ç›¸ä¹˜ä»ç„¶æ˜¯åˆç†èŒƒå›´çš„æ—¶å€™, æˆ‘ä»¬å°±å¯ä»¥å°è¯•å¤šç»´åŠ¨æ€è§„åˆ’
- **æ¨å¯¼**
  - è®¾ `dp[i,j,b]` è¡¨ç¤ºç¬¬ i ä¸ªæˆ¿å­, æ¶‚æˆ j é¢œè‰², ç»„æˆ b ä¸ª block çš„æœ€å°èŠ±è´¹
  - é‚£ä¹ˆç»“æœå°±æ˜¯ `min(dp[m-1,x,target]) (1<=x<=n)`
  - æ ¹æ®é¢˜ç›®æè¿°, æ¯ä¸ªæˆ¿å­çš„åˆå§‹çŠ¶æ€æ˜¯æœ‰ 2 ç§:
    1. åˆå§‹é¢œè‰²ä¸º 0, é‚£ä¹ˆå¯ä»¥è¢«æ¶‚è‰², åŠ èŠ±è´¹
    2. åˆå§‹é¢œè‰²ä¸ä¸º 0, é‚£ä¹ˆé¢œè‰²ä¸èƒ½å˜, ä¹Ÿä¸éœ€è¦åŠ èŠ±è´¹
  - åˆ©ç”¨è¿™ä¸¤ä¸ªæ¡ä»¶, æˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    1. å¦‚æœå½“å‰æˆ¿å­ i çš„åˆå§‹é¢œè‰²ä¸º 0, é‚£ä¹ˆå®ƒå¯ä»¥è¢«æ¶‚ 1~n çš„ä»»æ„é¢œè‰², æ³¨æ„éœ€è¦è€ƒè™‘å½“å‰é¢œè‰²å’Œå‰ä¸€ä¸ªæˆ¿å­çš„é¢œè‰²æ˜¯å¦ç›¸ç­‰, ç›¸ç­‰çš„è¯è¡—åŒº b å°±ä¸èƒ½+1, ä¸ç­‰æ‰å¯ä»¥. æ‰€ä»¥è½¬ç§»æ–¹ç¨‹å°±æ˜¯ `dp[i,j,b] = min(dp[i-1,jj,b-1]+cost[i][j], dp[i-1,j,b]+cost[i][j]) (1<=jj<=n ä¸” jj!=j)`
    2. å¦‚æœå½“å‰æˆ¿å­ i çš„åˆå§‹é¢œè‰²ä¸ä¸º 0, é‚£ä¹ˆå®ƒåªèƒ½ä¿æŒå½“å‰é¢œè‰²äº†, ä¸”ä¸éœ€è¦é¢å¤–èŠ±è´¹. å®ƒçš„è½¬ç§»æ–¹ç¨‹ç®€å•ä¸€äº›: `dp[i,houses[i],b] = min(dp[i-1,jj,b-1], dp[i-1,houses[i],b]) (1<=jj<=n ä¸” jj!=houses[i])`
  - è€Œåˆå§‹åŒ–åªéœ€è¦åˆ¤æ–­ç¬¬ 0 ä¸ªæˆ¿å­çš„åˆå§‹é¢œè‰², åˆ©ç”¨ä¸Šè¿°è½¬ç§»æ–¹ç¨‹å³å¯
  - æœ‰äº†åˆå§‹åŒ–å’Œè½¬ç§»æ–¹ç¨‹, æˆ‘ä»¬å°±å¯ä»¥å¾ªç¯å¾—åˆ°æœ€ç»ˆè¦æ±‚çš„ç»“æœäº†
- **å®ç°**
  - ä¸‹é¢ä»£ç ä¸­å¯¹ä¸Šè¿°è½¬ç§»è¿‡ç¨‹è¿›è¡Œäº†åˆå¹¶, é¿å…äº†ä¸€äº›å†—ä½™åˆ¤æ–­, ä¸”æ¯ä¸ªæ ¸å¿ƒæ­¥éª¤æœ‰è¯¦ç»†çš„æ³¨é‡Š, å¸®åŠ©å¤§å®¶ç†è§£

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ O(MMNN): éœ€è¦éå†å½“å‰æˆ¿å­/é¢œè‰²(MN), ä»¥åŠå†…å±‚çš„å‰ä¸€ä¸ªæˆ¿å­çš„è¡—åŒº/é¢œè‰²(MN) (å¦‚æœæœ‰æ›´ä¼˜è§£æ¬¢è¿æŒ‡å‡º~ æ¯”èµ›çš„æ—¶å€™æˆ‘æƒ³åˆ°çš„å°±æ˜¯ä¸Šé¢è¿™ä¸ªæ€è·¯)
- ç©ºé—´å¤æ‚åº¦ O(MMN): ä¸‰ç»´ DP æ•°ç»„, ä¸¤ä¸ªç»´åº¦é•¿åº¦æ˜¯ M(æˆ¿å­ä¸‹æ ‡, è¡—åŒºæ•°)

### ä»£ç 

#### Python 3

```python
class Solution:
    def minCost(self, houses: List[int], cost: List[List[int]], m: int, n: int,
                target: int) -> int:
        dp = collections.defaultdict(int)
        res = float('inf')
        for i in range(m):
            # paintè¡¨ç¤ºæ˜¯å¦éœ€è¦æ¶‚è‰²
            paint = True
            if houses[i] != 0:
                # colorsè¡¨ç¤ºå½“å‰å¯é€‰çš„é¢œè‰²
                colors = [houses[i]]
                # å·²æœ‰é¢œè‰², ä¸éœ€è¦æ¶‚è‰²
                paint = False
            else:
                colors = range(1, n + 1)
            for j in colors:
                # è®¡ç®—æ¶‚æˆå½“å‰é¢œè‰²æ—¶çš„cost, æ³¨æ„å·²æœ‰é¢œè‰²çš„æƒ…å†µä¸‹costå°±æ˜¯0
                curcost = (0 if not paint else cost[i][j - 1])
                ii = i - 1
                if i == 0:
                    # ç¬¬0å·æˆ¿å­, å‰é¢æ²¡æœ‰æˆ¿å­, æ‰€ä»¥è¡—åŒºæ•°ä¸€å®šä¸º1, èŠ±è´¹ä¹Ÿå°±æ˜¯curcost
                    dp[i, j, 1] = curcost
                    continue
                for jj in range(1, n + 1):
                    for b in range(i + 1):
                        # è¡—åŒºæ•°ä¸€å®šä¸ä¼šè¶…è¿‡å½“å‰çš„æˆ¿å­æ•°, å› ä¸ºæé™æƒ…å†µä¹Ÿæ˜¯ä¸€ä¸ªæˆ¿å­ä¸€ä¸ªè¡—åŒº
                        if (ii, jj, b) in dp:
                            # æ ¹æ®å‰ä¸€ä¸ªæˆ¿å­çš„é¢œè‰²è®¡ç®—å½“å‰çš„è¡—åŒºæ•°
                            if j == jj:
                                newb = b
                            else:
                                newb = b + 1
                            # æ›´æ–°å½“å‰dpå€¼
                            if (i, j, newb) not in dp:
                                dp[i, j, newb] = dp[ii, jj, b] + curcost
                            else:
                                dp[i, j, newb] = min(
                                    dp[i, j, newb],
                                    dp[ii, jj, b] + curcost,
                                )
                            if i == m - 1 and target == newb:
                                # æ›´æ–°æœ€ç»ˆç»“æœå€¼
                                res = min(res, dp[i, j, newb])
        # å¦‚æœæœ€ç»ˆç»“æœä»ä¸ºinfçš„è¯åˆ™è¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„æ¶‚è‰²æ–¹æ¡ˆ, è¿”å›-1
        return res if res != float('inf') else -1
```

#### C++

```cpp
class Solution
{
public:
    int minCost(vector<int> &houses, vector<vector<int>> &cost, int m, int n, int target)
    {
        // ä¸‰ç»´dpæ•°ç»„, åˆå§‹åŒ–ä¸ºæœ€å¤§int, å„ä¸ªç»´åº¦çš„é•¿åº¦ç•¥å¤§äºæœ€å¤§mæˆ–nå³å¯
        auto dp = vector<vector<vector<int>>>(102, vector<vector<int>>(22, vector<int>(102, INT_MAX)));
        int res = INT_MAX;
        vector<int> allcolors;
        for (int i = 0; i < m; ++i)
        {
            bool paint = true;
            // è¿™é‡Œæ”¹ç”¨å­˜èµ·ç‚¹å’Œç»ˆç‚¹
            int startcolor = 1;
            int endcolor = n;
            if (houses[i] != 0)
            {
                startcolor = endcolor = houses[i];
                paint = false;
            }
            for (int j = startcolor; j <= endcolor; ++j)
            {
                int curcost = paint ? cost[i][j - 1] : 0;
                int ii = i - 1;
                if (i == 0)
                {
                    dp[i][j][1] = curcost;
                }
                else
                {
                    for (int jj = 1; jj <= n; ++jj)
                    {
                        for (int b = 0; b <= i; ++b)
                        {
                            if (dp[ii][jj][b] != INT_MAX)
                            {
                                int newb = j == jj ? b : b + 1;
                                dp[i][j][newb] = min(dp[i][j][newb], dp[ii][jj][b] + curcost);
                                if (i == m - 1 && target == newb)
                                {
                                    res = min(res, dp[i][j][newb]);
                                }
                            }
                        }
                    }
                }
            }
        }
        return res == INT_MAX ? -1 : res;
    }
};
```

---

> å¤§å®¶å¯ä»¥åœ¨ä¸‹é¢è¿™äº›åœ°æ–¹æ‰¾åˆ°æˆ‘~ğŸ˜Š

> [æˆ‘çš„çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/c_1242508721932464128)

> [æˆ‘çš„ CSDN](https://me.csdn.net/zjulyx1993)

> [æˆ‘çš„ Leetcode](https://leetcode-cn.com/u/suibianfahui/)

> [æˆ‘çš„ç‰›å®¢ç½‘åšå®¢](https://blog.nowcoder.net/zjulyx)

> æˆ‘çš„å…¬ä¼—å·: æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜, æ¬¢è¿å¤§å®¶æ‰«ç å…³æ³¨~ğŸ˜Š

![æ¯æ—¥ç²¾é€‰ç®—æ³•é¢˜ - å¾®ä¿¡æ‰«ä¸€æ‰«å…³æ³¨æˆ‘](https://mmbiz.qpic.cn/mmbiz_jpg/1KjZicMlYPMgZWmoL4eYcs6UcfmvsetDWME2YJyaCp9oT9z3U573FWENBNhyOByxYI0epew6O37hiaOhdh90QeJg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
